(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const p of u)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function r(u){const p={};return u.integrity&&(p.integrity=u.integrity),u.referrerPolicy&&(p.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?p.credentials="include":u.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function a(u){if(u.ep)return;u.ep=!0;const p=r(u);fetch(u.href,p)}})();function pc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ju={exports:{}},As={},Ku={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf;function hm(){if(uf)return Be;uf=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),S=Symbol.iterator;function N(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,B={};function J(D,W,Ce){this.props=D,this.context=W,this.refs=B,this.updater=Ce||M}J.prototype.isReactComponent={},J.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},J.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Y(){}Y.prototype=J.prototype;function te(D,W,Ce){this.props=D,this.context=W,this.refs=B,this.updater=Ce||M}var j=te.prototype=new Y;j.constructor=te,q(j,J.prototype),j.isPureReactComponent=!0;var oe=Array.isArray,pe=Object.prototype.hasOwnProperty,he={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function Le(D,W,Ce){var we,ve={},ce=null,Ve=null;if(W!=null)for(we in W.ref!==void 0&&(Ve=W.ref),W.key!==void 0&&(ce=""+W.key),W)pe.call(W,we)&&!se.hasOwnProperty(we)&&(ve[we]=W[we]);var Ue=arguments.length-2;if(Ue===1)ve.children=Ce;else if(1<Ue){for(var Je=Array(Ue),_t=0;_t<Ue;_t++)Je[_t]=arguments[_t+2];ve.children=Je}if(D&&D.defaultProps)for(we in Ue=D.defaultProps,Ue)ve[we]===void 0&&(ve[we]=Ue[we]);return{$$typeof:i,type:D,key:ce,ref:Ve,props:ve,_owner:he.current}}function de(D,W){return{$$typeof:i,type:D.type,key:W,ref:D.ref,props:D.props,_owner:D._owner}}function Se(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function Ie(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Ce){return W[Ce]})}var Q=/\/+/g;function ue(D,W){return typeof D=="object"&&D!==null&&D.key!=null?Ie(""+D.key):W.toString(36)}function Fe(D,W,Ce,we,ve){var ce=typeof D;(ce==="undefined"||ce==="boolean")&&(D=null);var Ve=!1;if(D===null)Ve=!0;else switch(ce){case"string":case"number":Ve=!0;break;case"object":switch(D.$$typeof){case i:case e:Ve=!0}}if(Ve)return Ve=D,ve=ve(Ve),D=we===""?"."+ue(Ve,0):we,oe(ve)?(Ce="",D!=null&&(Ce=D.replace(Q,"$&/")+"/"),Fe(ve,W,Ce,"",function(_t){return _t})):ve!=null&&(Se(ve)&&(ve=de(ve,Ce+(!ve.key||Ve&&Ve.key===ve.key?"":(""+ve.key).replace(Q,"$&/")+"/")+D)),W.push(ve)),1;if(Ve=0,we=we===""?".":we+":",oe(D))for(var Ue=0;Ue<D.length;Ue++){ce=D[Ue];var Je=we+ue(ce,Ue);Ve+=Fe(ce,W,Ce,Je,ve)}else if(Je=N(D),typeof Je=="function")for(D=Je.call(D),Ue=0;!(ce=D.next()).done;)ce=ce.value,Je=we+ue(ce,Ue++),Ve+=Fe(ce,W,Ce,Je,ve);else if(ce==="object")throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Ve}function je(D,W,Ce){if(D==null)return D;var we=[],ve=0;return Fe(D,we,"","",function(ce){return W.call(Ce,ce,ve++)}),we}function Re(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(Ce){(D._status===0||D._status===-1)&&(D._status=1,D._result=Ce)},function(Ce){(D._status===0||D._status===-1)&&(D._status=2,D._result=Ce)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var me={current:null},U={transition:null},ee={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:U,ReactCurrentOwner:he};function O(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:je,forEach:function(D,W,Ce){je(D,function(){W.apply(this,arguments)},Ce)},count:function(D){var W=0;return je(D,function(){W++}),W},toArray:function(D){return je(D,function(W){return W})||[]},only:function(D){if(!Se(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Be.Component=J,Be.Fragment=r,Be.Profiler=u,Be.PureComponent=te,Be.StrictMode=a,Be.Suspense=y,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Be.act=O,Be.cloneElement=function(D,W,Ce){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var we=q({},D.props),ve=D.key,ce=D.ref,Ve=D._owner;if(W!=null){if(W.ref!==void 0&&(ce=W.ref,Ve=he.current),W.key!==void 0&&(ve=""+W.key),D.type&&D.type.defaultProps)var Ue=D.type.defaultProps;for(Je in W)pe.call(W,Je)&&!se.hasOwnProperty(Je)&&(we[Je]=W[Je]===void 0&&Ue!==void 0?Ue[Je]:W[Je])}var Je=arguments.length-2;if(Je===1)we.children=Ce;else if(1<Je){Ue=Array(Je);for(var _t=0;_t<Je;_t++)Ue[_t]=arguments[_t+2];we.children=Ue}return{$$typeof:i,type:D.type,key:ve,ref:ce,props:we,_owner:Ve}},Be.createContext=function(D){return D={$$typeof:m,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:p,_context:D},D.Consumer=D},Be.createElement=Le,Be.createFactory=function(D){var W=Le.bind(null,D);return W.type=D,W},Be.createRef=function(){return{current:null}},Be.forwardRef=function(D){return{$$typeof:v,render:D}},Be.isValidElement=Se,Be.lazy=function(D){return{$$typeof:C,_payload:{_status:-1,_result:D},_init:Re}},Be.memo=function(D,W){return{$$typeof:T,type:D,compare:W===void 0?null:W}},Be.startTransition=function(D){var W=U.transition;U.transition={};try{D()}finally{U.transition=W}},Be.unstable_act=O,Be.useCallback=function(D,W){return me.current.useCallback(D,W)},Be.useContext=function(D){return me.current.useContext(D)},Be.useDebugValue=function(){},Be.useDeferredValue=function(D){return me.current.useDeferredValue(D)},Be.useEffect=function(D,W){return me.current.useEffect(D,W)},Be.useId=function(){return me.current.useId()},Be.useImperativeHandle=function(D,W,Ce){return me.current.useImperativeHandle(D,W,Ce)},Be.useInsertionEffect=function(D,W){return me.current.useInsertionEffect(D,W)},Be.useLayoutEffect=function(D,W){return me.current.useLayoutEffect(D,W)},Be.useMemo=function(D,W){return me.current.useMemo(D,W)},Be.useReducer=function(D,W,Ce){return me.current.useReducer(D,W,Ce)},Be.useRef=function(D){return me.current.useRef(D)},Be.useState=function(D){return me.current.useState(D)},Be.useSyncExternalStore=function(D,W,Ce){return me.current.useSyncExternalStore(D,W,Ce)},Be.useTransition=function(){return me.current.useTransition()},Be.version="18.3.1",Be}var cf;function mc(){return cf||(cf=1,Ku.exports=hm()),Ku.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df;function pm(){if(df)return As;df=1;var i=mc(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function m(v,y,T){var C,S={},N=null,M=null;T!==void 0&&(N=""+T),y.key!==void 0&&(N=""+y.key),y.ref!==void 0&&(M=y.ref);for(C in y)a.call(y,C)&&!p.hasOwnProperty(C)&&(S[C]=y[C]);if(v&&v.defaultProps)for(C in y=v.defaultProps,y)S[C]===void 0&&(S[C]=y[C]);return{$$typeof:e,type:v,key:N,ref:M,props:S,_owner:u.current}}return As.Fragment=r,As.jsx=m,As.jsxs=m,As}var ff;function mm(){return ff||(ff=1,Ju.exports=pm()),Ju.exports}var E=mm(),Z=mc();const Fs=pc(Z);var ll={},Yu={exports:{}},Gt={},$u={exports:{}},Qu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf;function gm(){return hf||(hf=1,(function(i){function e(U,ee){var O=U.length;U.push(ee);e:for(;0<O;){var D=O-1>>>1,W=U[D];if(0<u(W,ee))U[D]=ee,U[O]=W,O=D;else break e}}function r(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var ee=U[0],O=U.pop();if(O!==ee){U[0]=O;e:for(var D=0,W=U.length,Ce=W>>>1;D<Ce;){var we=2*(D+1)-1,ve=U[we],ce=we+1,Ve=U[ce];if(0>u(ve,O))ce<W&&0>u(Ve,ve)?(U[D]=Ve,U[ce]=O,D=ce):(U[D]=ve,U[we]=O,D=we);else if(ce<W&&0>u(Ve,O))U[D]=Ve,U[ce]=O,D=ce;else break e}}return ee}function u(U,ee){var O=U.sortIndex-ee.sortIndex;return O!==0?O:U.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;i.unstable_now=function(){return p.now()}}else{var m=Date,v=m.now();i.unstable_now=function(){return m.now()-v}}var y=[],T=[],C=1,S=null,N=3,M=!1,q=!1,B=!1,J=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(U){for(var ee=r(T);ee!==null;){if(ee.callback===null)a(T);else if(ee.startTime<=U)a(T),ee.sortIndex=ee.expirationTime,e(y,ee);else break;ee=r(T)}}function oe(U){if(B=!1,j(U),!q)if(r(y)!==null)q=!0,Re(pe);else{var ee=r(T);ee!==null&&me(oe,ee.startTime-U)}}function pe(U,ee){q=!1,B&&(B=!1,Y(Le),Le=-1),M=!0;var O=N;try{for(j(ee),S=r(y);S!==null&&(!(S.expirationTime>ee)||U&&!Ie());){var D=S.callback;if(typeof D=="function"){S.callback=null,N=S.priorityLevel;var W=D(S.expirationTime<=ee);ee=i.unstable_now(),typeof W=="function"?S.callback=W:S===r(y)&&a(y),j(ee)}else a(y);S=r(y)}if(S!==null)var Ce=!0;else{var we=r(T);we!==null&&me(oe,we.startTime-ee),Ce=!1}return Ce}finally{S=null,N=O,M=!1}}var he=!1,se=null,Le=-1,de=5,Se=-1;function Ie(){return!(i.unstable_now()-Se<de)}function Q(){if(se!==null){var U=i.unstable_now();Se=U;var ee=!0;try{ee=se(!0,U)}finally{ee?ue():(he=!1,se=null)}}else he=!1}var ue;if(typeof te=="function")ue=function(){te(Q)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,je=Fe.port2;Fe.port1.onmessage=Q,ue=function(){je.postMessage(null)}}else ue=function(){J(Q,0)};function Re(U){se=U,he||(he=!0,ue())}function me(U,ee){Le=J(function(){U(i.unstable_now())},ee)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(U){U.callback=null},i.unstable_continueExecution=function(){q||M||(q=!0,Re(pe))},i.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<U?Math.floor(1e3/U):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_getFirstCallbackNode=function(){return r(y)},i.unstable_next=function(U){switch(N){case 1:case 2:case 3:var ee=3;break;default:ee=N}var O=N;N=ee;try{return U()}finally{N=O}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(U,ee){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var O=N;N=U;try{return ee()}finally{N=O}},i.unstable_scheduleCallback=function(U,ee,O){var D=i.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?D+O:D):O=D,U){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=O+W,U={id:C++,callback:ee,priorityLevel:U,startTime:O,expirationTime:W,sortIndex:-1},O>D?(U.sortIndex=O,e(T,U),r(y)===null&&U===r(T)&&(B?(Y(Le),Le=-1):B=!0,me(oe,O-D))):(U.sortIndex=W,e(y,U),q||M||(q=!0,Re(pe))),U},i.unstable_shouldYield=Ie,i.unstable_wrapCallback=function(U){var ee=N;return function(){var O=N;N=ee;try{return U.apply(this,arguments)}finally{N=O}}}})(Qu)),Qu}var pf;function _m(){return pf||(pf=1,$u.exports=gm()),$u.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf;function vm(){if(mf)return Gt;mf=1;var i=mc(),e=_m();function r(t){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function p(t,o){m(t,o),m(t+"Capture",o)}function m(t,o){for(u[t]=o,t=0;t<o.length;t++)a.add(o[t])}var v=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},S={};function N(t){return y.call(S,t)?!0:y.call(C,t)?!1:T.test(t)?S[t]=!0:(C[t]=!0,!1)}function M(t,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function q(t,o,l,h){if(o===null||typeof o>"u"||M(t,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function B(t,o,l,h,_,w,P){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=_,this.mustUseProperty=l,this.propertyName=t,this.type=o,this.sanitizeURL=w,this.removeEmptyString=P}var J={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){J[t]=new B(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var o=t[0];J[o]=new B(o,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){J[t]=new B(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){J[t]=new B(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){J[t]=new B(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){J[t]=new B(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){J[t]=new B(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){J[t]=new B(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){J[t]=new B(t,5,!1,t.toLowerCase(),null,!1,!1)});var Y=/[\-:]([a-z])/g;function te(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var o=t.replace(Y,te);J[o]=new B(o,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var o=t.replace(Y,te);J[o]=new B(o,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var o=t.replace(Y,te);J[o]=new B(o,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){J[t]=new B(t,1,!1,t.toLowerCase(),null,!1,!1)}),J.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){J[t]=new B(t,1,!1,t.toLowerCase(),null,!0,!0)});function j(t,o,l,h){var _=J.hasOwnProperty(o)?J[o]:null;(_!==null?_.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(q(o,l,_,h)&&(l=null),h||_===null?N(o)&&(l===null?t.removeAttribute(o):t.setAttribute(o,""+l)):_.mustUseProperty?t[_.propertyName]=l===null?_.type===3?!1:"":l:(o=_.attributeName,h=_.attributeNamespace,l===null?t.removeAttribute(o):(_=_.type,l=_===3||_===4&&l===!0?"":""+l,h?t.setAttributeNS(h,o,l):t.setAttribute(o,l))))}var oe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pe=Symbol.for("react.element"),he=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),Le=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),Se=Symbol.for("react.provider"),Ie=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Fe=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),U=Symbol.iterator;function ee(t){return t===null||typeof t!="object"?null:(t=U&&t[U]||t["@@iterator"],typeof t=="function"?t:null)}var O=Object.assign,D;function W(t){if(D===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);D=o&&o[1]||""}return`
`+D+t}var Ce=!1;function we(t,o){if(!t||Ce)return"";Ce=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var h=G}Reflect.construct(t,[],o)}else{try{o.call()}catch(G){h=G}t.call(o.prototype)}else{try{throw Error()}catch(G){h=G}t()}}catch(G){if(G&&h&&typeof G.stack=="string"){for(var _=G.stack.split(`
`),w=h.stack.split(`
`),P=_.length-1,k=w.length-1;1<=P&&0<=k&&_[P]!==w[k];)k--;for(;1<=P&&0<=k;P--,k--)if(_[P]!==w[k]){if(P!==1||k!==1)do if(P--,k--,0>k||_[P]!==w[k]){var R=`
`+_[P].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=P&&0<=k);break}}}finally{Ce=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?W(t):""}function ve(t){switch(t.tag){case 5:return W(t.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return t=we(t.type,!1),t;case 11:return t=we(t.type.render,!1),t;case 1:return t=we(t.type,!0),t;default:return""}}function ce(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case he:return"Portal";case de:return"Profiler";case Le:return"StrictMode";case ue:return"Suspense";case Fe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ie:return(t.displayName||"Context")+".Consumer";case Se:return(t._context.displayName||"Context")+".Provider";case Q:var o=t.render;return t=t.displayName,t||(t=o.displayName||o.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case je:return o=t.displayName||null,o!==null?o:ce(t.type)||"Memo";case Re:o=t._payload,t=t._init;try{return ce(t(o))}catch{}}return null}function Ve(t){var o=t.type;switch(t.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=o.render,t=t.displayName||t.name||"",o.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(o);case 8:return o===Le?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ue(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Je(t){var o=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function _t(t){var o=Je(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,o),h=""+t[o];if(!t.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var _=l.get,w=l.set;return Object.defineProperty(t,o,{configurable:!0,get:function(){return _.call(this)},set:function(P){h=""+P,w.call(this,P)}}),Object.defineProperty(t,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(P){h=""+P},stopTracking:function(){t._valueTracker=null,delete t[o]}}}}function di(t){t._valueTracker||(t._valueTracker=_t(t))}function fi(t){if(!t)return!1;var o=t._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return t&&(h=Je(t)?t.checked?"true":"false":t.value),t=h,t!==l?(o.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ar(t,o){var l=o.checked;return O({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??t._wrapperState.initialChecked})}function Mr(t,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=Ue(o.value!=null?o.value:l),t._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Rr(t,o){o=o.checked,o!=null&&j(t,"checked",o,!1)}function Qi(t,o){Rr(t,o);var l=Ue(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+l):t.value!==""+l&&(t.value=""+l);else if(h==="submit"||h==="reset"){t.removeAttribute("value");return}o.hasOwnProperty("value")?Lr(t,o.type,l):o.hasOwnProperty("defaultValue")&&Lr(t,o.type,Ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(t.defaultChecked=!!o.defaultChecked)}function Xi(t,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+t._wrapperState.initialValue,l||o===t.value||(t.value=o),t.defaultValue=o}l=t.name,l!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,l!==""&&(t.name=l)}function Lr(t,o,l){(o!=="number"||hi(t.ownerDocument)!==t)&&(l==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+l&&(t.defaultValue=""+l))}var pi=Array.isArray;function Pn(t,o,l,h){if(t=t.options,o){o={};for(var _=0;_<l.length;_++)o["$"+l[_]]=!0;for(l=0;l<t.length;l++)_=o.hasOwnProperty("$"+t[l].value),t[l].selected!==_&&(t[l].selected=_),_&&h&&(t[l].defaultSelected=!0)}else{for(l=""+Ue(l),o=null,_=0;_<t.length;_++){if(t[_].value===l){t[_].selected=!0,h&&(t[_].defaultSelected=!0);return}o!==null||t[_].disabled||(o=t[_])}o!==null&&(o.selected=!0)}}function Ao(t,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return O({},o,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dr(t,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(r(92));if(pi(l)){if(1<l.length)throw Error(r(93));l=l[0]}o=l}o==null&&(o=""),l=o}t._wrapperState={initialValue:Ue(l)}}function Hs(t,o){var l=Ue(o.value),h=Ue(o.defaultValue);l!=null&&(l=""+l,l!==t.value&&(t.value=l),o.defaultValue==null&&t.defaultValue!==l&&(t.defaultValue=l)),h!=null&&(t.defaultValue=""+h)}function bs(t){var o=t.textContent;o===t._wrapperState.initialValue&&o!==""&&o!==null&&(t.value=o)}function Mo(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ro(t,o){return t==null||t==="http://www.w3.org/1999/xhtml"?Mo(o):t==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ji,Gs=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,_){MSApp.execUnsafeLocalFunction(function(){return t(o,l,h,_)})}:t})(function(t,o){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=o;else{for(ji=ji||document.createElement("div"),ji.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ji.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;o.firstChild;)t.appendChild(o.firstChild)}});function mi(t,o){if(o){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=o;return}}t.textContent=o}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xl=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(t){xl.forEach(function(o){o=o+t.charAt(0).toUpperCase()+t.substring(1),gi[o]=gi[t]})});function Fr(t,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||gi.hasOwnProperty(t)&&gi[t]?(""+o).trim():o+"px"}function Lo(t,o){t=t.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,_=Fr(l,o[l],h);l==="float"&&(l="cssFloat"),h?t.setProperty(l,_):t[l]=_}}var qs=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ur(t,o){if(o){if(qs[t]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function Vn(t,o){if(t.indexOf("-")===-1)return typeof o.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Br=null;function zr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Do=null,Hn=null,bn=null;function Os(t){if(t=jn(t)){if(typeof Do!="function")throw Error(r(280));var o=t.stateNode;o&&(o=ar(o),Do(t.stateNode,t.type,o))}}function Ws(t){Hn?bn?bn.push(t):bn=[t]:Hn=t}function Zs(){if(Hn){var t=Hn,o=bn;if(bn=Hn=null,Os(t),o)for(t=0;t<o.length;t++)Os(o[t])}}function Js(t,o){return t(o)}function Ks(){}var Vr=!1;function Fo(t,o,l){if(Vr)return t(o,l);Vr=!0;try{return Js(t,o,l)}finally{Vr=!1,(Hn!==null||bn!==null)&&(Ks(),Zs())}}function eo(t,o){var l=t.stateNode;if(l===null)return null;var h=ar(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(t=t.type,h=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!h;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var Hr=!1;if(v)try{var to={};Object.defineProperty(to,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{Hr=!1}function Sl(t,o,l,h,_,w,P,k,R){var G=Array.prototype.slice.call(arguments,3);try{o.apply(l,G)}catch(X){this.onError(X)}}var Tt=!1,ye=null,no=!1,Uo=null,Ys={onError:function(t){Tt=!0,ye=t}};function $s(t,o,l,h,_,w,P,k,R){Tt=!1,ye=null,Sl.apply(Ys,arguments)}function br(t,o,l,h,_,w,P,k,R){if($s.apply(this,arguments),Tt){if(Tt){var G=ye;Tt=!1,ye=null}else throw Error(r(198));no||(no=!0,Uo=G)}}function In(t){var o=t,l=t;if(t.alternate)for(;o.return;)o=o.return;else{t=o;do o=t,(o.flags&4098)!==0&&(l=o.return),t=o.return;while(t)}return o.tag===3?l:null}function Gn(t){if(t.tag===13){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function Gr(t){if(In(t)!==t)throw Error(r(188))}function El(t){var o=t.alternate;if(!o){if(o=In(t),o===null)throw Error(r(188));return o!==t?null:t}for(var l=t,h=o;;){var _=l.return;if(_===null)break;var w=_.alternate;if(w===null){if(h=_.return,h!==null){l=h;continue}break}if(_.child===w.child){for(w=_.child;w;){if(w===l)return Gr(_),t;if(w===h)return Gr(_),o;w=w.sibling}throw Error(r(188))}if(l.return!==h.return)l=_,h=w;else{for(var P=!1,k=_.child;k;){if(k===l){P=!0,l=_,h=w;break}if(k===h){P=!0,h=_,l=w;break}k=k.sibling}if(!P){for(k=w.child;k;){if(k===l){P=!0,l=w,h=_;break}if(k===h){P=!0,h=w,l=_;break}k=k.sibling}if(!P)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?t:o}function Qs(t){return t=El(t),t!==null?Xs(t):null}function Xs(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var o=Xs(t);if(o!==null)return o;t=t.sibling}return null}var js=e.unstable_scheduleCallback,qr=e.unstable_cancelCallback,Pl=e.unstable_shouldYield,Bo=e.unstable_requestPaint,tt=e.unstable_now,Il=e.unstable_getCurrentPriorityLevel,Or=e.unstable_ImmediatePriority,ea=e.unstable_UserBlockingPriority,zo=e.unstable_NormalPriority,Wr=e.unstable_LowPriority,_i=e.unstable_IdlePriority,io=null,qt=null;function oo(t){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(io,t,void 0,(t.current.flags&128)===128)}catch{}}var Me=Math.clz32?Math.clz32:vi,$e=Math.log,Vo=Math.LN2;function vi(t){return t>>>=0,t===0?32:31-($e(t)/Vo|0)|0}var pn=64,yi=4194304;function Ae(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ke(t,o){var l=t.pendingLanes;if(l===0)return 0;var h=0,_=t.suspendedLanes,w=t.pingedLanes,P=l&268435455;if(P!==0){var k=P&~_;k!==0?h=Ae(k):(w&=P,w!==0&&(h=Ae(w)))}else P=l&~_,P!==0?h=Ae(P):w!==0&&(h=Ae(w));if(h===0)return 0;if(o!==0&&o!==h&&(o&_)===0&&(_=h&-h,w=o&-o,_>=w||_===16&&(w&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=t.entangledLanes,o!==0)for(t=t.entanglements,o&=h;0<o;)l=31-Me(o),_=1<<l,h|=t[l],o&=~_;return h}function Zr(t,o){switch(t){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ho(t,o){for(var l=t.suspendedLanes,h=t.pingedLanes,_=t.expirationTimes,w=t.pendingLanes;0<w;){var P=31-Me(w),k=1<<P,R=_[P];R===-1?((k&l)===0||(k&h)!==0)&&(_[P]=Zr(k,o)):R<=o&&(t.expiredLanes|=k),w&=~k}}function wt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ta(){var t=pn;return pn<<=1,(pn&4194240)===0&&(pn=64),t}function Ti(t){for(var o=[],l=0;31>l;l++)o.push(t);return o}function Ot(t,o,l){t.pendingLanes|=o,o!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,o=31-Me(o),t[o]=l}function rt(t,o){var l=t.pendingLanes&~o;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=o,t.mutableReadLanes&=o,t.entangledLanes&=o,o=t.entanglements;var h=t.eventTimes;for(t=t.expirationTimes;0<l;){var _=31-Me(l),w=1<<_;o[_]=0,h[_]=-1,t[_]=-1,l&=~w}}function mn(t,o){var l=t.entangledLanes|=o;for(t=t.entanglements;l;){var h=31-Me(l),_=1<<h;_&o|t[h]&o&&(t[h]|=o),l&=~_}}var He=0;function wi(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var bo,qn,Go,qo,ro,so=!1,Ci=[],Wt=null,gn=null,en=null,ao=new Map,Ne=new Map,ct=[],We="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jr(t,o){switch(t){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":ao.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ne.delete(o.pointerId)}}function On(t,o,l,h,_,w){return t===null||t.nativeEvent!==w?(t={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:w,targetContainers:[_]},o!==null&&(o=jn(o),o!==null&&qn(o)),t):(t.eventSystemFlags|=h,o=t.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),t)}function Kr(t,o,l,h,_){switch(o){case"focusin":return Wt=On(Wt,t,o,l,h,_),!0;case"dragenter":return gn=On(gn,t,o,l,h,_),!0;case"mouseover":return en=On(en,t,o,l,h,_),!0;case"pointerover":var w=_.pointerId;return ao.set(w,On(ao.get(w)||null,t,o,l,h,_)),!0;case"gotpointercapture":return w=_.pointerId,Ne.set(w,On(Ne.get(w)||null,t,o,l,h,_)),!0}return!1}function Oo(t){var o=Xn(t.target);if(o!==null){var l=In(o);if(l!==null){if(o=l.tag,o===13){if(o=Gn(l),o!==null){t.blockedOn=o,ro(t.priority,function(){Go(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tn(t){if(t.blockedOn!==null)return!1;for(var o=t.targetContainers;0<o.length;){var l=Jo(t.domEventName,t.eventSystemFlags,o[0],t.nativeEvent);if(l===null){l=t.nativeEvent;var h=new l.constructor(l.type,l);Br=h,l.target.dispatchEvent(h),Br=null}else return o=jn(l),o!==null&&qn(o),t.blockedOn=l,!1;o.shift()}return!0}function Wo(t,o,l){tn(t)&&l.delete(o)}function lo(){so=!1,Wt!==null&&tn(Wt)&&(Wt=null),gn!==null&&tn(gn)&&(gn=null),en!==null&&tn(en)&&(en=null),ao.forEach(Wo),Ne.forEach(Wo)}function nt(t,o){t.blockedOn===o&&(t.blockedOn=null,so||(so=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lo)))}function Zt(t){function o(_){return nt(_,t)}if(0<Ci.length){nt(Ci[0],t);for(var l=1;l<Ci.length;l++){var h=Ci[l];h.blockedOn===t&&(h.blockedOn=null)}}for(Wt!==null&&nt(Wt,t),gn!==null&&nt(gn,t),en!==null&&nt(en,t),ao.forEach(o),Ne.forEach(o),l=0;l<ct.length;l++)h=ct[l],h.blockedOn===t&&(h.blockedOn=null);for(;0<ct.length&&(l=ct[0],l.blockedOn===null);)Oo(l),l.blockedOn===null&&ct.shift()}var Wn=oe.ReactCurrentBatchConfig,uo=!0;function Nl(t,o,l,h){var _=He,w=Wn.transition;Wn.transition=null;try{He=1,co(t,o,l,h)}finally{He=_,Wn.transition=w}}function na(t,o,l,h){var _=He,w=Wn.transition;Wn.transition=null;try{He=4,co(t,o,l,h)}finally{He=_,Wn.transition=w}}function co(t,o,l,h){if(uo){var _=Jo(t,o,l,h);if(_===null)n(t,o,h,Zo,l),Jr(t,h);else if(Kr(_,t,o,l,h))h.stopPropagation();else if(Jr(t,h),o&4&&-1<We.indexOf(t)){for(;_!==null;){var w=jn(_);if(w!==null&&bo(w),w=Jo(t,o,l,h),w===null&&n(t,o,h,Zo,l),w===_)break;_=w}_!==null&&h.stopPropagation()}else n(t,o,h,null,l)}}var Zo=null;function Jo(t,o,l,h){if(Zo=null,t=zr(h),t=Xn(t),t!==null)if(o=In(t),o===null)t=null;else if(l=o.tag,l===13){if(t=Gn(o),t!==null)return t;t=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;t=null}else o!==t&&(t=null);return Zo=t,null}function ze(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Il()){case Or:return 1;case ea:return 4;case zo:case Wr:return 16;case _i:return 536870912;default:return 16}default:return 16}}var Nn=null,kt=null,kn=null;function Yr(){if(kn)return kn;var t,o=kt,l=o.length,h,_="value"in Nn?Nn.value:Nn.textContent,w=_.length;for(t=0;t<l&&o[t]===_[t];t++);var P=l-t;for(h=1;h<=P&&o[l-h]===_[w-h];h++);return kn=_.slice(t,1<h?1-h:void 0)}function Ko(t){var o=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&o===13&&(t=13)):t=o,t===10&&(t=13),32<=t||t===13?t:0}function xi(){return!0}function ia(){return!1}function Ct(t){function o(l,h,_,w,P){this._reactName=l,this._targetInst=_,this.type=h,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var k in t)t.hasOwnProperty(k)&&(l=t[k],this[k]=l?l(w):w[k]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?xi:ia,this.isPropagationStopped=ia,this}return O(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),o}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$r=Ct(Si),Zn=O({},Si,{view:0,detail:0}),kl=Ct(Zn),Ft,Qr,Ei,Jt=O({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Ft=t.screenX-Ei.screenX,Qr=t.screenY-Ei.screenY):Qr=Ft=0,Ei=t),Ft)},movementY:function(t){return"movementY"in t?t.movementY:Qr}}),Xr=Ct(Jt),oa=O({},Jt,{dataTransfer:0}),jr=Ct(oa),Al=O({},Zn,{relatedTarget:0}),Yo=Ct(Al),ra=O({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),Ml=Ct(ra),Rl=O({},Si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),es=Ct(Rl),Ll=O({},Si,{data:0}),ts=Ct(Ll),sa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dl(t){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(t):(t=Jn[t])?!!o[t]:!1}function Kn(){return Dl}var Ut=O({},Zn,{key:function(t){if(t.key){var o=sa[t.key]||t.key;if(o!=="Unidentified")return o}return t.type==="keypress"?(t=Ko(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$o[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kn,charCode:function(t){return t.type==="keypress"?Ko(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ko(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aa=Ct(Ut),la=O({},Jt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ua=Ct(la),ns=O({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kn}),is=Ct(ns),Fl=O({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ul=Ct(Fl),ca=O({},Jt,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bl=Ct(ca),Kt=[9,13,27,32],An=v&&"CompositionEvent"in window,fo=null;v&&"documentMode"in document&&(fo=document.documentMode);var _n=v&&"TextEvent"in window&&!fo,da=v&&(!An||fo&&8<fo&&11>=fo),Yn=" ",fa=!1;function Pi(t,o){switch(t){case"keyup":return Kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function os(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vn=!1;function zl(t,o){switch(t){case"compositionend":return os(o);case"keypress":return o.which!==32?null:(fa=!0,Yn);case"textInput":return t=o.data,t===Yn&&fa?null:t;default:return null}}function Mn(t,o){if(vn)return t==="compositionend"||!An&&Pi(t,o)?(t=Yr(),kn=kt=Nn=null,vn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return da&&o.locale!=="ko"?null:o.data;default:return null}}var Qo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ha(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o==="input"?!!Qo[t.type]:o==="textarea"}function Xo(t,o,l,h){Ws(h),o=f(o,"onChange"),0<o.length&&(l=new $r("onChange","change",null,l,h),t.push({event:l,listeners:o}))}var ho=null,At=null;function Vl(t){hs(t,0)}function yn(t){var o=ei(t);if(fi(o))return t}function Hl(t,o){if(t==="change")return o}var nn=!1;if(v){var Ii;if(v){var jo="oninput"in document;if(!jo){var er=document.createElement("div");er.setAttribute("oninput","return;"),jo=typeof er.oninput=="function"}Ii=jo}else Ii=!1;nn=Ii&&(!document.documentMode||9<document.documentMode)}function po(){ho&&(ho.detachEvent("onpropertychange",tr),At=ho=null)}function tr(t){if(t.propertyName==="value"&&yn(At)){var o=[];Xo(o,At,t,zr(t)),Fo(Vl,o)}}function nr(t,o,l){t==="focusin"?(po(),ho=o,At=l,ho.attachEvent("onpropertychange",tr)):t==="focusout"&&po()}function Ni(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yn(At)}function ir(t,o){if(t==="click")return yn(o)}function rs(t,o){if(t==="input"||t==="change")return yn(o)}function pa(t,o){return t===o&&(t!==0||1/t===1/o)||t!==t&&o!==o}var Yt=typeof Object.is=="function"?Object.is:pa;function Rn(t,o){if(Yt(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;var l=Object.keys(t),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var _=l[h];if(!y.call(o,_)||!Yt(t[_],o[_]))return!1}return!0}function ma(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ss(t,o){var l=ma(t);t=0;for(var h;l;){if(l.nodeType===3){if(h=t+l.textContent.length,t<=o&&h>=o)return{node:l,offset:o-t};t=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ma(l)}}function ga(t,o){return t&&o?t===o?!0:t&&t.nodeType===3?!1:o&&o.nodeType===3?ga(t,o.parentNode):"contains"in t?t.contains(o):t.compareDocumentPosition?!!(t.compareDocumentPosition(o)&16):!1:!1}function as(){for(var t=window,o=hi();o instanceof t.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)t=o.contentWindow;else break;o=hi(t.document)}return o}function ls(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o&&(o==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||o==="textarea"||t.contentEditable==="true")}function on(t){var o=as(),l=t.focusedElem,h=t.selectionRange;if(o!==l&&l&&l.ownerDocument&&ga(l.ownerDocument.documentElement,l)){if(h!==null&&ls(l)){if(o=h.start,t=h.end,t===void 0&&(t=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(t,l.value.length);else if(t=(o=l.ownerDocument||document)&&o.defaultView||window,t.getSelection){t=t.getSelection();var _=l.textContent.length,w=Math.min(h.start,_);h=h.end===void 0?w:Math.min(h.end,_),!t.extend&&w>h&&(_=h,h=w,w=_),_=ss(l,w);var P=ss(l,h);_&&P&&(t.rangeCount!==1||t.anchorNode!==_.node||t.anchorOffset!==_.offset||t.focusNode!==P.node||t.focusOffset!==P.offset)&&(o=o.createRange(),o.setStart(_.node,_.offset),t.removeAllRanges(),w>h?(t.addRange(o),t.extend(P.node,P.offset)):(o.setEnd(P.node,P.offset),t.addRange(o)))}}for(o=[],t=l;t=t.parentNode;)t.nodeType===1&&o.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)t=o[l],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var or=v&&"documentMode"in document&&11>=document.documentMode,ki=null,Ai=null,mo=null,rr=!1;function _a(t,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;rr||ki==null||ki!==hi(h)||(h=ki,"selectionStart"in h&&ls(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),mo&&Rn(mo,h)||(mo=h,h=f(Ai,"onSelect"),0<h.length&&(o=new $r("onSelect","select",null,o,l),t.push({event:o,listeners:h}),o.target=ki)))}function Ln(t,o){var l={};return l[t.toLowerCase()]=o.toLowerCase(),l["Webkit"+t]="webkit"+o,l["Moz"+t]="moz"+o,l}var Mi={animationend:Ln("Animation","AnimationEnd"),animationiteration:Ln("Animation","AnimationIteration"),animationstart:Ln("Animation","AnimationStart"),transitionend:Ln("Transition","TransitionEnd")},Dn={},us={};v&&(us=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function go(t){if(Dn[t])return Dn[t];if(!Mi[t])return t;var o=Mi[t],l;for(l in o)if(o.hasOwnProperty(l)&&l in us)return Dn[t]=o[l];return t}var va=go("animationend"),rn=go("animationiteration"),cs=go("animationstart"),ds=go("transitionend"),Ri=new Map,ya="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $t(t,o){Ri.set(t,o),p(o,[t])}for(var $n=0;$n<ya.length;$n++){var sr=ya[$n],Ta=sr.toLowerCase(),bl=sr[0].toUpperCase()+sr.slice(1);$t(Ta,"on"+bl)}$t(va,"onAnimationEnd"),$t(rn,"onAnimationIteration"),$t(cs,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(ds,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wa=new Set("cancel close invalid load scroll toggle".split(" ").concat(Li));function fs(t,o,l){var h=t.type||"unknown-event";t.currentTarget=l,br(h,o,void 0,t),t.currentTarget=null}function hs(t,o){o=(o&4)!==0;for(var l=0;l<t.length;l++){var h=t[l],_=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var P=h.length-1;0<=P;P--){var k=h[P],R=k.instance,G=k.currentTarget;if(k=k.listener,R!==w&&_.isPropagationStopped())break e;fs(_,k,G),w=R}else for(P=0;P<h.length;P++){if(k=h[P],R=k.instance,G=k.currentTarget,k=k.listener,R!==w&&_.isPropagationStopped())break e;fs(_,k,G),w=R}}}if(no)throw t=Uo,no=!1,Uo=null,t}function Ze(t,o){var l=o[Bi];l===void 0&&(l=o[Bi]=new Set);var h=t+"__bubble";l.has(h)||(Ca(o,t,2,!1),l.add(h))}function ps(t,o,l){var h=0;o&&(h|=4),Ca(l,t,h,o)}var _o="_reactListening"+Math.random().toString(36).slice(2);function Di(t){if(!t[_o]){t[_o]=!0,a.forEach(function(l){l!=="selectionchange"&&(wa.has(l)||ps(l,!1,t),ps(l,!0,t))});var o=t.nodeType===9?t:t.ownerDocument;o===null||o[_o]||(o[_o]=!0,ps("selectionchange",!1,o))}}function Ca(t,o,l,h){switch(ze(o)){case 1:var _=Nl;break;case 4:_=na;break;default:_=co}l=_.bind(null,o,l,t),_=void 0,!Hr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),h?_!==void 0?t.addEventListener(o,l,{capture:!0,passive:_}):t.addEventListener(o,l,!0):_!==void 0?t.addEventListener(o,l,{passive:_}):t.addEventListener(o,l,!1)}function n(t,o,l,h,_){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var P=h.tag;if(P===3||P===4){var k=h.stateNode.containerInfo;if(k===_||k.nodeType===8&&k.parentNode===_)break;if(P===4)for(P=h.return;P!==null;){var R=P.tag;if((R===3||R===4)&&(R=P.stateNode.containerInfo,R===_||R.nodeType===8&&R.parentNode===_))return;P=P.return}for(;k!==null;){if(P=Xn(k),P===null)return;if(R=P.tag,R===5||R===6){h=w=P;continue e}k=k.parentNode}}h=h.return}Fo(function(){var G=w,X=zr(l),ne=[];e:{var $=Ri.get(t);if($!==void 0){var le=$r,ge=t;switch(t){case"keypress":if(Ko(l)===0)break e;case"keydown":case"keyup":le=aa;break;case"focusin":ge="focus",le=Yo;break;case"focusout":ge="blur",le=Yo;break;case"beforeblur":case"afterblur":le=Yo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Xr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=jr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=is;break;case va:case rn:case cs:le=Ml;break;case ds:le=Ul;break;case"scroll":le=kl;break;case"wheel":le=Bl;break;case"copy":case"cut":case"paste":le=es;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=ua}var _e=(o&4)!==0,at=!_e&&t==="scroll",V=_e?$!==null?$+"Capture":null:$;_e=[];for(var F=G,H;F!==null;){H=F;var ie=H.stateNode;if(H.tag===5&&ie!==null&&(H=ie,V!==null&&(ie=eo(F,V),ie!=null&&_e.push(s(F,ie,H)))),at)break;F=F.return}0<_e.length&&($=new le($,ge,null,l,X),ne.push({event:$,listeners:_e}))}}if((o&7)===0){e:{if($=t==="mouseover"||t==="pointerover",le=t==="mouseout"||t==="pointerout",$&&l!==Br&&(ge=l.relatedTarget||l.fromElement)&&(Xn(ge)||ge[Oe]))break e;if((le||$)&&($=X.window===X?X:($=X.ownerDocument)?$.defaultView||$.parentWindow:window,le?(ge=l.relatedTarget||l.toElement,le=G,ge=ge?Xn(ge):null,ge!==null&&(at=In(ge),ge!==at||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(le=null,ge=G),le!==ge)){if(_e=Xr,ie="onMouseLeave",V="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ua,ie="onPointerLeave",V="onPointerEnter",F="pointer"),at=le==null?$:ei(le),H=ge==null?$:ei(ge),$=new _e(ie,F+"leave",le,l,X),$.target=at,$.relatedTarget=H,ie=null,Xn(X)===G&&(_e=new _e(V,F+"enter",ge,l,X),_e.target=H,_e.relatedTarget=at,ie=_e),at=ie,le&&ge)t:{for(_e=le,V=ge,F=0,H=_e;H;H=g(H))F++;for(H=0,ie=V;ie;ie=g(ie))H++;for(;0<F-H;)_e=g(_e),F--;for(;0<H-F;)V=g(V),H--;for(;F--;){if(_e===V||V!==null&&_e===V.alternate)break t;_e=g(_e),V=g(V)}_e=null}else _e=null;le!==null&&x(ne,$,le,_e,!1),ge!==null&&at!==null&&x(ne,at,ge,_e,!0)}}e:{if($=G?ei(G):window,le=$.nodeName&&$.nodeName.toLowerCase(),le==="select"||le==="input"&&$.type==="file")var Te=Hl;else if(ha($))if(nn)Te=rs;else{Te=Ni;var Ee=nr}else(le=$.nodeName)&&le.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(Te=ir);if(Te&&(Te=Te(t,G))){Xo(ne,Te,l,X);break e}Ee&&Ee(t,$,G),t==="focusout"&&(Ee=$._wrapperState)&&Ee.controlled&&$.type==="number"&&Lr($,"number",$.value)}switch(Ee=G?ei(G):window,t){case"focusin":(ha(Ee)||Ee.contentEditable==="true")&&(ki=Ee,Ai=G,mo=null);break;case"focusout":mo=Ai=ki=null;break;case"mousedown":rr=!0;break;case"contextmenu":case"mouseup":case"dragend":rr=!1,_a(ne,l,X);break;case"selectionchange":if(or)break;case"keydown":case"keyup":_a(ne,l,X)}var Pe;if(An)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else vn?Pi(t,l)&&(ke="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(da&&l.locale!=="ko"&&(vn||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&vn&&(Pe=Yr()):(Nn=X,kt="value"in Nn?Nn.value:Nn.textContent,vn=!0)),Ee=f(G,ke),0<Ee.length&&(ke=new ts(ke,t,null,l,X),ne.push({event:ke,listeners:Ee}),Pe?ke.data=Pe:(Pe=os(l),Pe!==null&&(ke.data=Pe)))),(Pe=_n?zl(t,l):Mn(t,l))&&(G=f(G,"onBeforeInput"),0<G.length&&(X=new ts("onBeforeInput","beforeinput",null,l,X),ne.push({event:X,listeners:G}),X.data=Pe))}hs(ne,o)})}function s(t,o,l){return{instance:t,listener:o,currentTarget:l}}function f(t,o){for(var l=o+"Capture",h=[];t!==null;){var _=t,w=_.stateNode;_.tag===5&&w!==null&&(_=w,w=eo(t,l),w!=null&&h.unshift(s(t,w,_)),w=eo(t,o),w!=null&&h.push(s(t,w,_))),t=t.return}return h}function g(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function x(t,o,l,h,_){for(var w=o._reactName,P=[];l!==null&&l!==h;){var k=l,R=k.alternate,G=k.stateNode;if(R!==null&&R===h)break;k.tag===5&&G!==null&&(k=G,_?(R=eo(l,w),R!=null&&P.unshift(s(l,R,k))):_||(R=eo(l,w),R!=null&&P.push(s(l,R,k)))),l=l.return}P.length!==0&&t.push({event:o,listeners:P})}var I=/\r\n?/g,A=/\u0000|\uFFFD/g;function z(t){return(typeof t=="string"?t:""+t).replace(I,`
`).replace(A,"")}function b(t,o,l){if(o=z(o),z(t)!==o&&l)throw Error(r(425))}function K(){}var re=null,xe=null;function De(t,o){return t==="textarea"||t==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var dt=typeof setTimeout=="function"?setTimeout:void 0,lt=typeof clearTimeout=="function"?clearTimeout:void 0,Mt=typeof Promise=="function"?Promise:void 0,xt=typeof queueMicrotask=="function"?queueMicrotask:typeof Mt<"u"?function(t){return Mt.resolve(null).then(t).catch(Fi)}:dt;function Fi(t){setTimeout(function(){throw t})}function ms(t,o){var l=o,h=0;do{var _=l.nextSibling;if(t.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(h===0){t.removeChild(_),Zt(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=_}while(l);Zt(o)}function Fn(t){for(;t!=null;t=t.nextSibling){var o=t.nodeType;if(o===1||o===3)break;if(o===8){if(o=t.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return t}function xa(t){t=t.previousSibling;for(var o=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return t;o--}else l==="/$"&&o++}t=t.previousSibling}return null}var Qn=Math.random().toString(36).slice(2),sn="__reactFiber$"+Qn,Ui="__reactProps$"+Qn,Oe="__reactContainer$"+Qn,Bi="__reactEvents$"+Qn,Gl="__reactListeners$"+Qn,ql="__reactHandles$"+Qn;function Xn(t){var o=t[sn];if(o)return o;for(var l=t.parentNode;l;){if(o=l[Oe]||l[sn]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(t=xa(t);t!==null;){if(l=t[sn])return l;t=xa(t)}return o}t=l,l=t.parentNode}return null}function jn(t){return t=t[sn]||t[Oe],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ei(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function ar(t){return t[Ui]||null}var Ol=[],lr=-1;function zi(t){return{current:t}}function Qe(t){0>lr||(t.current=Ol[lr],Ol[lr]=null,lr--)}function Ye(t,o){lr++,Ol[lr]=t.current,t.current=o}var Vi={},St=zi(Vi),Bt=zi(!1),vo=Vi;function ur(t,o){var l=t.type.contextTypes;if(!l)return Vi;var h=t.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var _={},w;for(w in l)_[w]=o[w];return h&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=_),_}function zt(t){return t=t.childContextTypes,t!=null}function Sa(){Qe(Bt),Qe(St)}function Ac(t,o,l){if(St.current!==Vi)throw Error(r(168));Ye(St,o),Ye(Bt,l)}function Mc(t,o,l){var h=t.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var _ in h)if(!(_ in o))throw Error(r(108,Ve(t)||"Unknown",_));return O({},l,h)}function Ea(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vi,vo=St.current,Ye(St,t),Ye(Bt,Bt.current),!0}function Rc(t,o,l){var h=t.stateNode;if(!h)throw Error(r(169));l?(t=Mc(t,o,vo),h.__reactInternalMemoizedMergedChildContext=t,Qe(Bt),Qe(St),Ye(St,t)):Qe(Bt),Ye(Bt,l)}var ti=null,Pa=!1,Wl=!1;function Lc(t){ti===null?ti=[t]:ti.push(t)}function Rp(t){Pa=!0,Lc(t)}function Hi(){if(!Wl&&ti!==null){Wl=!0;var t=0,o=He;try{var l=ti;for(He=1;t<l.length;t++){var h=l[t];do h=h(!0);while(h!==null)}ti=null,Pa=!1}catch(_){throw ti!==null&&(ti=ti.slice(t+1)),js(Or,Hi),_}finally{He=o,Wl=!1}}return null}var cr=[],dr=0,Ia=null,Na=0,an=[],ln=0,yo=null,ni=1,ii="";function To(t,o){cr[dr++]=Na,cr[dr++]=Ia,Ia=t,Na=o}function Dc(t,o,l){an[ln++]=ni,an[ln++]=ii,an[ln++]=yo,yo=t;var h=ni;t=ii;var _=32-Me(h)-1;h&=~(1<<_),l+=1;var w=32-Me(o)+_;if(30<w){var P=_-_%5;w=(h&(1<<P)-1).toString(32),h>>=P,_-=P,ni=1<<32-Me(o)+_|l<<_|h,ii=w+t}else ni=1<<w|l<<_|h,ii=t}function Zl(t){t.return!==null&&(To(t,1),Dc(t,1,0))}function Jl(t){for(;t===Ia;)Ia=cr[--dr],cr[dr]=null,Na=cr[--dr],cr[dr]=null;for(;t===yo;)yo=an[--ln],an[ln]=null,ii=an[--ln],an[ln]=null,ni=an[--ln],an[ln]=null}var Qt=null,Xt=null,et=!1,Tn=null;function Fc(t,o){var l=fn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=t,o=t.deletions,o===null?(t.deletions=[l],t.flags|=16):o.push(l)}function Uc(t,o){switch(t.tag){case 5:var l=t.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(t.stateNode=o,Qt=t,Xt=Fn(o.firstChild),!0):!1;case 6:return o=t.pendingProps===""||o.nodeType!==3?null:o,o!==null?(t.stateNode=o,Qt=t,Xt=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=yo!==null?{id:ni,overflow:ii}:null,t.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=fn(18,null,null,0),l.stateNode=o,l.return=t,t.child=l,Qt=t,Xt=null,!0):!1;default:return!1}}function Kl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yl(t){if(et){var o=Xt;if(o){var l=o;if(!Uc(t,o)){if(Kl(t))throw Error(r(418));o=Fn(l.nextSibling);var h=Qt;o&&Uc(t,o)?Fc(h,l):(t.flags=t.flags&-4097|2,et=!1,Qt=t)}}else{if(Kl(t))throw Error(r(418));t.flags=t.flags&-4097|2,et=!1,Qt=t}}}function Bc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qt=t}function ka(t){if(t!==Qt)return!1;if(!et)return Bc(t),et=!0,!1;var o;if((o=t.tag!==3)&&!(o=t.tag!==5)&&(o=t.type,o=o!=="head"&&o!=="body"&&!De(t.type,t.memoizedProps)),o&&(o=Xt)){if(Kl(t))throw zc(),Error(r(418));for(;o;)Fc(t,o),o=Fn(o.nextSibling)}if(Bc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,o=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"){if(o===0){Xt=Fn(t.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}t=t.nextSibling}Xt=null}}else Xt=Qt?Fn(t.stateNode.nextSibling):null;return!0}function zc(){for(var t=Xt;t;)t=Fn(t.nextSibling)}function fr(){Xt=Qt=null,et=!1}function $l(t){Tn===null?Tn=[t]:Tn.push(t)}var Lp=oe.ReactCurrentBatchConfig;function gs(t,o,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var h=l.stateNode}if(!h)throw Error(r(147,t));var _=h,w=""+t;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(P){var k=_.refs;P===null?delete k[w]:k[w]=P},o._stringRef=w,o)}if(typeof t!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,t))}return t}function Aa(t,o){throw t=Object.prototype.toString.call(o),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":t))}function Vc(t){var o=t._init;return o(t._payload)}function Hc(t){function o(V,F){if(t){var H=V.deletions;H===null?(V.deletions=[F],V.flags|=16):H.push(F)}}function l(V,F){if(!t)return null;for(;F!==null;)o(V,F),F=F.sibling;return null}function h(V,F){for(V=new Map;F!==null;)F.key!==null?V.set(F.key,F):V.set(F.index,F),F=F.sibling;return V}function _(V,F){return V=Ki(V,F),V.index=0,V.sibling=null,V}function w(V,F,H){return V.index=H,t?(H=V.alternate,H!==null?(H=H.index,H<F?(V.flags|=2,F):H):(V.flags|=2,F)):(V.flags|=1048576,F)}function P(V){return t&&V.alternate===null&&(V.flags|=2),V}function k(V,F,H,ie){return F===null||F.tag!==6?(F=bu(H,V.mode,ie),F.return=V,F):(F=_(F,H),F.return=V,F)}function R(V,F,H,ie){var Te=H.type;return Te===se?X(V,F,H.props.children,ie,H.key):F!==null&&(F.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Re&&Vc(Te)===F.type)?(ie=_(F,H.props),ie.ref=gs(V,F,H),ie.return=V,ie):(ie=el(H.type,H.key,H.props,null,V.mode,ie),ie.ref=gs(V,F,H),ie.return=V,ie)}function G(V,F,H,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==H.containerInfo||F.stateNode.implementation!==H.implementation?(F=Gu(H,V.mode,ie),F.return=V,F):(F=_(F,H.children||[]),F.return=V,F)}function X(V,F,H,ie,Te){return F===null||F.tag!==7?(F=No(H,V.mode,ie,Te),F.return=V,F):(F=_(F,H),F.return=V,F)}function ne(V,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return F=bu(""+F,V.mode,H),F.return=V,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case pe:return H=el(F.type,F.key,F.props,null,V.mode,H),H.ref=gs(V,null,F),H.return=V,H;case he:return F=Gu(F,V.mode,H),F.return=V,F;case Re:var ie=F._init;return ne(V,ie(F._payload),H)}if(pi(F)||ee(F))return F=No(F,V.mode,H,null),F.return=V,F;Aa(V,F)}return null}function $(V,F,H,ie){var Te=F!==null?F.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return Te!==null?null:k(V,F,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case pe:return H.key===Te?R(V,F,H,ie):null;case he:return H.key===Te?G(V,F,H,ie):null;case Re:return Te=H._init,$(V,F,Te(H._payload),ie)}if(pi(H)||ee(H))return Te!==null?null:X(V,F,H,ie,null);Aa(V,H)}return null}function le(V,F,H,ie,Te){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return V=V.get(H)||null,k(F,V,""+ie,Te);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case pe:return V=V.get(ie.key===null?H:ie.key)||null,R(F,V,ie,Te);case he:return V=V.get(ie.key===null?H:ie.key)||null,G(F,V,ie,Te);case Re:var Ee=ie._init;return le(V,F,H,Ee(ie._payload),Te)}if(pi(ie)||ee(ie))return V=V.get(H)||null,X(F,V,ie,Te,null);Aa(F,ie)}return null}function ge(V,F,H,ie){for(var Te=null,Ee=null,Pe=F,ke=F=0,gt=null;Pe!==null&&ke<H.length;ke++){Pe.index>ke?(gt=Pe,Pe=null):gt=Pe.sibling;var Ge=$(V,Pe,H[ke],ie);if(Ge===null){Pe===null&&(Pe=gt);break}t&&Pe&&Ge.alternate===null&&o(V,Pe),F=w(Ge,F,ke),Ee===null?Te=Ge:Ee.sibling=Ge,Ee=Ge,Pe=gt}if(ke===H.length)return l(V,Pe),et&&To(V,ke),Te;if(Pe===null){for(;ke<H.length;ke++)Pe=ne(V,H[ke],ie),Pe!==null&&(F=w(Pe,F,ke),Ee===null?Te=Pe:Ee.sibling=Pe,Ee=Pe);return et&&To(V,ke),Te}for(Pe=h(V,Pe);ke<H.length;ke++)gt=le(Pe,V,ke,H[ke],ie),gt!==null&&(t&&gt.alternate!==null&&Pe.delete(gt.key===null?ke:gt.key),F=w(gt,F,ke),Ee===null?Te=gt:Ee.sibling=gt,Ee=gt);return t&&Pe.forEach(function(Yi){return o(V,Yi)}),et&&To(V,ke),Te}function _e(V,F,H,ie){var Te=ee(H);if(typeof Te!="function")throw Error(r(150));if(H=Te.call(H),H==null)throw Error(r(151));for(var Ee=Te=null,Pe=F,ke=F=0,gt=null,Ge=H.next();Pe!==null&&!Ge.done;ke++,Ge=H.next()){Pe.index>ke?(gt=Pe,Pe=null):gt=Pe.sibling;var Yi=$(V,Pe,Ge.value,ie);if(Yi===null){Pe===null&&(Pe=gt);break}t&&Pe&&Yi.alternate===null&&o(V,Pe),F=w(Yi,F,ke),Ee===null?Te=Yi:Ee.sibling=Yi,Ee=Yi,Pe=gt}if(Ge.done)return l(V,Pe),et&&To(V,ke),Te;if(Pe===null){for(;!Ge.done;ke++,Ge=H.next())Ge=ne(V,Ge.value,ie),Ge!==null&&(F=w(Ge,F,ke),Ee===null?Te=Ge:Ee.sibling=Ge,Ee=Ge);return et&&To(V,ke),Te}for(Pe=h(V,Pe);!Ge.done;ke++,Ge=H.next())Ge=le(Pe,V,ke,Ge.value,ie),Ge!==null&&(t&&Ge.alternate!==null&&Pe.delete(Ge.key===null?ke:Ge.key),F=w(Ge,F,ke),Ee===null?Te=Ge:Ee.sibling=Ge,Ee=Ge);return t&&Pe.forEach(function(fm){return o(V,fm)}),et&&To(V,ke),Te}function at(V,F,H,ie){if(typeof H=="object"&&H!==null&&H.type===se&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case pe:e:{for(var Te=H.key,Ee=F;Ee!==null;){if(Ee.key===Te){if(Te=H.type,Te===se){if(Ee.tag===7){l(V,Ee.sibling),F=_(Ee,H.props.children),F.return=V,V=F;break e}}else if(Ee.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Re&&Vc(Te)===Ee.type){l(V,Ee.sibling),F=_(Ee,H.props),F.ref=gs(V,Ee,H),F.return=V,V=F;break e}l(V,Ee);break}else o(V,Ee);Ee=Ee.sibling}H.type===se?(F=No(H.props.children,V.mode,ie,H.key),F.return=V,V=F):(ie=el(H.type,H.key,H.props,null,V.mode,ie),ie.ref=gs(V,F,H),ie.return=V,V=ie)}return P(V);case he:e:{for(Ee=H.key;F!==null;){if(F.key===Ee)if(F.tag===4&&F.stateNode.containerInfo===H.containerInfo&&F.stateNode.implementation===H.implementation){l(V,F.sibling),F=_(F,H.children||[]),F.return=V,V=F;break e}else{l(V,F);break}else o(V,F);F=F.sibling}F=Gu(H,V.mode,ie),F.return=V,V=F}return P(V);case Re:return Ee=H._init,at(V,F,Ee(H._payload),ie)}if(pi(H))return ge(V,F,H,ie);if(ee(H))return _e(V,F,H,ie);Aa(V,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,F!==null&&F.tag===6?(l(V,F.sibling),F=_(F,H),F.return=V,V=F):(l(V,F),F=bu(H,V.mode,ie),F.return=V,V=F),P(V)):l(V,F)}return at}var hr=Hc(!0),bc=Hc(!1),Ma=zi(null),Ra=null,pr=null,Ql=null;function Xl(){Ql=pr=Ra=null}function jl(t){var o=Ma.current;Qe(Ma),t._currentValue=o}function eu(t,o,l){for(;t!==null;){var h=t.alternate;if((t.childLanes&o)!==o?(t.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),t===l)break;t=t.return}}function mr(t,o){Ra=t,Ql=pr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&o)!==0&&(Vt=!0),t.firstContext=null)}function un(t){var o=t._currentValue;if(Ql!==t)if(t={context:t,memoizedValue:o,next:null},pr===null){if(Ra===null)throw Error(r(308));pr=t,Ra.dependencies={lanes:0,firstContext:t}}else pr=pr.next=t;return o}var wo=null;function tu(t){wo===null?wo=[t]:wo.push(t)}function Gc(t,o,l,h){var _=o.interleaved;return _===null?(l.next=l,tu(o)):(l.next=_.next,_.next=l),o.interleaved=l,oi(t,h)}function oi(t,o){t.lanes|=o;var l=t.alternate;for(l!==null&&(l.lanes|=o),l=t,t=t.return;t!==null;)t.childLanes|=o,l=t.alternate,l!==null&&(l.childLanes|=o),l=t,t=t.return;return l.tag===3?l.stateNode:null}var bi=!1;function nu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qc(t,o){t=t.updateQueue,o.updateQueue===t&&(o.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,o){return{eventTime:t,lane:o,tag:0,payload:null,callback:null,next:null}}function Gi(t,o,l){var h=t.updateQueue;if(h===null)return null;if(h=h.shared,(be&2)!==0){var _=h.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),h.pending=o,oi(t,l)}return _=h.interleaved,_===null?(o.next=o,tu(h)):(o.next=_.next,_.next=o),h.interleaved=o,oi(t,l)}function La(t,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=t.pendingLanes,l|=h,o.lanes=l,mn(t,l)}}function Oc(t,o){var l=t.updateQueue,h=t.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var _=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var P={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};w===null?_=w=P:w=w.next=P,l=l.next}while(l!==null);w===null?_=w=o:w=w.next=o}else _=w=o;l={baseState:h.baseState,firstBaseUpdate:_,lastBaseUpdate:w,shared:h.shared,effects:h.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=o:t.next=o,l.lastBaseUpdate=o}function Da(t,o,l,h){var _=t.updateQueue;bi=!1;var w=_.firstBaseUpdate,P=_.lastBaseUpdate,k=_.shared.pending;if(k!==null){_.shared.pending=null;var R=k,G=R.next;R.next=null,P===null?w=G:P.next=G,P=R;var X=t.alternate;X!==null&&(X=X.updateQueue,k=X.lastBaseUpdate,k!==P&&(k===null?X.firstBaseUpdate=G:k.next=G,X.lastBaseUpdate=R))}if(w!==null){var ne=_.baseState;P=0,X=G=R=null,k=w;do{var $=k.lane,le=k.eventTime;if((h&$)===$){X!==null&&(X=X.next={eventTime:le,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ge=t,_e=k;switch($=o,le=l,_e.tag){case 1:if(ge=_e.payload,typeof ge=="function"){ne=ge.call(le,ne,$);break e}ne=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=_e.payload,$=typeof ge=="function"?ge.call(le,ne,$):ge,$==null)break e;ne=O({},ne,$);break e;case 2:bi=!0}}k.callback!==null&&k.lane!==0&&(t.flags|=64,$=_.effects,$===null?_.effects=[k]:$.push(k))}else le={eventTime:le,lane:$,tag:k.tag,payload:k.payload,callback:k.callback,next:null},X===null?(G=X=le,R=ne):X=X.next=le,P|=$;if(k=k.next,k===null){if(k=_.shared.pending,k===null)break;$=k,k=$.next,$.next=null,_.lastBaseUpdate=$,_.shared.pending=null}}while(!0);if(X===null&&(R=ne),_.baseState=R,_.firstBaseUpdate=G,_.lastBaseUpdate=X,o=_.shared.interleaved,o!==null){_=o;do P|=_.lane,_=_.next;while(_!==o)}else w===null&&(_.shared.lanes=0);So|=P,t.lanes=P,t.memoizedState=ne}}function Wc(t,o,l){if(t=o.effects,o.effects=null,t!==null)for(o=0;o<t.length;o++){var h=t[o],_=h.callback;if(_!==null){if(h.callback=null,h=l,typeof _!="function")throw Error(r(191,_));_.call(h)}}}var _s={},Un=zi(_s),vs=zi(_s),ys=zi(_s);function Co(t){if(t===_s)throw Error(r(174));return t}function iu(t,o){switch(Ye(ys,o),Ye(vs,t),Ye(Un,_s),t=o.nodeType,t){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ro(null,"");break;default:t=t===8?o.parentNode:o,o=t.namespaceURI||null,t=t.tagName,o=Ro(o,t)}Qe(Un),Ye(Un,o)}function gr(){Qe(Un),Qe(vs),Qe(ys)}function Zc(t){Co(ys.current);var o=Co(Un.current),l=Ro(o,t.type);o!==l&&(Ye(vs,t),Ye(Un,l))}function ou(t){vs.current===t&&(Qe(Un),Qe(vs))}var it=zi(0);function Fa(t){for(var o=t;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ru=[];function su(){for(var t=0;t<ru.length;t++)ru[t]._workInProgressVersionPrimary=null;ru.length=0}var Ua=oe.ReactCurrentDispatcher,au=oe.ReactCurrentBatchConfig,xo=0,ot=null,ft=null,pt=null,Ba=!1,Ts=!1,ws=0,Dp=0;function Et(){throw Error(r(321))}function lu(t,o){if(o===null)return!1;for(var l=0;l<o.length&&l<t.length;l++)if(!Yt(t[l],o[l]))return!1;return!0}function uu(t,o,l,h,_,w){if(xo=w,ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ua.current=t===null||t.memoizedState===null?zp:Vp,t=l(h,_),Ts){w=0;do{if(Ts=!1,ws=0,25<=w)throw Error(r(301));w+=1,pt=ft=null,o.updateQueue=null,Ua.current=Hp,t=l(h,_)}while(Ts)}if(Ua.current=Ha,o=ft!==null&&ft.next!==null,xo=0,pt=ft=ot=null,Ba=!1,o)throw Error(r(300));return t}function cu(){var t=ws!==0;return ws=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?ot.memoizedState=pt=t:pt=pt.next=t,pt}function cn(){if(ft===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var o=pt===null?ot.memoizedState:pt.next;if(o!==null)pt=o,ft=t;else{if(t===null)throw Error(r(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},pt===null?ot.memoizedState=pt=t:pt=pt.next=t}return pt}function Cs(t,o){return typeof o=="function"?o(t):o}function du(t){var o=cn(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=t;var h=ft,_=h.baseQueue,w=l.pending;if(w!==null){if(_!==null){var P=_.next;_.next=w.next,w.next=P}h.baseQueue=_=w,l.pending=null}if(_!==null){w=_.next,h=h.baseState;var k=P=null,R=null,G=w;do{var X=G.lane;if((xo&X)===X)R!==null&&(R=R.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),h=G.hasEagerState?G.eagerState:t(h,G.action);else{var ne={lane:X,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};R===null?(k=R=ne,P=h):R=R.next=ne,ot.lanes|=X,So|=X}G=G.next}while(G!==null&&G!==w);R===null?P=h:R.next=k,Yt(h,o.memoizedState)||(Vt=!0),o.memoizedState=h,o.baseState=P,o.baseQueue=R,l.lastRenderedState=h}if(t=l.interleaved,t!==null){_=t;do w=_.lane,ot.lanes|=w,So|=w,_=_.next;while(_!==t)}else _===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function fu(t){var o=cn(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=t;var h=l.dispatch,_=l.pending,w=o.memoizedState;if(_!==null){l.pending=null;var P=_=_.next;do w=t(w,P.action),P=P.next;while(P!==_);Yt(w,o.memoizedState)||(Vt=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),l.lastRenderedState=w}return[w,h]}function Jc(){}function Kc(t,o){var l=ot,h=cn(),_=o(),w=!Yt(h.memoizedState,_);if(w&&(h.memoizedState=_,Vt=!0),h=h.queue,hu(Qc.bind(null,l,h,t),[t]),h.getSnapshot!==o||w||pt!==null&&pt.memoizedState.tag&1){if(l.flags|=2048,xs(9,$c.bind(null,l,h,_,o),void 0,null),mt===null)throw Error(r(349));(xo&30)!==0||Yc(l,o,_)}return _}function Yc(t,o,l){t.flags|=16384,t={getSnapshot:o,value:l},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.stores=[t]):(l=o.stores,l===null?o.stores=[t]:l.push(t))}function $c(t,o,l,h){o.value=l,o.getSnapshot=h,Xc(o)&&jc(t)}function Qc(t,o,l){return l(function(){Xc(o)&&jc(t)})}function Xc(t){var o=t.getSnapshot;t=t.value;try{var l=o();return!Yt(t,l)}catch{return!0}}function jc(t){var o=oi(t,1);o!==null&&Sn(o,t,1,-1)}function ed(t){var o=Bn();return typeof t=="function"&&(t=t()),o.memoizedState=o.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:t},o.queue=t,t=t.dispatch=Bp.bind(null,ot,t),[o.memoizedState,t]}function xs(t,o,l,h){return t={tag:t,create:o,destroy:l,deps:h,next:null},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.lastEffect=t.next=t):(l=o.lastEffect,l===null?o.lastEffect=t.next=t:(h=l.next,l.next=t,t.next=h,o.lastEffect=t)),t}function td(){return cn().memoizedState}function za(t,o,l,h){var _=Bn();ot.flags|=t,_.memoizedState=xs(1|o,l,void 0,h===void 0?null:h)}function Va(t,o,l,h){var _=cn();h=h===void 0?null:h;var w=void 0;if(ft!==null){var P=ft.memoizedState;if(w=P.destroy,h!==null&&lu(h,P.deps)){_.memoizedState=xs(o,l,w,h);return}}ot.flags|=t,_.memoizedState=xs(1|o,l,w,h)}function nd(t,o){return za(8390656,8,t,o)}function hu(t,o){return Va(2048,8,t,o)}function id(t,o){return Va(4,2,t,o)}function od(t,o){return Va(4,4,t,o)}function rd(t,o){if(typeof o=="function")return t=t(),o(t),function(){o(null)};if(o!=null)return t=t(),o.current=t,function(){o.current=null}}function sd(t,o,l){return l=l!=null?l.concat([t]):null,Va(4,4,rd.bind(null,o,t),l)}function pu(){}function ad(t,o){var l=cn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&lu(o,h[1])?h[0]:(l.memoizedState=[t,o],t)}function ld(t,o){var l=cn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&lu(o,h[1])?h[0]:(t=t(),l.memoizedState=[t,o],t)}function ud(t,o,l){return(xo&21)===0?(t.baseState&&(t.baseState=!1,Vt=!0),t.memoizedState=l):(Yt(l,o)||(l=ta(),ot.lanes|=l,So|=l,t.baseState=!0),o)}function Fp(t,o){var l=He;He=l!==0&&4>l?l:4,t(!0);var h=au.transition;au.transition={};try{t(!1),o()}finally{He=l,au.transition=h}}function cd(){return cn().memoizedState}function Up(t,o,l){var h=Zi(t);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},dd(t))fd(o,l);else if(l=Gc(t,o,l,h),l!==null){var _=Lt();Sn(l,t,h,_),hd(l,o,h)}}function Bp(t,o,l){var h=Zi(t),_={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(dd(t))fd(o,_);else{var w=t.alternate;if(t.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var P=o.lastRenderedState,k=w(P,l);if(_.hasEagerState=!0,_.eagerState=k,Yt(k,P)){var R=o.interleaved;R===null?(_.next=_,tu(o)):(_.next=R.next,R.next=_),o.interleaved=_;return}}catch{}finally{}l=Gc(t,o,_,h),l!==null&&(_=Lt(),Sn(l,t,h,_),hd(l,o,h))}}function dd(t){var o=t.alternate;return t===ot||o!==null&&o===ot}function fd(t,o){Ts=Ba=!0;var l=t.pending;l===null?o.next=o:(o.next=l.next,l.next=o),t.pending=o}function hd(t,o,l){if((l&4194240)!==0){var h=o.lanes;h&=t.pendingLanes,l|=h,o.lanes=l,mn(t,l)}}var Ha={readContext:un,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},zp={readContext:un,useCallback:function(t,o){return Bn().memoizedState=[t,o===void 0?null:o],t},useContext:un,useEffect:nd,useImperativeHandle:function(t,o,l){return l=l!=null?l.concat([t]):null,za(4194308,4,rd.bind(null,o,t),l)},useLayoutEffect:function(t,o){return za(4194308,4,t,o)},useInsertionEffect:function(t,o){return za(4,2,t,o)},useMemo:function(t,o){var l=Bn();return o=o===void 0?null:o,t=t(),l.memoizedState=[t,o],t},useReducer:function(t,o,l){var h=Bn();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},h.queue=t,t=t.dispatch=Up.bind(null,ot,t),[h.memoizedState,t]},useRef:function(t){var o=Bn();return t={current:t},o.memoizedState=t},useState:ed,useDebugValue:pu,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=ed(!1),o=t[0];return t=Fp.bind(null,t[1]),Bn().memoizedState=t,[o,t]},useMutableSource:function(){},useSyncExternalStore:function(t,o,l){var h=ot,_=Bn();if(et){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),mt===null)throw Error(r(349));(xo&30)!==0||Yc(h,o,l)}_.memoizedState=l;var w={value:l,getSnapshot:o};return _.queue=w,nd(Qc.bind(null,h,w,t),[t]),h.flags|=2048,xs(9,$c.bind(null,h,w,l,o),void 0,null),l},useId:function(){var t=Bn(),o=mt.identifierPrefix;if(et){var l=ii,h=ni;l=(h&~(1<<32-Me(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=ws++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=Dp++,o=":"+o+"r"+l.toString(32)+":";return t.memoizedState=o},unstable_isNewReconciler:!1},Vp={readContext:un,useCallback:ad,useContext:un,useEffect:hu,useImperativeHandle:sd,useInsertionEffect:id,useLayoutEffect:od,useMemo:ld,useReducer:du,useRef:td,useState:function(){return du(Cs)},useDebugValue:pu,useDeferredValue:function(t){var o=cn();return ud(o,ft.memoizedState,t)},useTransition:function(){var t=du(Cs)[0],o=cn().memoizedState;return[t,o]},useMutableSource:Jc,useSyncExternalStore:Kc,useId:cd,unstable_isNewReconciler:!1},Hp={readContext:un,useCallback:ad,useContext:un,useEffect:hu,useImperativeHandle:sd,useInsertionEffect:id,useLayoutEffect:od,useMemo:ld,useReducer:fu,useRef:td,useState:function(){return fu(Cs)},useDebugValue:pu,useDeferredValue:function(t){var o=cn();return ft===null?o.memoizedState=t:ud(o,ft.memoizedState,t)},useTransition:function(){var t=fu(Cs)[0],o=cn().memoizedState;return[t,o]},useMutableSource:Jc,useSyncExternalStore:Kc,useId:cd,unstable_isNewReconciler:!1};function wn(t,o){if(t&&t.defaultProps){o=O({},o),t=t.defaultProps;for(var l in t)o[l]===void 0&&(o[l]=t[l]);return o}return o}function mu(t,o,l,h){o=t.memoizedState,l=l(h,o),l=l==null?o:O({},o,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var ba={isMounted:function(t){return(t=t._reactInternals)?In(t)===t:!1},enqueueSetState:function(t,o,l){t=t._reactInternals;var h=Lt(),_=Zi(t),w=ri(h,_);w.payload=o,l!=null&&(w.callback=l),o=Gi(t,w,_),o!==null&&(Sn(o,t,_,h),La(o,t,_))},enqueueReplaceState:function(t,o,l){t=t._reactInternals;var h=Lt(),_=Zi(t),w=ri(h,_);w.tag=1,w.payload=o,l!=null&&(w.callback=l),o=Gi(t,w,_),o!==null&&(Sn(o,t,_,h),La(o,t,_))},enqueueForceUpdate:function(t,o){t=t._reactInternals;var l=Lt(),h=Zi(t),_=ri(l,h);_.tag=2,o!=null&&(_.callback=o),o=Gi(t,_,h),o!==null&&(Sn(o,t,h,l),La(o,t,h))}};function pd(t,o,l,h,_,w,P){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(h,w,P):o.prototype&&o.prototype.isPureReactComponent?!Rn(l,h)||!Rn(_,w):!0}function md(t,o,l){var h=!1,_=Vi,w=o.contextType;return typeof w=="object"&&w!==null?w=un(w):(_=zt(o)?vo:St.current,h=o.contextTypes,w=(h=h!=null)?ur(t,_):Vi),o=new o(l,w),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ba,t.stateNode=o,o._reactInternals=t,h&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=_,t.__reactInternalMemoizedMaskedChildContext=w),o}function gd(t,o,l,h){t=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==t&&ba.enqueueReplaceState(o,o.state,null)}function gu(t,o,l,h){var _=t.stateNode;_.props=l,_.state=t.memoizedState,_.refs={},nu(t);var w=o.contextType;typeof w=="object"&&w!==null?_.context=un(w):(w=zt(o)?vo:St.current,_.context=ur(t,w)),_.state=t.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(mu(t,o,w,l),_.state=t.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(o=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),o!==_.state&&ba.enqueueReplaceState(_,_.state,null),Da(t,l,_,h),_.state=t.memoizedState),typeof _.componentDidMount=="function"&&(t.flags|=4194308)}function _r(t,o){try{var l="",h=o;do l+=ve(h),h=h.return;while(h);var _=l}catch(w){_=`
Error generating stack: `+w.message+`
`+w.stack}return{value:t,source:o,stack:_,digest:null}}function _u(t,o,l){return{value:t,source:null,stack:l??null,digest:o??null}}function vu(t,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var bp=typeof WeakMap=="function"?WeakMap:Map;function _d(t,o,l){l=ri(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){Ka||(Ka=!0,Lu=h),vu(t,o)},l}function vd(t,o,l){l=ri(-1,l),l.tag=3;var h=t.type.getDerivedStateFromError;if(typeof h=="function"){var _=o.value;l.payload=function(){return h(_)},l.callback=function(){vu(t,o)}}var w=t.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(l.callback=function(){vu(t,o),typeof h!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var P=o.stack;this.componentDidCatch(o.value,{componentStack:P!==null?P:""})}),l}function yd(t,o,l){var h=t.pingCache;if(h===null){h=t.pingCache=new bp;var _=new Set;h.set(o,_)}else _=h.get(o),_===void 0&&(_=new Set,h.set(o,_));_.has(l)||(_.add(l),t=tm.bind(null,t,o,l),o.then(t,t))}function Td(t){do{var o;if((o=t.tag===13)&&(o=t.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return t;t=t.return}while(t!==null);return null}function wd(t,o,l,h,_){return(t.mode&1)===0?(t===o?t.flags|=65536:(t.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=ri(-1,1),o.tag=2,Gi(l,o,1))),l.lanes|=1),t):(t.flags|=65536,t.lanes=_,t)}var Gp=oe.ReactCurrentOwner,Vt=!1;function Rt(t,o,l,h){o.child=t===null?bc(o,null,l,h):hr(o,t.child,l,h)}function Cd(t,o,l,h,_){l=l.render;var w=o.ref;return mr(o,_),h=uu(t,o,l,h,w,_),l=cu(),t!==null&&!Vt?(o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~_,si(t,o,_)):(et&&l&&Zl(o),o.flags|=1,Rt(t,o,h,_),o.child)}function xd(t,o,l,h,_){if(t===null){var w=l.type;return typeof w=="function"&&!Hu(w)&&w.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=w,Sd(t,o,w,h,_)):(t=el(l.type,null,h,o,o.mode,_),t.ref=o.ref,t.return=o,o.child=t)}if(w=t.child,(t.lanes&_)===0){var P=w.memoizedProps;if(l=l.compare,l=l!==null?l:Rn,l(P,h)&&t.ref===o.ref)return si(t,o,_)}return o.flags|=1,t=Ki(w,h),t.ref=o.ref,t.return=o,o.child=t}function Sd(t,o,l,h,_){if(t!==null){var w=t.memoizedProps;if(Rn(w,h)&&t.ref===o.ref)if(Vt=!1,o.pendingProps=h=w,(t.lanes&_)!==0)(t.flags&131072)!==0&&(Vt=!0);else return o.lanes=t.lanes,si(t,o,_)}return yu(t,o,l,h,_)}function Ed(t,o,l){var h=o.pendingProps,_=h.children,w=t!==null?t.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(yr,jt),jt|=l;else{if((l&1073741824)===0)return t=w!==null?w.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:t,cachePool:null,transitions:null},o.updateQueue=null,Ye(yr,jt),jt|=t,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:l,Ye(yr,jt),jt|=h}else w!==null?(h=w.baseLanes|l,o.memoizedState=null):h=l,Ye(yr,jt),jt|=h;return Rt(t,o,_,l),o.child}function Pd(t,o){var l=o.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function yu(t,o,l,h,_){var w=zt(l)?vo:St.current;return w=ur(o,w),mr(o,_),l=uu(t,o,l,h,w,_),h=cu(),t!==null&&!Vt?(o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~_,si(t,o,_)):(et&&h&&Zl(o),o.flags|=1,Rt(t,o,l,_),o.child)}function Id(t,o,l,h,_){if(zt(l)){var w=!0;Ea(o)}else w=!1;if(mr(o,_),o.stateNode===null)qa(t,o),md(o,l,h),gu(o,l,h,_),h=!0;else if(t===null){var P=o.stateNode,k=o.memoizedProps;P.props=k;var R=P.context,G=l.contextType;typeof G=="object"&&G!==null?G=un(G):(G=zt(l)?vo:St.current,G=ur(o,G));var X=l.getDerivedStateFromProps,ne=typeof X=="function"||typeof P.getSnapshotBeforeUpdate=="function";ne||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(k!==h||R!==G)&&gd(o,P,h,G),bi=!1;var $=o.memoizedState;P.state=$,Da(o,h,P,_),R=o.memoizedState,k!==h||$!==R||Bt.current||bi?(typeof X=="function"&&(mu(o,l,X,h),R=o.memoizedState),(k=bi||pd(o,l,k,h,$,R,G))?(ne||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(o.flags|=4194308)):(typeof P.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=R),P.props=h,P.state=R,P.context=G,h=k):(typeof P.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{P=o.stateNode,qc(t,o),k=o.memoizedProps,G=o.type===o.elementType?k:wn(o.type,k),P.props=G,ne=o.pendingProps,$=P.context,R=l.contextType,typeof R=="object"&&R!==null?R=un(R):(R=zt(l)?vo:St.current,R=ur(o,R));var le=l.getDerivedStateFromProps;(X=typeof le=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(k!==ne||$!==R)&&gd(o,P,h,R),bi=!1,$=o.memoizedState,P.state=$,Da(o,h,P,_);var ge=o.memoizedState;k!==ne||$!==ge||Bt.current||bi?(typeof le=="function"&&(mu(o,l,le,h),ge=o.memoizedState),(G=bi||pd(o,l,G,h,$,ge,R)||!1)?(X||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(h,ge,R),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(h,ge,R)),typeof P.componentDidUpdate=="function"&&(o.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof P.componentDidUpdate!="function"||k===t.memoizedProps&&$===t.memoizedState||(o.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&$===t.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ge),P.props=h,P.state=ge,P.context=R,h=G):(typeof P.componentDidUpdate!="function"||k===t.memoizedProps&&$===t.memoizedState||(o.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&$===t.memoizedState||(o.flags|=1024),h=!1)}return Tu(t,o,l,h,w,_)}function Tu(t,o,l,h,_,w){Pd(t,o);var P=(o.flags&128)!==0;if(!h&&!P)return _&&Rc(o,l,!1),si(t,o,w);h=o.stateNode,Gp.current=o;var k=P&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,t!==null&&P?(o.child=hr(o,t.child,null,w),o.child=hr(o,null,k,w)):Rt(t,o,k,w),o.memoizedState=h.state,_&&Rc(o,l,!0),o.child}function Nd(t){var o=t.stateNode;o.pendingContext?Ac(t,o.pendingContext,o.pendingContext!==o.context):o.context&&Ac(t,o.context,!1),iu(t,o.containerInfo)}function kd(t,o,l,h,_){return fr(),$l(_),o.flags|=256,Rt(t,o,l,h),o.child}var wu={dehydrated:null,treeContext:null,retryLane:0};function Cu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ad(t,o,l){var h=o.pendingProps,_=it.current,w=!1,P=(o.flags&128)!==0,k;if((k=P)||(k=t!==null&&t.memoizedState===null?!1:(_&2)!==0),k?(w=!0,o.flags&=-129):(t===null||t.memoizedState!==null)&&(_|=1),Ye(it,_&1),t===null)return Yl(o),t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((o.mode&1)===0?o.lanes=1:t.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(P=h.children,t=h.fallback,w?(h=o.mode,w=o.child,P={mode:"hidden",children:P},(h&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=P):w=tl(P,h,0,null),t=No(t,h,l,null),w.return=o,t.return=o,w.sibling=t,o.child=w,o.child.memoizedState=Cu(l),o.memoizedState=wu,t):xu(o,P));if(_=t.memoizedState,_!==null&&(k=_.dehydrated,k!==null))return qp(t,o,P,h,k,_,l);if(w){w=h.fallback,P=o.mode,_=t.child,k=_.sibling;var R={mode:"hidden",children:h.children};return(P&1)===0&&o.child!==_?(h=o.child,h.childLanes=0,h.pendingProps=R,o.deletions=null):(h=Ki(_,R),h.subtreeFlags=_.subtreeFlags&14680064),k!==null?w=Ki(k,w):(w=No(w,P,l,null),w.flags|=2),w.return=o,h.return=o,h.sibling=w,o.child=h,h=w,w=o.child,P=t.child.memoizedState,P=P===null?Cu(l):{baseLanes:P.baseLanes|l,cachePool:null,transitions:P.transitions},w.memoizedState=P,w.childLanes=t.childLanes&~l,o.memoizedState=wu,h}return w=t.child,t=w.sibling,h=Ki(w,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,t!==null&&(l=o.deletions,l===null?(o.deletions=[t],o.flags|=16):l.push(t)),o.child=h,o.memoizedState=null,h}function xu(t,o){return o=tl({mode:"visible",children:o},t.mode,0,null),o.return=t,t.child=o}function Ga(t,o,l,h){return h!==null&&$l(h),hr(o,t.child,null,l),t=xu(o,o.pendingProps.children),t.flags|=2,o.memoizedState=null,t}function qp(t,o,l,h,_,w,P){if(l)return o.flags&256?(o.flags&=-257,h=_u(Error(r(422))),Ga(t,o,P,h)):o.memoizedState!==null?(o.child=t.child,o.flags|=128,null):(w=h.fallback,_=o.mode,h=tl({mode:"visible",children:h.children},_,0,null),w=No(w,_,P,null),w.flags|=2,h.return=o,w.return=o,h.sibling=w,o.child=h,(o.mode&1)!==0&&hr(o,t.child,null,P),o.child.memoizedState=Cu(P),o.memoizedState=wu,w);if((o.mode&1)===0)return Ga(t,o,P,null);if(_.data==="$!"){if(h=_.nextSibling&&_.nextSibling.dataset,h)var k=h.dgst;return h=k,w=Error(r(419)),h=_u(w,h,void 0),Ga(t,o,P,h)}if(k=(P&t.childLanes)!==0,Vt||k){if(h=mt,h!==null){switch(P&-P){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(h.suspendedLanes|P))!==0?0:_,_!==0&&_!==w.retryLane&&(w.retryLane=_,oi(t,_),Sn(h,t,_,-1))}return Vu(),h=_u(Error(r(421))),Ga(t,o,P,h)}return _.data==="$?"?(o.flags|=128,o.child=t.child,o=nm.bind(null,t),_._reactRetry=o,null):(t=w.treeContext,Xt=Fn(_.nextSibling),Qt=o,et=!0,Tn=null,t!==null&&(an[ln++]=ni,an[ln++]=ii,an[ln++]=yo,ni=t.id,ii=t.overflow,yo=o),o=xu(o,h.children),o.flags|=4096,o)}function Md(t,o,l){t.lanes|=o;var h=t.alternate;h!==null&&(h.lanes|=o),eu(t.return,o,l)}function Su(t,o,l,h,_){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:_}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=l,w.tailMode=_)}function Rd(t,o,l){var h=o.pendingProps,_=h.revealOrder,w=h.tail;if(Rt(t,o,h.children,l),h=it.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=o.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Md(t,l,o);else if(t.tag===19)Md(t,l,o);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===o)break e;for(;t.sibling===null;){if(t.return===null||t.return===o)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}h&=1}if(Ye(it,h),(o.mode&1)===0)o.memoizedState=null;else switch(_){case"forwards":for(l=o.child,_=null;l!==null;)t=l.alternate,t!==null&&Fa(t)===null&&(_=l),l=l.sibling;l=_,l===null?(_=o.child,o.child=null):(_=l.sibling,l.sibling=null),Su(o,!1,_,l,w);break;case"backwards":for(l=null,_=o.child,o.child=null;_!==null;){if(t=_.alternate,t!==null&&Fa(t)===null){o.child=_;break}t=_.sibling,_.sibling=l,l=_,_=t}Su(o,!0,l,null,w);break;case"together":Su(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function qa(t,o){(o.mode&1)===0&&t!==null&&(t.alternate=null,o.alternate=null,o.flags|=2)}function si(t,o,l){if(t!==null&&(o.dependencies=t.dependencies),So|=o.lanes,(l&o.childLanes)===0)return null;if(t!==null&&o.child!==t.child)throw Error(r(153));if(o.child!==null){for(t=o.child,l=Ki(t,t.pendingProps),o.child=l,l.return=o;t.sibling!==null;)t=t.sibling,l=l.sibling=Ki(t,t.pendingProps),l.return=o;l.sibling=null}return o.child}function Op(t,o,l){switch(o.tag){case 3:Nd(o),fr();break;case 5:Zc(o);break;case 1:zt(o.type)&&Ea(o);break;case 4:iu(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,_=o.memoizedProps.value;Ye(Ma,h._currentValue),h._currentValue=_;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Ye(it,it.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Ad(t,o,l):(Ye(it,it.current&1),t=si(t,o,l),t!==null?t.sibling:null);Ye(it,it.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(t.flags&128)!==0){if(h)return Rd(t,o,l);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Ye(it,it.current),h)break;return null;case 22:case 23:return o.lanes=0,Ed(t,o,l)}return si(t,o,l)}var Ld,Eu,Dd,Fd;Ld=function(t,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Eu=function(){},Dd=function(t,o,l,h){var _=t.memoizedProps;if(_!==h){t=o.stateNode,Co(Un.current);var w=null;switch(l){case"input":_=Ar(t,_),h=Ar(t,h),w=[];break;case"select":_=O({},_,{value:void 0}),h=O({},h,{value:void 0}),w=[];break;case"textarea":_=Ao(t,_),h=Ao(t,h),w=[];break;default:typeof _.onClick!="function"&&typeof h.onClick=="function"&&(t.onclick=K)}Ur(l,h);var P;l=null;for(G in _)if(!h.hasOwnProperty(G)&&_.hasOwnProperty(G)&&_[G]!=null)if(G==="style"){var k=_[G];for(P in k)k.hasOwnProperty(P)&&(l||(l={}),l[P]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(u.hasOwnProperty(G)?w||(w=[]):(w=w||[]).push(G,null));for(G in h){var R=h[G];if(k=_!=null?_[G]:void 0,h.hasOwnProperty(G)&&R!==k&&(R!=null||k!=null))if(G==="style")if(k){for(P in k)!k.hasOwnProperty(P)||R&&R.hasOwnProperty(P)||(l||(l={}),l[P]="");for(P in R)R.hasOwnProperty(P)&&k[P]!==R[P]&&(l||(l={}),l[P]=R[P])}else l||(w||(w=[]),w.push(G,l)),l=R;else G==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,k=k?k.__html:void 0,R!=null&&k!==R&&(w=w||[]).push(G,R)):G==="children"?typeof R!="string"&&typeof R!="number"||(w=w||[]).push(G,""+R):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(u.hasOwnProperty(G)?(R!=null&&G==="onScroll"&&Ze("scroll",t),w||k===R||(w=[])):(w=w||[]).push(G,R))}l&&(w=w||[]).push("style",l);var G=w;(o.updateQueue=G)&&(o.flags|=4)}},Fd=function(t,o,l,h){l!==h&&(o.flags|=4)};function Ss(t,o){if(!et)switch(t.tailMode){case"hidden":o=t.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||t.tail===null?t.tail=null:t.tail.sibling=null:h.sibling=null}}function Pt(t){var o=t.alternate!==null&&t.alternate.child===t.child,l=0,h=0;if(o)for(var _=t.child;_!==null;)l|=_.lanes|_.childLanes,h|=_.subtreeFlags&14680064,h|=_.flags&14680064,_.return=t,_=_.sibling;else for(_=t.child;_!==null;)l|=_.lanes|_.childLanes,h|=_.subtreeFlags,h|=_.flags,_.return=t,_=_.sibling;return t.subtreeFlags|=h,t.childLanes=l,o}function Wp(t,o,l){var h=o.pendingProps;switch(Jl(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(o),null;case 1:return zt(o.type)&&Sa(),Pt(o),null;case 3:return h=o.stateNode,gr(),Qe(Bt),Qe(St),su(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(t===null||t.child===null)&&(ka(o)?o.flags|=4:t===null||t.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Tn!==null&&(Uu(Tn),Tn=null))),Eu(t,o),Pt(o),null;case 5:ou(o);var _=Co(ys.current);if(l=o.type,t!==null&&o.stateNode!=null)Dd(t,o,l,h,_),t.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Pt(o),null}if(t=Co(Un.current),ka(o)){h=o.stateNode,l=o.type;var w=o.memoizedProps;switch(h[sn]=o,h[Ui]=w,t=(o.mode&1)!==0,l){case"dialog":Ze("cancel",h),Ze("close",h);break;case"iframe":case"object":case"embed":Ze("load",h);break;case"video":case"audio":for(_=0;_<Li.length;_++)Ze(Li[_],h);break;case"source":Ze("error",h);break;case"img":case"image":case"link":Ze("error",h),Ze("load",h);break;case"details":Ze("toggle",h);break;case"input":Mr(h,w),Ze("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},Ze("invalid",h);break;case"textarea":Dr(h,w),Ze("invalid",h)}Ur(l,w),_=null;for(var P in w)if(w.hasOwnProperty(P)){var k=w[P];P==="children"?typeof k=="string"?h.textContent!==k&&(w.suppressHydrationWarning!==!0&&b(h.textContent,k,t),_=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(w.suppressHydrationWarning!==!0&&b(h.textContent,k,t),_=["children",""+k]):u.hasOwnProperty(P)&&k!=null&&P==="onScroll"&&Ze("scroll",h)}switch(l){case"input":di(h),Xi(h,w,!0);break;case"textarea":di(h),bs(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=K)}h=_,o.updateQueue=h,h!==null&&(o.flags|=4)}else{P=_.nodeType===9?_:_.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Mo(l)),t==="http://www.w3.org/1999/xhtml"?l==="script"?(t=P.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof h.is=="string"?t=P.createElement(l,{is:h.is}):(t=P.createElement(l),l==="select"&&(P=t,h.multiple?P.multiple=!0:h.size&&(P.size=h.size))):t=P.createElementNS(t,l),t[sn]=o,t[Ui]=h,Ld(t,o,!1,!1),o.stateNode=t;e:{switch(P=Vn(l,h),l){case"dialog":Ze("cancel",t),Ze("close",t),_=h;break;case"iframe":case"object":case"embed":Ze("load",t),_=h;break;case"video":case"audio":for(_=0;_<Li.length;_++)Ze(Li[_],t);_=h;break;case"source":Ze("error",t),_=h;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),_=h;break;case"details":Ze("toggle",t),_=h;break;case"input":Mr(t,h),_=Ar(t,h),Ze("invalid",t);break;case"option":_=h;break;case"select":t._wrapperState={wasMultiple:!!h.multiple},_=O({},h,{value:void 0}),Ze("invalid",t);break;case"textarea":Dr(t,h),_=Ao(t,h),Ze("invalid",t);break;default:_=h}Ur(l,_),k=_;for(w in k)if(k.hasOwnProperty(w)){var R=k[w];w==="style"?Lo(t,R):w==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Gs(t,R)):w==="children"?typeof R=="string"?(l!=="textarea"||R!=="")&&mi(t,R):typeof R=="number"&&mi(t,""+R):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(u.hasOwnProperty(w)?R!=null&&w==="onScroll"&&Ze("scroll",t):R!=null&&j(t,w,R,P))}switch(l){case"input":di(t),Xi(t,h,!1);break;case"textarea":di(t),bs(t);break;case"option":h.value!=null&&t.setAttribute("value",""+Ue(h.value));break;case"select":t.multiple=!!h.multiple,w=h.value,w!=null?Pn(t,!!h.multiple,w,!1):h.defaultValue!=null&&Pn(t,!!h.multiple,h.defaultValue,!0);break;default:typeof _.onClick=="function"&&(t.onclick=K)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Pt(o),null;case 6:if(t&&o.stateNode!=null)Fd(t,o,t.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(l=Co(ys.current),Co(Un.current),ka(o)){if(h=o.stateNode,l=o.memoizedProps,h[sn]=o,(w=h.nodeValue!==l)&&(t=Qt,t!==null))switch(t.tag){case 3:b(h.nodeValue,l,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&b(h.nodeValue,l,(t.mode&1)!==0)}w&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[sn]=o,o.stateNode=h}return Pt(o),null;case 13:if(Qe(it),h=o.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Xt!==null&&(o.mode&1)!==0&&(o.flags&128)===0)zc(),fr(),o.flags|=98560,w=!1;else if(w=ka(o),h!==null&&h.dehydrated!==null){if(t===null){if(!w)throw Error(r(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[sn]=o}else fr(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Pt(o),w=!1}else Tn!==null&&(Uu(Tn),Tn=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(t!==null&&t.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(t===null||(it.current&1)!==0?ht===0&&(ht=3):Vu())),o.updateQueue!==null&&(o.flags|=4),Pt(o),null);case 4:return gr(),Eu(t,o),t===null&&Di(o.stateNode.containerInfo),Pt(o),null;case 10:return jl(o.type._context),Pt(o),null;case 17:return zt(o.type)&&Sa(),Pt(o),null;case 19:if(Qe(it),w=o.memoizedState,w===null)return Pt(o),null;if(h=(o.flags&128)!==0,P=w.rendering,P===null)if(h)Ss(w,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=o.child;t!==null;){if(P=Fa(t),P!==null){for(o.flags|=128,Ss(w,!1),h=P.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)w=l,t=h,w.flags&=14680066,P=w.alternate,P===null?(w.childLanes=0,w.lanes=t,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=P.childLanes,w.lanes=P.lanes,w.child=P.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=P.memoizedProps,w.memoizedState=P.memoizedState,w.updateQueue=P.updateQueue,w.type=P.type,t=P.dependencies,w.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l=l.sibling;return Ye(it,it.current&1|2),o.child}t=t.sibling}w.tail!==null&&tt()>Tr&&(o.flags|=128,h=!0,Ss(w,!1),o.lanes=4194304)}else{if(!h)if(t=Fa(P),t!==null){if(o.flags|=128,h=!0,l=t.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Ss(w,!0),w.tail===null&&w.tailMode==="hidden"&&!P.alternate&&!et)return Pt(o),null}else 2*tt()-w.renderingStartTime>Tr&&l!==1073741824&&(o.flags|=128,h=!0,Ss(w,!1),o.lanes=4194304);w.isBackwards?(P.sibling=o.child,o.child=P):(l=w.last,l!==null?l.sibling=P:o.child=P,w.last=P)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=tt(),o.sibling=null,l=it.current,Ye(it,h?l&1|2:l&1),o):(Pt(o),null);case 22:case 23:return zu(),h=o.memoizedState!==null,t!==null&&t.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(jt&1073741824)!==0&&(Pt(o),o.subtreeFlags&6&&(o.flags|=8192)):Pt(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function Zp(t,o){switch(Jl(o),o.tag){case 1:return zt(o.type)&&Sa(),t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 3:return gr(),Qe(Bt),Qe(St),su(),t=o.flags,(t&65536)!==0&&(t&128)===0?(o.flags=t&-65537|128,o):null;case 5:return ou(o),null;case 13:if(Qe(it),t=o.memoizedState,t!==null&&t.dehydrated!==null){if(o.alternate===null)throw Error(r(340));fr()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 19:return Qe(it),null;case 4:return gr(),null;case 10:return jl(o.type._context),null;case 22:case 23:return zu(),null;case 24:return null;default:return null}}var Oa=!1,It=!1,Jp=typeof WeakSet=="function"?WeakSet:Set,fe=null;function vr(t,o){var l=t.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){st(t,o,h)}else l.current=null}function Pu(t,o,l){try{l()}catch(h){st(t,o,h)}}var Ud=!1;function Kp(t,o){if(re=uo,t=as(),ls(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var _=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var P=0,k=-1,R=-1,G=0,X=0,ne=t,$=null;t:for(;;){for(var le;ne!==l||_!==0&&ne.nodeType!==3||(k=P+_),ne!==w||h!==0&&ne.nodeType!==3||(R=P+h),ne.nodeType===3&&(P+=ne.nodeValue.length),(le=ne.firstChild)!==null;)$=ne,ne=le;for(;;){if(ne===t)break t;if($===l&&++G===_&&(k=P),$===w&&++X===h&&(R=P),(le=ne.nextSibling)!==null)break;ne=$,$=ne.parentNode}ne=le}l=k===-1||R===-1?null:{start:k,end:R}}else l=null}l=l||{start:0,end:0}}else l=null;for(xe={focusedElem:t,selectionRange:l},uo=!1,fe=o;fe!==null;)if(o=fe,t=o.child,(o.subtreeFlags&1028)!==0&&t!==null)t.return=o,fe=t;else for(;fe!==null;){o=fe;try{var ge=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var _e=ge.memoizedProps,at=ge.memoizedState,V=o.stateNode,F=V.getSnapshotBeforeUpdate(o.elementType===o.type?_e:wn(o.type,_e),at);V.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ie){st(o,o.return,ie)}if(t=o.sibling,t!==null){t.return=o.return,fe=t;break}fe=o.return}return ge=Ud,Ud=!1,ge}function Es(t,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var _=h=h.next;do{if((_.tag&t)===t){var w=_.destroy;_.destroy=void 0,w!==void 0&&Pu(o,l,w)}_=_.next}while(_!==h)}}function Wa(t,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&t)===t){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function Iu(t){var o=t.ref;if(o!==null){var l=t.stateNode;switch(t.tag){case 5:t=l;break;default:t=l}typeof o=="function"?o(t):o.current=t}}function Bd(t){var o=t.alternate;o!==null&&(t.alternate=null,Bd(o)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(o=t.stateNode,o!==null&&(delete o[sn],delete o[Ui],delete o[Bi],delete o[Gl],delete o[ql])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zd(t){return t.tag===5||t.tag===3||t.tag===4}function Vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nu(t,o,l){var h=t.tag;if(h===5||h===6)t=t.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(t,o):l.insertBefore(t,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(t,l)):(o=l,o.appendChild(t)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=K));else if(h!==4&&(t=t.child,t!==null))for(Nu(t,o,l),t=t.sibling;t!==null;)Nu(t,o,l),t=t.sibling}function ku(t,o,l){var h=t.tag;if(h===5||h===6)t=t.stateNode,o?l.insertBefore(t,o):l.appendChild(t);else if(h!==4&&(t=t.child,t!==null))for(ku(t,o,l),t=t.sibling;t!==null;)ku(t,o,l),t=t.sibling}var vt=null,Cn=!1;function qi(t,o,l){for(l=l.child;l!==null;)Hd(t,o,l),l=l.sibling}function Hd(t,o,l){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(io,l)}catch{}switch(l.tag){case 5:It||vr(l,o);case 6:var h=vt,_=Cn;vt=null,qi(t,o,l),vt=h,Cn=_,vt!==null&&(Cn?(t=vt,l=l.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)):vt.removeChild(l.stateNode));break;case 18:vt!==null&&(Cn?(t=vt,l=l.stateNode,t.nodeType===8?ms(t.parentNode,l):t.nodeType===1&&ms(t,l),Zt(t)):ms(vt,l.stateNode));break;case 4:h=vt,_=Cn,vt=l.stateNode.containerInfo,Cn=!0,qi(t,o,l),vt=h,Cn=_;break;case 0:case 11:case 14:case 15:if(!It&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){_=h=h.next;do{var w=_,P=w.destroy;w=w.tag,P!==void 0&&((w&2)!==0||(w&4)!==0)&&Pu(l,o,P),_=_.next}while(_!==h)}qi(t,o,l);break;case 1:if(!It&&(vr(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(k){st(l,o,k)}qi(t,o,l);break;case 21:qi(t,o,l);break;case 22:l.mode&1?(It=(h=It)||l.memoizedState!==null,qi(t,o,l),It=h):qi(t,o,l);break;default:qi(t,o,l)}}function bd(t){var o=t.updateQueue;if(o!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new Jp),o.forEach(function(h){var _=im.bind(null,t,h);l.has(h)||(l.add(h),h.then(_,_))})}}function xn(t,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var _=l[h];try{var w=t,P=o,k=P;e:for(;k!==null;){switch(k.tag){case 5:vt=k.stateNode,Cn=!1;break e;case 3:vt=k.stateNode.containerInfo,Cn=!0;break e;case 4:vt=k.stateNode.containerInfo,Cn=!0;break e}k=k.return}if(vt===null)throw Error(r(160));Hd(w,P,_),vt=null,Cn=!1;var R=_.alternate;R!==null&&(R.return=null),_.return=null}catch(G){st(_,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Gd(o,t),o=o.sibling}function Gd(t,o){var l=t.alternate,h=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(o,t),zn(t),h&4){try{Es(3,t,t.return),Wa(3,t)}catch(_e){st(t,t.return,_e)}try{Es(5,t,t.return)}catch(_e){st(t,t.return,_e)}}break;case 1:xn(o,t),zn(t),h&512&&l!==null&&vr(l,l.return);break;case 5:if(xn(o,t),zn(t),h&512&&l!==null&&vr(l,l.return),t.flags&32){var _=t.stateNode;try{mi(_,"")}catch(_e){st(t,t.return,_e)}}if(h&4&&(_=t.stateNode,_!=null)){var w=t.memoizedProps,P=l!==null?l.memoizedProps:w,k=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{k==="input"&&w.type==="radio"&&w.name!=null&&Rr(_,w),Vn(k,P);var G=Vn(k,w);for(P=0;P<R.length;P+=2){var X=R[P],ne=R[P+1];X==="style"?Lo(_,ne):X==="dangerouslySetInnerHTML"?Gs(_,ne):X==="children"?mi(_,ne):j(_,X,ne,G)}switch(k){case"input":Qi(_,w);break;case"textarea":Hs(_,w);break;case"select":var $=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!w.multiple;var le=w.value;le!=null?Pn(_,!!w.multiple,le,!1):$!==!!w.multiple&&(w.defaultValue!=null?Pn(_,!!w.multiple,w.defaultValue,!0):Pn(_,!!w.multiple,w.multiple?[]:"",!1))}_[Ui]=w}catch(_e){st(t,t.return,_e)}}break;case 6:if(xn(o,t),zn(t),h&4){if(t.stateNode===null)throw Error(r(162));_=t.stateNode,w=t.memoizedProps;try{_.nodeValue=w}catch(_e){st(t,t.return,_e)}}break;case 3:if(xn(o,t),zn(t),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Zt(o.containerInfo)}catch(_e){st(t,t.return,_e)}break;case 4:xn(o,t),zn(t);break;case 13:xn(o,t),zn(t),_=t.child,_.flags&8192&&(w=_.memoizedState!==null,_.stateNode.isHidden=w,!w||_.alternate!==null&&_.alternate.memoizedState!==null||(Ru=tt())),h&4&&bd(t);break;case 22:if(X=l!==null&&l.memoizedState!==null,t.mode&1?(It=(G=It)||X,xn(o,t),It=G):xn(o,t),zn(t),h&8192){if(G=t.memoizedState!==null,(t.stateNode.isHidden=G)&&!X&&(t.mode&1)!==0)for(fe=t,X=t.child;X!==null;){for(ne=fe=X;fe!==null;){switch($=fe,le=$.child,$.tag){case 0:case 11:case 14:case 15:Es(4,$,$.return);break;case 1:vr($,$.return);var ge=$.stateNode;if(typeof ge.componentWillUnmount=="function"){h=$,l=$.return;try{o=h,ge.props=o.memoizedProps,ge.state=o.memoizedState,ge.componentWillUnmount()}catch(_e){st(h,l,_e)}}break;case 5:vr($,$.return);break;case 22:if($.memoizedState!==null){Wd(ne);continue}}le!==null?(le.return=$,fe=le):Wd(ne)}X=X.sibling}e:for(X=null,ne=t;;){if(ne.tag===5){if(X===null){X=ne;try{_=ne.stateNode,G?(w=_.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(k=ne.stateNode,R=ne.memoizedProps.style,P=R!=null&&R.hasOwnProperty("display")?R.display:null,k.style.display=Fr("display",P))}catch(_e){st(t,t.return,_e)}}}else if(ne.tag===6){if(X===null)try{ne.stateNode.nodeValue=G?"":ne.memoizedProps}catch(_e){st(t,t.return,_e)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===t)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===t)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===t)break e;X===ne&&(X=null),ne=ne.return}X===ne&&(X=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:xn(o,t),zn(t),h&4&&bd(t);break;case 21:break;default:xn(o,t),zn(t)}}function zn(t){var o=t.flags;if(o&2){try{e:{for(var l=t.return;l!==null;){if(zd(l)){var h=l;break e}l=l.return}throw Error(r(160))}switch(h.tag){case 5:var _=h.stateNode;h.flags&32&&(mi(_,""),h.flags&=-33);var w=Vd(t);ku(t,w,_);break;case 3:case 4:var P=h.stateNode.containerInfo,k=Vd(t);Nu(t,k,P);break;default:throw Error(r(161))}}catch(R){st(t,t.return,R)}t.flags&=-3}o&4096&&(t.flags&=-4097)}function Yp(t,o,l){fe=t,qd(t)}function qd(t,o,l){for(var h=(t.mode&1)!==0;fe!==null;){var _=fe,w=_.child;if(_.tag===22&&h){var P=_.memoizedState!==null||Oa;if(!P){var k=_.alternate,R=k!==null&&k.memoizedState!==null||It;k=Oa;var G=It;if(Oa=P,(It=R)&&!G)for(fe=_;fe!==null;)P=fe,R=P.child,P.tag===22&&P.memoizedState!==null?Zd(_):R!==null?(R.return=P,fe=R):Zd(_);for(;w!==null;)fe=w,qd(w),w=w.sibling;fe=_,Oa=k,It=G}Od(t)}else(_.subtreeFlags&8772)!==0&&w!==null?(w.return=_,fe=w):Od(t)}}function Od(t){for(;fe!==null;){var o=fe;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:It||Wa(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!It)if(l===null)h.componentDidMount();else{var _=o.elementType===o.type?l.memoizedProps:wn(o.type,l.memoizedProps);h.componentDidUpdate(_,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Wc(o,w,h);break;case 3:var P=o.updateQueue;if(P!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Wc(o,P,l)}break;case 5:var k=o.stateNode;if(l===null&&o.flags&4){l=k;var R=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&l.focus();break;case"img":R.src&&(l.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var X=G.memoizedState;if(X!==null){var ne=X.dehydrated;ne!==null&&Zt(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}It||o.flags&512&&Iu(o)}catch($){st(o,o.return,$)}}if(o===t){fe=null;break}if(l=o.sibling,l!==null){l.return=o.return,fe=l;break}fe=o.return}}function Wd(t){for(;fe!==null;){var o=fe;if(o===t){fe=null;break}var l=o.sibling;if(l!==null){l.return=o.return,fe=l;break}fe=o.return}}function Zd(t){for(;fe!==null;){var o=fe;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Wa(4,o)}catch(R){st(o,l,R)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var _=o.return;try{h.componentDidMount()}catch(R){st(o,_,R)}}var w=o.return;try{Iu(o)}catch(R){st(o,w,R)}break;case 5:var P=o.return;try{Iu(o)}catch(R){st(o,P,R)}}}catch(R){st(o,o.return,R)}if(o===t){fe=null;break}var k=o.sibling;if(k!==null){k.return=o.return,fe=k;break}fe=o.return}}var $p=Math.ceil,Za=oe.ReactCurrentDispatcher,Au=oe.ReactCurrentOwner,dn=oe.ReactCurrentBatchConfig,be=0,mt=null,ut=null,yt=0,jt=0,yr=zi(0),ht=0,Ps=null,So=0,Ja=0,Mu=0,Is=null,Ht=null,Ru=0,Tr=1/0,ai=null,Ka=!1,Lu=null,Oi=null,Ya=!1,Wi=null,$a=0,Ns=0,Du=null,Qa=-1,Xa=0;function Lt(){return(be&6)!==0?tt():Qa!==-1?Qa:Qa=tt()}function Zi(t){return(t.mode&1)===0?1:(be&2)!==0&&yt!==0?yt&-yt:Lp.transition!==null?(Xa===0&&(Xa=ta()),Xa):(t=He,t!==0||(t=window.event,t=t===void 0?16:ze(t.type)),t)}function Sn(t,o,l,h){if(50<Ns)throw Ns=0,Du=null,Error(r(185));Ot(t,l,h),((be&2)===0||t!==mt)&&(t===mt&&((be&2)===0&&(Ja|=l),ht===4&&Ji(t,yt)),bt(t,h),l===1&&be===0&&(o.mode&1)===0&&(Tr=tt()+500,Pa&&Hi()))}function bt(t,o){var l=t.callbackNode;Ho(t,o);var h=Ke(t,t===mt?yt:0);if(h===0)l!==null&&qr(l),t.callbackNode=null,t.callbackPriority=0;else if(o=h&-h,t.callbackPriority!==o){if(l!=null&&qr(l),o===1)t.tag===0?Rp(Kd.bind(null,t)):Lc(Kd.bind(null,t)),xt(function(){(be&6)===0&&Hi()}),l=null;else{switch(wi(h)){case 1:l=Or;break;case 4:l=ea;break;case 16:l=zo;break;case 536870912:l=_i;break;default:l=zo}l=nf(l,Jd.bind(null,t))}t.callbackPriority=o,t.callbackNode=l}}function Jd(t,o){if(Qa=-1,Xa=0,(be&6)!==0)throw Error(r(327));var l=t.callbackNode;if(wr()&&t.callbackNode!==l)return null;var h=Ke(t,t===mt?yt:0);if(h===0)return null;if((h&30)!==0||(h&t.expiredLanes)!==0||o)o=ja(t,h);else{o=h;var _=be;be|=2;var w=$d();(mt!==t||yt!==o)&&(ai=null,Tr=tt()+500,Po(t,o));do try{jp();break}catch(k){Yd(t,k)}while(!0);Xl(),Za.current=w,be=_,ut!==null?o=0:(mt=null,yt=0,o=ht)}if(o!==0){if(o===2&&(_=wt(t),_!==0&&(h=_,o=Fu(t,_))),o===1)throw l=Ps,Po(t,0),Ji(t,h),bt(t,tt()),l;if(o===6)Ji(t,h);else{if(_=t.current.alternate,(h&30)===0&&!Qp(_)&&(o=ja(t,h),o===2&&(w=wt(t),w!==0&&(h=w,o=Fu(t,w))),o===1))throw l=Ps,Po(t,0),Ji(t,h),bt(t,tt()),l;switch(t.finishedWork=_,t.finishedLanes=h,o){case 0:case 1:throw Error(r(345));case 2:Io(t,Ht,ai);break;case 3:if(Ji(t,h),(h&130023424)===h&&(o=Ru+500-tt(),10<o)){if(Ke(t,0)!==0)break;if(_=t.suspendedLanes,(_&h)!==h){Lt(),t.pingedLanes|=t.suspendedLanes&_;break}t.timeoutHandle=dt(Io.bind(null,t,Ht,ai),o);break}Io(t,Ht,ai);break;case 4:if(Ji(t,h),(h&4194240)===h)break;for(o=t.eventTimes,_=-1;0<h;){var P=31-Me(h);w=1<<P,P=o[P],P>_&&(_=P),h&=~w}if(h=_,h=tt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*$p(h/1960))-h,10<h){t.timeoutHandle=dt(Io.bind(null,t,Ht,ai),h);break}Io(t,Ht,ai);break;case 5:Io(t,Ht,ai);break;default:throw Error(r(329))}}}return bt(t,tt()),t.callbackNode===l?Jd.bind(null,t):null}function Fu(t,o){var l=Is;return t.current.memoizedState.isDehydrated&&(Po(t,o).flags|=256),t=ja(t,o),t!==2&&(o=Ht,Ht=l,o!==null&&Uu(o)),t}function Uu(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function Qp(t){for(var o=t;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var _=l[h],w=_.getSnapshot;_=_.value;try{if(!Yt(w(),_))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ji(t,o){for(o&=~Mu,o&=~Ja,t.suspendedLanes|=o,t.pingedLanes&=~o,t=t.expirationTimes;0<o;){var l=31-Me(o),h=1<<l;t[l]=-1,o&=~h}}function Kd(t){if((be&6)!==0)throw Error(r(327));wr();var o=Ke(t,0);if((o&1)===0)return bt(t,tt()),null;var l=ja(t,o);if(t.tag!==0&&l===2){var h=wt(t);h!==0&&(o=h,l=Fu(t,h))}if(l===1)throw l=Ps,Po(t,0),Ji(t,o),bt(t,tt()),l;if(l===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=o,Io(t,Ht,ai),bt(t,tt()),null}function Bu(t,o){var l=be;be|=1;try{return t(o)}finally{be=l,be===0&&(Tr=tt()+500,Pa&&Hi())}}function Eo(t){Wi!==null&&Wi.tag===0&&(be&6)===0&&wr();var o=be;be|=1;var l=dn.transition,h=He;try{if(dn.transition=null,He=1,t)return t()}finally{He=h,dn.transition=l,be=o,(be&6)===0&&Hi()}}function zu(){jt=yr.current,Qe(yr)}function Po(t,o){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==-1&&(t.timeoutHandle=-1,lt(l)),ut!==null)for(l=ut.return;l!==null;){var h=l;switch(Jl(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Sa();break;case 3:gr(),Qe(Bt),Qe(St),su();break;case 5:ou(h);break;case 4:gr();break;case 13:Qe(it);break;case 19:Qe(it);break;case 10:jl(h.type._context);break;case 22:case 23:zu()}l=l.return}if(mt=t,ut=t=Ki(t.current,null),yt=jt=o,ht=0,Ps=null,Mu=Ja=So=0,Ht=Is=null,wo!==null){for(o=0;o<wo.length;o++)if(l=wo[o],h=l.interleaved,h!==null){l.interleaved=null;var _=h.next,w=l.pending;if(w!==null){var P=w.next;w.next=_,h.next=P}l.pending=h}wo=null}return t}function Yd(t,o){do{var l=ut;try{if(Xl(),Ua.current=Ha,Ba){for(var h=ot.memoizedState;h!==null;){var _=h.queue;_!==null&&(_.pending=null),h=h.next}Ba=!1}if(xo=0,pt=ft=ot=null,Ts=!1,ws=0,Au.current=null,l===null||l.return===null){ht=1,Ps=o,ut=null;break}e:{var w=t,P=l.return,k=l,R=o;if(o=yt,k.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=R,X=k,ne=X.tag;if((X.mode&1)===0&&(ne===0||ne===11||ne===15)){var $=X.alternate;$?(X.updateQueue=$.updateQueue,X.memoizedState=$.memoizedState,X.lanes=$.lanes):(X.updateQueue=null,X.memoizedState=null)}var le=Td(P);if(le!==null){le.flags&=-257,wd(le,P,k,w,o),le.mode&1&&yd(w,G,o),o=le,R=G;var ge=o.updateQueue;if(ge===null){var _e=new Set;_e.add(R),o.updateQueue=_e}else ge.add(R);break e}else{if((o&1)===0){yd(w,G,o),Vu();break e}R=Error(r(426))}}else if(et&&k.mode&1){var at=Td(P);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),wd(at,P,k,w,o),$l(_r(R,k));break e}}w=R=_r(R,k),ht!==4&&(ht=2),Is===null?Is=[w]:Is.push(w),w=P;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var V=_d(w,R,o);Oc(w,V);break e;case 1:k=R;var F=w.type,H=w.stateNode;if((w.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Oi===null||!Oi.has(H)))){w.flags|=65536,o&=-o,w.lanes|=o;var ie=vd(w,k,o);Oc(w,ie);break e}}w=w.return}while(w!==null)}Xd(l)}catch(Te){o=Te,ut===l&&l!==null&&(ut=l=l.return);continue}break}while(!0)}function $d(){var t=Za.current;return Za.current=Ha,t===null?Ha:t}function Vu(){(ht===0||ht===3||ht===2)&&(ht=4),mt===null||(So&268435455)===0&&(Ja&268435455)===0||Ji(mt,yt)}function ja(t,o){var l=be;be|=2;var h=$d();(mt!==t||yt!==o)&&(ai=null,Po(t,o));do try{Xp();break}catch(_){Yd(t,_)}while(!0);if(Xl(),be=l,Za.current=h,ut!==null)throw Error(r(261));return mt=null,yt=0,ht}function Xp(){for(;ut!==null;)Qd(ut)}function jp(){for(;ut!==null&&!Pl();)Qd(ut)}function Qd(t){var o=tf(t.alternate,t,jt);t.memoizedProps=t.pendingProps,o===null?Xd(t):ut=o,Au.current=null}function Xd(t){var o=t;do{var l=o.alternate;if(t=o.return,(o.flags&32768)===0){if(l=Wp(l,o,jt),l!==null){ut=l;return}}else{if(l=Zp(l,o),l!==null){l.flags&=32767,ut=l;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,ut=null;return}}if(o=o.sibling,o!==null){ut=o;return}ut=o=t}while(o!==null);ht===0&&(ht=5)}function Io(t,o,l){var h=He,_=dn.transition;try{dn.transition=null,He=1,em(t,o,l,h)}finally{dn.transition=_,He=h}return null}function em(t,o,l,h){do wr();while(Wi!==null);if((be&6)!==0)throw Error(r(327));l=t.finishedWork;var _=t.finishedLanes;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var w=l.lanes|l.childLanes;if(rt(t,w),t===mt&&(ut=mt=null,yt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ya||(Ya=!0,nf(zo,function(){return wr(),null})),w=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||w){w=dn.transition,dn.transition=null;var P=He;He=1;var k=be;be|=4,Au.current=null,Kp(t,l),Gd(l,t),on(xe),uo=!!re,xe=re=null,t.current=l,Yp(l),Bo(),be=k,He=P,dn.transition=w}else t.current=l;if(Ya&&(Ya=!1,Wi=t,$a=_),w=t.pendingLanes,w===0&&(Oi=null),oo(l.stateNode),bt(t,tt()),o!==null)for(h=t.onRecoverableError,l=0;l<o.length;l++)_=o[l],h(_.value,{componentStack:_.stack,digest:_.digest});if(Ka)throw Ka=!1,t=Lu,Lu=null,t;return($a&1)!==0&&t.tag!==0&&wr(),w=t.pendingLanes,(w&1)!==0?t===Du?Ns++:(Ns=0,Du=t):Ns=0,Hi(),null}function wr(){if(Wi!==null){var t=wi($a),o=dn.transition,l=He;try{if(dn.transition=null,He=16>t?16:t,Wi===null)var h=!1;else{if(t=Wi,Wi=null,$a=0,(be&6)!==0)throw Error(r(331));var _=be;for(be|=4,fe=t.current;fe!==null;){var w=fe,P=w.child;if((fe.flags&16)!==0){var k=w.deletions;if(k!==null){for(var R=0;R<k.length;R++){var G=k[R];for(fe=G;fe!==null;){var X=fe;switch(X.tag){case 0:case 11:case 15:Es(8,X,w)}var ne=X.child;if(ne!==null)ne.return=X,fe=ne;else for(;fe!==null;){X=fe;var $=X.sibling,le=X.return;if(Bd(X),X===G){fe=null;break}if($!==null){$.return=le,fe=$;break}fe=le}}}var ge=w.alternate;if(ge!==null){var _e=ge.child;if(_e!==null){ge.child=null;do{var at=_e.sibling;_e.sibling=null,_e=at}while(_e!==null)}}fe=w}}if((w.subtreeFlags&2064)!==0&&P!==null)P.return=w,fe=P;else e:for(;fe!==null;){if(w=fe,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Es(9,w,w.return)}var V=w.sibling;if(V!==null){V.return=w.return,fe=V;break e}fe=w.return}}var F=t.current;for(fe=F;fe!==null;){P=fe;var H=P.child;if((P.subtreeFlags&2064)!==0&&H!==null)H.return=P,fe=H;else e:for(P=F;fe!==null;){if(k=fe,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Wa(9,k)}}catch(Te){st(k,k.return,Te)}if(k===P){fe=null;break e}var ie=k.sibling;if(ie!==null){ie.return=k.return,fe=ie;break e}fe=k.return}}if(be=_,Hi(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(io,t)}catch{}h=!0}return h}finally{He=l,dn.transition=o}}return!1}function jd(t,o,l){o=_r(l,o),o=_d(t,o,1),t=Gi(t,o,1),o=Lt(),t!==null&&(Ot(t,1,o),bt(t,o))}function st(t,o,l){if(t.tag===3)jd(t,t,l);else for(;o!==null;){if(o.tag===3){jd(o,t,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Oi===null||!Oi.has(h))){t=_r(l,t),t=vd(o,t,1),o=Gi(o,t,1),t=Lt(),o!==null&&(Ot(o,1,t),bt(o,t));break}}o=o.return}}function tm(t,o,l){var h=t.pingCache;h!==null&&h.delete(o),o=Lt(),t.pingedLanes|=t.suspendedLanes&l,mt===t&&(yt&l)===l&&(ht===4||ht===3&&(yt&130023424)===yt&&500>tt()-Ru?Po(t,0):Mu|=l),bt(t,o)}function ef(t,o){o===0&&((t.mode&1)===0?o=1:(o=yi,yi<<=1,(yi&130023424)===0&&(yi=4194304)));var l=Lt();t=oi(t,o),t!==null&&(Ot(t,o,l),bt(t,l))}function nm(t){var o=t.memoizedState,l=0;o!==null&&(l=o.retryLane),ef(t,l)}function im(t,o){var l=0;switch(t.tag){case 13:var h=t.stateNode,_=t.memoizedState;_!==null&&(l=_.retryLane);break;case 19:h=t.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(o),ef(t,l)}var tf;tf=function(t,o,l){if(t!==null)if(t.memoizedProps!==o.pendingProps||Bt.current)Vt=!0;else{if((t.lanes&l)===0&&(o.flags&128)===0)return Vt=!1,Op(t,o,l);Vt=(t.flags&131072)!==0}else Vt=!1,et&&(o.flags&1048576)!==0&&Dc(o,Na,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;qa(t,o),t=o.pendingProps;var _=ur(o,St.current);mr(o,l),_=uu(null,o,h,t,_,l);var w=cu();return o.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,zt(h)?(w=!0,Ea(o)):w=!1,o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,nu(o),_.updater=ba,o.stateNode=_,_._reactInternals=o,gu(o,h,t,l),o=Tu(null,o,h,!0,w,l)):(o.tag=0,et&&w&&Zl(o),Rt(null,o,_,l),o=o.child),o;case 16:h=o.elementType;e:{switch(qa(t,o),t=o.pendingProps,_=h._init,h=_(h._payload),o.type=h,_=o.tag=rm(h),t=wn(h,t),_){case 0:o=yu(null,o,h,t,l);break e;case 1:o=Id(null,o,h,t,l);break e;case 11:o=Cd(null,o,h,t,l);break e;case 14:o=xd(null,o,h,wn(h.type,t),l);break e}throw Error(r(306,h,""))}return o;case 0:return h=o.type,_=o.pendingProps,_=o.elementType===h?_:wn(h,_),yu(t,o,h,_,l);case 1:return h=o.type,_=o.pendingProps,_=o.elementType===h?_:wn(h,_),Id(t,o,h,_,l);case 3:e:{if(Nd(o),t===null)throw Error(r(387));h=o.pendingProps,w=o.memoizedState,_=w.element,qc(t,o),Da(o,h,null,l);var P=o.memoizedState;if(h=P.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){_=_r(Error(r(423)),o),o=kd(t,o,h,l,_);break e}else if(h!==_){_=_r(Error(r(424)),o),o=kd(t,o,h,l,_);break e}else for(Xt=Fn(o.stateNode.containerInfo.firstChild),Qt=o,et=!0,Tn=null,l=bc(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(fr(),h===_){o=si(t,o,l);break e}Rt(t,o,h,l)}o=o.child}return o;case 5:return Zc(o),t===null&&Yl(o),h=o.type,_=o.pendingProps,w=t!==null?t.memoizedProps:null,P=_.children,De(h,_)?P=null:w!==null&&De(h,w)&&(o.flags|=32),Pd(t,o),Rt(t,o,P,l),o.child;case 6:return t===null&&Yl(o),null;case 13:return Ad(t,o,l);case 4:return iu(o,o.stateNode.containerInfo),h=o.pendingProps,t===null?o.child=hr(o,null,h,l):Rt(t,o,h,l),o.child;case 11:return h=o.type,_=o.pendingProps,_=o.elementType===h?_:wn(h,_),Cd(t,o,h,_,l);case 7:return Rt(t,o,o.pendingProps,l),o.child;case 8:return Rt(t,o,o.pendingProps.children,l),o.child;case 12:return Rt(t,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,_=o.pendingProps,w=o.memoizedProps,P=_.value,Ye(Ma,h._currentValue),h._currentValue=P,w!==null)if(Yt(w.value,P)){if(w.children===_.children&&!Bt.current){o=si(t,o,l);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var k=w.dependencies;if(k!==null){P=w.child;for(var R=k.firstContext;R!==null;){if(R.context===h){if(w.tag===1){R=ri(-1,l&-l),R.tag=2;var G=w.updateQueue;if(G!==null){G=G.shared;var X=G.pending;X===null?R.next=R:(R.next=X.next,X.next=R),G.pending=R}}w.lanes|=l,R=w.alternate,R!==null&&(R.lanes|=l),eu(w.return,l,o),k.lanes|=l;break}R=R.next}}else if(w.tag===10)P=w.type===o.type?null:w.child;else if(w.tag===18){if(P=w.return,P===null)throw Error(r(341));P.lanes|=l,k=P.alternate,k!==null&&(k.lanes|=l),eu(P,l,o),P=w.sibling}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===o){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}Rt(t,o,_.children,l),o=o.child}return o;case 9:return _=o.type,h=o.pendingProps.children,mr(o,l),_=un(_),h=h(_),o.flags|=1,Rt(t,o,h,l),o.child;case 14:return h=o.type,_=wn(h,o.pendingProps),_=wn(h.type,_),xd(t,o,h,_,l);case 15:return Sd(t,o,o.type,o.pendingProps,l);case 17:return h=o.type,_=o.pendingProps,_=o.elementType===h?_:wn(h,_),qa(t,o),o.tag=1,zt(h)?(t=!0,Ea(o)):t=!1,mr(o,l),md(o,h,_),gu(o,h,_,l),Tu(null,o,h,!0,t,l);case 19:return Rd(t,o,l);case 22:return Ed(t,o,l)}throw Error(r(156,o.tag))};function nf(t,o){return js(t,o)}function om(t,o,l,h){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,o,l,h){return new om(t,o,l,h)}function Hu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rm(t){if(typeof t=="function")return Hu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Q)return 11;if(t===je)return 14}return 2}function Ki(t,o){var l=t.alternate;return l===null?(l=fn(t.tag,o,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=o,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&14680064,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,o=t.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function el(t,o,l,h,_,w){var P=2;if(h=t,typeof t=="function")Hu(t)&&(P=1);else if(typeof t=="string")P=5;else e:switch(t){case se:return No(l.children,_,w,o);case Le:P=8,_|=8;break;case de:return t=fn(12,l,o,_|2),t.elementType=de,t.lanes=w,t;case ue:return t=fn(13,l,o,_),t.elementType=ue,t.lanes=w,t;case Fe:return t=fn(19,l,o,_),t.elementType=Fe,t.lanes=w,t;case me:return tl(l,_,w,o);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Se:P=10;break e;case Ie:P=9;break e;case Q:P=11;break e;case je:P=14;break e;case Re:P=16,h=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return o=fn(P,l,o,_),o.elementType=t,o.type=h,o.lanes=w,o}function No(t,o,l,h){return t=fn(7,t,h,o),t.lanes=l,t}function tl(t,o,l,h){return t=fn(22,t,h,o),t.elementType=me,t.lanes=l,t.stateNode={isHidden:!1},t}function bu(t,o,l){return t=fn(6,t,null,o),t.lanes=l,t}function Gu(t,o,l){return o=fn(4,t.children!==null?t.children:[],t.key,o),o.lanes=l,o.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},o}function sm(t,o,l,h,_){this.tag=o,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ti(0),this.expirationTimes=Ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.identifierPrefix=h,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function qu(t,o,l,h,_,w,P,k,R){return t=new sm(t,o,l,k,R),o===1?(o=1,w===!0&&(o|=8)):o=0,w=fn(3,null,null,o),t.current=w,w.stateNode=t,w.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},nu(w),t}function am(t,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:he,key:h==null?null:""+h,children:t,containerInfo:o,implementation:l}}function of(t){if(!t)return Vi;t=t._reactInternals;e:{if(In(t)!==t||t.tag!==1)throw Error(r(170));var o=t;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(zt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(t.tag===1){var l=t.type;if(zt(l))return Mc(t,l,o)}return o}function rf(t,o,l,h,_,w,P,k,R){return t=qu(l,h,!0,t,_,w,P,k,R),t.context=of(null),l=t.current,h=Lt(),_=Zi(l),w=ri(h,_),w.callback=o??null,Gi(l,w,_),t.current.lanes=_,Ot(t,_,h),bt(t,h),t}function nl(t,o,l,h){var _=o.current,w=Lt(),P=Zi(_);return l=of(l),o.context===null?o.context=l:o.pendingContext=l,o=ri(w,P),o.payload={element:t},h=h===void 0?null:h,h!==null&&(o.callback=h),t=Gi(_,o,P),t!==null&&(Sn(t,_,P,w),La(t,_,P)),P}function il(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sf(t,o){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<o?l:o}}function Ou(t,o){sf(t,o),(t=t.alternate)&&sf(t,o)}function lm(){return null}var af=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wu(t){this._internalRoot=t}ol.prototype.render=Wu.prototype.render=function(t){var o=this._internalRoot;if(o===null)throw Error(r(409));nl(t,o,null,null)},ol.prototype.unmount=Wu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var o=t.containerInfo;Eo(function(){nl(null,t,null,null)}),o[Oe]=null}};function ol(t){this._internalRoot=t}ol.prototype.unstable_scheduleHydration=function(t){if(t){var o=qo();t={blockedOn:null,target:t,priority:o};for(var l=0;l<ct.length&&o!==0&&o<ct[l].priority;l++);ct.splice(l,0,t),l===0&&Oo(t)}};function Zu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lf(){}function um(t,o,l,h,_){if(_){if(typeof h=="function"){var w=h;h=function(){var G=il(P);w.call(G)}}var P=rf(o,h,t,0,null,!1,!1,"",lf);return t._reactRootContainer=P,t[Oe]=P.current,Di(t.nodeType===8?t.parentNode:t),Eo(),P}for(;_=t.lastChild;)t.removeChild(_);if(typeof h=="function"){var k=h;h=function(){var G=il(R);k.call(G)}}var R=qu(t,0,!1,null,null,!1,!1,"",lf);return t._reactRootContainer=R,t[Oe]=R.current,Di(t.nodeType===8?t.parentNode:t),Eo(function(){nl(o,R,l,h)}),R}function sl(t,o,l,h,_){var w=l._reactRootContainer;if(w){var P=w;if(typeof _=="function"){var k=_;_=function(){var R=il(P);k.call(R)}}nl(o,P,t,_)}else P=um(l,o,t,_,h);return il(P)}bo=function(t){switch(t.tag){case 3:var o=t.stateNode;if(o.current.memoizedState.isDehydrated){var l=Ae(o.pendingLanes);l!==0&&(mn(o,l|1),bt(o,tt()),(be&6)===0&&(Tr=tt()+500,Hi()))}break;case 13:Eo(function(){var h=oi(t,1);if(h!==null){var _=Lt();Sn(h,t,1,_)}}),Ou(t,1)}},qn=function(t){if(t.tag===13){var o=oi(t,134217728);if(o!==null){var l=Lt();Sn(o,t,134217728,l)}Ou(t,134217728)}},Go=function(t){if(t.tag===13){var o=Zi(t),l=oi(t,o);if(l!==null){var h=Lt();Sn(l,t,o,h)}Ou(t,o)}},qo=function(){return He},ro=function(t,o){var l=He;try{return He=t,o()}finally{He=l}},Do=function(t,o,l){switch(o){case"input":if(Qi(t,l),o=l.name,l.type==="radio"&&o!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==t&&h.form===t.form){var _=ar(h);if(!_)throw Error(r(90));fi(h),Qi(h,_)}}}break;case"textarea":Hs(t,l);break;case"select":o=l.value,o!=null&&Pn(t,!!l.multiple,o,!1)}},Js=Bu,Ks=Eo;var cm={usingClientEntryPoint:!1,Events:[jn,ei,ar,Ws,Zs,Bu]},ks={findFiberByHostInstance:Xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dm={bundleType:ks.bundleType,version:ks.version,rendererPackageName:ks.rendererPackageName,rendererConfig:ks.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qs(t),t===null?null:t.stateNode},findFiberByHostInstance:ks.findFiberByHostInstance||lm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{io=al.inject(dm),qt=al}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cm,Gt.createPortal=function(t,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zu(o))throw Error(r(200));return am(t,o,null,l)},Gt.createRoot=function(t,o){if(!Zu(t))throw Error(r(299));var l=!1,h="",_=af;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),o=qu(t,1,!1,null,null,l,!1,h,_),t[Oe]=o.current,Di(t.nodeType===8?t.parentNode:t),new Wu(o)},Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var o=t._reactInternals;if(o===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=Qs(o),t=t===null?null:t.stateNode,t},Gt.flushSync=function(t){return Eo(t)},Gt.hydrate=function(t,o,l){if(!rl(o))throw Error(r(200));return sl(null,t,o,!0,l)},Gt.hydrateRoot=function(t,o,l){if(!Zu(t))throw Error(r(405));var h=l!=null&&l.hydratedSources||null,_=!1,w="",P=af;if(l!=null&&(l.unstable_strictMode===!0&&(_=!0),l.identifierPrefix!==void 0&&(w=l.identifierPrefix),l.onRecoverableError!==void 0&&(P=l.onRecoverableError)),o=rf(o,null,t,1,l??null,_,!1,w,P),t[Oe]=o.current,Di(t),h)for(t=0;t<h.length;t++)l=h[t],_=l._getVersion,_=_(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,_]:o.mutableSourceEagerHydrationData.push(l,_);return new ol(o)},Gt.render=function(t,o,l){if(!rl(o))throw Error(r(200));return sl(null,t,o,!1,l)},Gt.unmountComponentAtNode=function(t){if(!rl(t))throw Error(r(40));return t._reactRootContainer?(Eo(function(){sl(null,null,t,!1,function(){t._reactRootContainer=null,t[Oe]=null})}),!0):!1},Gt.unstable_batchedUpdates=Bu,Gt.unstable_renderSubtreeIntoContainer=function(t,o,l,h){if(!rl(l))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return sl(t,o,l,!1,h)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var gf;function Wh(){if(gf)return Yu.exports;gf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Yu.exports=vm(),Yu.exports}var _f;function ym(){if(_f)return ll;_f=1;var i=Wh();return ll.createRoot=i.createRoot,ll.hydrateRoot=i.hydrateRoot,ll}var Tm=ym();const wm=pc(Tm),Zh=i=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),Cm=i=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.572a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"})}),Pr=i=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),_l=i=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.663l.001.001zm-3.75-3.75a3.75 3.75 0 10-7.5 0 3.75 3.75 0 007.5 0z"})}),Jh=i=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18M-4.5 12h22.5"})}),xm=i=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962c.57-1.023.57-2.206 0-3.228m-5.545 0a3 3 0 10-5.545 0m7.5 0a3 3 0 10-7.5 0M10.5 4.886c1.024-.57 2.206-.57 3.228 0m5.545 0a3 3 0 105.545 0M10.5 19.114c-1.024.57-2.206.57-3.228 0m5.545 0a3 3 0 105.545 0"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})]}),gc=i=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.776 48.776 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008v-.008z"})]}),Kh=i=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9A2.25 2.25 0 004.5 18.75z"})}),Sm=i=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...i,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 8l4 4m0 0l-4 4m4-4H3"})}),Us=i=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),Bs=i=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})}),_c=i=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...i,children:E.jsx("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.647c1.295.748 1.295 2.538 0 3.286L7.279 20.99c-1.25.72-2.779-.217-2.779-1.643V5.653z",clipRule:"evenodd"})}),Em=i=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...i,children:E.jsx("path",{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 01.75.75v12a.75.75 0 01-1.5 0v-12a.75.75 0 01.75-.75zm9 0a.75.75 0 01.75.75v12a.75.75 0 01-1.5 0v-12a.75.75 0 01.75-.75z",clipRule:"evenodd"})}),Pm=i=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),Im=i=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Nm=i=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),Yh=i=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0012 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75z"})}),km=i=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Am=i=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0l2.77-.693a9 9 0 016.208.682l.108.054a9 9 0 006.086.71l3.114-.732a48.524 48.524 0 01-.005-10.499l-3.11.732a9 9 0 01-6.085-.711l-.108-.054a9 9 0 00-6.208-.682L3 4.5M3 15V4.5"})}),Mm=i=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v.01M9 21H15M12 3.75A5.25 5.25 0 006.75 9c0 1.623.822 3.104 2.083 4.015V15a.75.75 0 00.75.75h4.917a.75.75 0 00.75-.75v-2.015a5.234 5.234 0 002.083-4.015A5.25 5.25 0 0012 3.75z"})}),tc=i=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),$h=({viewMode:i,onSetViewMode:e})=>E.jsxs("div",{className:"flex bg-slate-700/50 rounded-lg p-1",children:[E.jsxs("button",{onClick:()=>e("sites"),className:`w-1/2 py-2 px-3 text-sm font-semibold rounded-md flex items-center justify-center transition-colors duration-300 ${i==="sites"?"bg-sky-500 text-white shadow":"text-slate-300 hover:bg-slate-600/70"}`,children:[E.jsx(Pr,{className:"h-5 w-5 mr-2"}),"a im"]}),E.jsxs("button",{onClick:()=>e("persons"),className:`w-1/2 py-2 px-3 text-sm font-semibold rounded-md flex items-center justify-center transition-colors duration-300 ${i==="persons"?"bg-sky-500 text-white shadow":"text-slate-300 hover:bg-slate-600/70"}`,children:[E.jsx(_l,{className:"h-5 w-5 mr-2"}),"Nhn vt"]})]}),Rm=({allSites:i,allPersons:e,viewMode:r,onSelect:a})=>{const[u,p]=Z.useState(""),[m,v]=Z.useState(!1),y=Z.useRef(null),T=Z.useMemo(()=>{if(!u)return[];const S=u.toLowerCase(),N=i.filter(q=>q.site_name.toLowerCase().includes(S)).slice(0,5),M=e.filter(q=>q.full_name.toLowerCase().includes(S)).slice(0,3);return r==="sites"?[...N,...M]:[...M,...N]},[u,i,e,r]),C=S=>{a(S),p(""),v(!1)};return Z.useEffect(()=>{const S=N=>{y.current&&!y.current.contains(N.target)&&v(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]),E.jsxs("div",{className:"relative flex-grow",ref:y,children:[E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"text",placeholder:"Tm kim nhanh...",value:u,onChange:S=>p(S.target.value),onFocus:()=>v(!0),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg py-2 pl-9 pr-4 text-sm text-white focus:outline-none focus:ring-2 focus:ring-sky-500 transition placeholder-slate-400"}),E.jsx("div",{className:"absolute inset-y-0 left-0 pl-2.5 flex items-center pointer-events-none",children:E.jsx(Zh,{className:"h-5 w-5 text-slate-400"})})]}),m&&T.length>0&&E.jsx("div",{className:"absolute top-full mt-1.5 w-full bg-slate-800 border border-slate-700 rounded-lg shadow-xl max-h-80 overflow-y-auto z-50",children:E.jsx("ul",{className:"p-1",children:T.map(S=>{const N="site_id"in S;return E.jsxs("li",{onClick:()=>C(S),className:"flex items-center p-2 rounded-md hover:bg-slate-700/70 cursor-pointer",children:[N?E.jsx(Pr,{className:"h-5 w-5 mr-3 text-sky-400 flex-shrink-0"}):E.jsx(_l,{className:"h-5 w-5 mr-3 text-sky-400 flex-shrink-0"}),E.jsxs("div",{className:"overflow-hidden",children:[E.jsx("p",{className:"text-sm font-semibold text-slate-100 truncate",children:N?S.site_name:S.full_name}),E.jsx("p",{className:"text-xs text-slate-400 capitalize truncate",children:N?S.site_type:"Nhn vt"})]})]},N?`s-${S.site_id}`:`p-${S.person_id}`)})})})]})},Lm=({items:i,viewMode:e,onSetViewMode:r,listTitle:a,onSearch:u,onFilter:p,siteTypes:m,selectedType:v,isLoading:y,onSiteSelect:T,onPersonSelect:C,selectedItem:S,isOpen:N,onClose:M})=>{const q=B=>S?"site_id"in B&&"site_id"in S?B.site_id===S.site_id:"person_id"in B&&"person_id"in S?B.person_id===S.person_id:!1:!1;return E.jsxs("aside",{className:`
        bg-slate-800/80 backdrop-blur-lg text-slate-200 p-4 flex flex-col border-r border-slate-700/80 
        transform transition-transform duration-300 ease-in-out 
        fixed inset-y-0 left-0 z-40 w-full max-w-xs h-screen overflow-y-auto
        md:relative md:w-1/3 lg:w-1/4 md:h-full md:translate-x-0 md:max-w-none
        ${N?"translate-x-0":"-translate-x-full"}
    `,children:[E.jsxs("header",{className:"mb-6 flex justify-between items-start",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold text-sky-400",children:"BN  S"}),E.jsx("h2",{className:"text-xl font-semibold text-slate-200",children:" Nng"})]}),E.jsx("button",{onClick:M,className:"p-1 -mr-2 text-slate-400 hover:text-white md:hidden","aria-label":"ng menu",children:E.jsx(Im,{className:"h-6 w-6"})})]}),E.jsxs("div",{className:"hidden md:block mb-4",children:[E.jsxs("div",{className:"relative mb-4",children:[E.jsx("input",{type:"text",placeholder:e==="sites"?"Tm kim a im...":"Tm kim nhn vt...",onChange:B=>u(B.target.value),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg py-2 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition placeholder-slate-400"}),E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(Zh,{className:"h-5 w-5 text-slate-400"})})]}),E.jsx($h,{viewMode:e,onSetViewMode:r})]}),e==="sites"&&E.jsxs("div",{className:"mb-6",children:[E.jsxs("label",{htmlFor:"site-type-filter",className:"flex items-center text-sm font-medium text-slate-300 mb-2",children:[E.jsx(Cm,{className:"h-5 w-5 mr-2"}),"Loi a im"]}),E.jsx("select",{id:"site-type-filter",value:v,onChange:B=>p(B.target.value),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition",children:m.map(B=>E.jsx("option",{value:B,className:"capitalize",children:B==="all"?"Tt c":B},B))})]}),E.jsxs("div",{className:"flex-grow overflow-y-auto -mr-4 pr-4",children:[E.jsx("h3",{className:"text-lg font-semibold mb-3 text-sky-400",children:a}),y?E.jsx("div",{className:"space-y-4",children:[...Array(5)].map((B,J)=>E.jsxs("div",{className:"animate-pulse flex space-x-4",children:[E.jsx("div",{className:"rounded-full bg-slate-700 h-10 w-10"}),E.jsxs("div",{className:"flex-1 space-y-3 py-1",children:[E.jsx("div",{className:"h-2 bg-slate-700 rounded"}),E.jsx("div",{className:"h-2 bg-slate-700 rounded w-5/6"})]})]},J))}):i.length>0?E.jsx("ul",{className:"space-y-1",children:i.map(B=>{const J=q(B),Y="site_id"in B,te=Y?`site-${B.site_id}`:`person-${B.person_id}`,j=Y?B.site_name:B.full_name,oe=Y?B.site_type:`${B.birth_year||"?"} - ${B.death_year||"?"}`;return E.jsxs("li",{onClick:()=>{Y?T(B):C(B),M()},className:`relative flex items-center p-2 rounded-lg hover:bg-slate-700/50 transition-colors duration-200 cursor-pointer group ${J?"bg-sky-500/20":""}`,children:[J&&E.jsx("div",{className:"absolute left-0 top-0 h-full w-1 bg-sky-400 rounded-r-full"}),Y?E.jsx(Pr,{className:"h-6 w-6 text-sky-500 group-hover:text-sky-400 mr-3 flex-shrink-0"}):E.jsx(_l,{className:"h-6 w-6 text-sky-500 group-hover:text-sky-400 mr-3 flex-shrink-0"}),E.jsxs("div",{children:[E.jsx("p",{className:`font-semibold ${J?"text-sky-300":"text-slate-100"} group-hover:text-sky-400`,children:j}),E.jsx("p",{className:"text-sm text-slate-400 capitalize",children:oe})]})]},te)})}):E.jsx("p",{className:"text-slate-400 italic",children:"Khng tm thy kt qu no."})]}),E.jsx("footer",{className:"text-center text-xs text-slate-500 mt-4 pt-4 border-t border-slate-700 flex-shrink-0",children:E.jsxs("p",{children:[" ",new Date().getFullYear()," Da Nang Map"]})})]})};function Qh(i,e){const r=Z.useRef(e);Z.useEffect(function(){e!==r.current&&i.attributionControl!=null&&(r.current!=null&&i.attributionControl.removeAttribution(r.current),e!=null&&i.attributionControl.addAttribution(e)),r.current=e},[i,e])}var Dm=Wh();const Fm=1;function Um(i){return Object.freeze({__version:Fm,map:i})}function Bm(i,e){return Object.freeze({...i,...e})}const Xh=Z.createContext(null),jh=Xh.Provider;function vc(){const i=Z.useContext(Xh);if(i==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return i}function zm(i){function e(r,a){const{instance:u,context:p}=i(r).current;return Z.useImperativeHandle(a,()=>u),r.children==null?null:Fs.createElement(jh,{value:p},r.children)}return Z.forwardRef(e)}function Vm(i){function e(r,a){const[u,p]=Z.useState(!1),{instance:m}=i(r,p).current;Z.useImperativeHandle(a,()=>m),Z.useEffect(function(){u&&m.update()},[m,u,r.children]);const v=m._contentNode;return v?Dm.createPortal(r.children,v):null}return Z.forwardRef(e)}function Hm(i){function e(r,a){const{instance:u}=i(r).current;return Z.useImperativeHandle(a,()=>u),null}return Z.forwardRef(e)}function ep(i,e){const r=Z.useRef();Z.useEffect(function(){return e!=null&&i.instance.on(e),r.current=e,function(){r.current!=null&&i.instance.off(r.current),r.current=null}},[i,e])}function yc(i,e){const r=i.pane??e.pane;return r?{...i,pane:r}:i}function bm(i,e){return function(a,u){const p=vc(),m=i(yc(a,p),p);return Qh(p.map,a.attribution),ep(m.current,a.eventHandlers),e(m.current,p,a,u),m}}var Rs={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Gm=Rs.exports,vf;function qm(){return vf||(vf=1,(function(i,e){(function(r,a){a(e)})(Gm,(function(r){var a="1.9.4";function u(n){var s,f,g,x;for(f=1,g=arguments.length;f<g;f++){x=arguments[f];for(s in x)n[s]=x[s]}return n}var p=Object.create||(function(){function n(){}return function(s){return n.prototype=s,new n}})();function m(n,s){var f=Array.prototype.slice;if(n.bind)return n.bind.apply(n,f.call(arguments,1));var g=f.call(arguments,2);return function(){return n.apply(s,g.length?g.concat(f.call(arguments)):arguments)}}var v=0;function y(n){return"_leaflet_id"in n||(n._leaflet_id=++v),n._leaflet_id}function T(n,s,f){var g,x,I,A;return A=function(){g=!1,x&&(I.apply(f,x),x=!1)},I=function(){g?x=arguments:(n.apply(f,arguments),setTimeout(A,s),g=!0)},I}function C(n,s,f){var g=s[1],x=s[0],I=g-x;return n===g&&f?n:((n-x)%I+I)%I+x}function S(){return!1}function N(n,s){if(s===!1)return n;var f=Math.pow(10,s===void 0?6:s);return Math.round(n*f)/f}function M(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function q(n){return M(n).split(/\s+/)}function B(n,s){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?p(n.options):{});for(var f in s)n.options[f]=s[f];return n.options}function J(n,s,f){var g=[];for(var x in n)g.push(encodeURIComponent(f?x.toUpperCase():x)+"="+encodeURIComponent(n[x]));return(!s||s.indexOf("?")===-1?"?":"&")+g.join("&")}var Y=/\{ *([\w_ -]+) *\}/g;function te(n,s){return n.replace(Y,function(f,g){var x=s[g];if(x===void 0)throw new Error("No value provided for variable "+f);return typeof x=="function"&&(x=x(s)),x})}var j=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function oe(n,s){for(var f=0;f<n.length;f++)if(n[f]===s)return f;return-1}var pe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function he(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var se=0;function Le(n){var s=+new Date,f=Math.max(0,16-(s-se));return se=s+f,window.setTimeout(n,f)}var de=window.requestAnimationFrame||he("RequestAnimationFrame")||Le,Se=window.cancelAnimationFrame||he("CancelAnimationFrame")||he("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function Ie(n,s,f){if(f&&de===Le)n.call(s);else return de.call(window,m(n,s))}function Q(n){n&&Se.call(window,n)}var ue={__proto__:null,extend:u,create:p,bind:m,get lastId(){return v},stamp:y,throttle:T,wrapNum:C,falseFn:S,formatNum:N,trim:M,splitWords:q,setOptions:B,getParamString:J,template:te,isArray:j,indexOf:oe,emptyImageUrl:pe,requestFn:de,cancelFn:Se,requestAnimFrame:Ie,cancelAnimFrame:Q};function Fe(){}Fe.extend=function(n){var s=function(){B(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=s.__super__=this.prototype,g=p(f);g.constructor=s,s.prototype=g;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(s[x]=this[x]);return n.statics&&u(s,n.statics),n.includes&&(je(n.includes),u.apply(null,[g].concat(n.includes))),u(g,n),delete g.statics,delete g.includes,g.options&&(g.options=f.options?p(f.options):{},u(g.options,n.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,A=g._initHooks.length;I<A;I++)g._initHooks[I].call(this)}},s},Fe.include=function(n){var s=this.prototype.options;return u(this.prototype,n),n.options&&(this.prototype.options=s,this.mergeOptions(n.options)),this},Fe.mergeOptions=function(n){return u(this.prototype.options,n),this},Fe.addInitHook=function(n){var s=Array.prototype.slice.call(arguments,1),f=typeof n=="function"?n:function(){this[n].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function je(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=j(n)?n:[n];for(var s=0;s<n.length;s++)n[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Re={on:function(n,s,f){if(typeof n=="object")for(var g in n)this._on(g,n[g],s);else{n=q(n);for(var x=0,I=n.length;x<I;x++)this._on(n[x],s,f)}return this},off:function(n,s,f){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var g in n)this._off(g,n[g],s);else{n=q(n);for(var x=arguments.length===1,I=0,A=n.length;I<A;I++)x?this._off(n[I]):this._off(n[I],s,f)}return this},_on:function(n,s,f,g){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(n,s,f)===!1){f===this&&(f=void 0);var x={fn:s,ctx:f};g&&(x.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(x)}},_off:function(n,s,f){var g,x,I;if(this._events&&(g=this._events[n],!!g)){if(arguments.length===1){if(this._firingCount)for(x=0,I=g.length;x<I;x++)g[x].fn=S;delete this._events[n];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var A=this._listens(n,s,f);if(A!==!1){var z=g[A];this._firingCount&&(z.fn=S,this._events[n]=g=g.slice()),g.splice(A,1)}}},fire:function(n,s,f){if(!this.listens(n,f))return this;var g=u({},s,{type:n,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var x=this._events[n];if(x){this._firingCount=this._firingCount+1||1;for(var I=0,A=x.length;I<A;I++){var z=x[I],b=z.fn;z.once&&this.off(n,b,z.ctx),b.call(z.ctx||this,g)}this._firingCount--}}return f&&this._propagateEvent(g),this},listens:function(n,s,f,g){typeof n!="string"&&console.warn('"string" type argument expected');var x=s;typeof s!="function"&&(g=!!s,x=void 0,f=void 0);var I=this._events&&this._events[n];if(I&&I.length&&this._listens(n,x,f)!==!1)return!0;if(g){for(var A in this._eventParents)if(this._eventParents[A].listens(n,s,f,g))return!0}return!1},_listens:function(n,s,f){if(!this._events)return!1;var g=this._events[n]||[];if(!s)return!!g.length;f===this&&(f=void 0);for(var x=0,I=g.length;x<I;x++)if(g[x].fn===s&&g[x].ctx===f)return x;return!1},once:function(n,s,f){if(typeof n=="object")for(var g in n)this._on(g,n[g],s,!0);else{n=q(n);for(var x=0,I=n.length;x<I;x++)this._on(n[x],s,f,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[y(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[y(n)],this},_propagateEvent:function(n){for(var s in this._eventParents)this._eventParents[s].fire(n.type,u({layer:n.target,propagatedFrom:n.target},n),!0)}};Re.addEventListener=Re.on,Re.removeEventListener=Re.clearAllEventListeners=Re.off,Re.addOneTimeEventListener=Re.once,Re.fireEvent=Re.fire,Re.hasEventListeners=Re.listens;var me=Fe.extend(Re);function U(n,s,f){this.x=f?Math.round(n):n,this.y=f?Math.round(s):s}var ee=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(n){return this.clone()._add(O(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(O(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new U(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new U(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(n){n=O(n);var s=n.x-this.x,f=n.y-this.y;return Math.sqrt(s*s+f*f)},equals:function(n){return n=O(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=O(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function O(n,s,f){return n instanceof U?n:j(n)?new U(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new U(n.x,n.y):new U(n,s,f)}function D(n,s){if(n)for(var f=s?[n,s]:n,g=0,x=f.length;g<x;g++)this.extend(f[g])}D.prototype={extend:function(n){var s,f;if(!n)return this;if(n instanceof U||typeof n[0]=="number"||"x"in n)s=f=O(n);else if(n=W(n),s=n.min,f=n.max,!s||!f)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=f.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(n){return O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return O(this.min.x,this.max.y)},getTopRight:function(){return O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var s,f;return typeof n[0]=="number"||n instanceof U?n=O(n):n=W(n),n instanceof D?(s=n.min,f=n.max):s=f=n,s.x>=this.min.x&&f.x<=this.max.x&&s.y>=this.min.y&&f.y<=this.max.y},intersects:function(n){n=W(n);var s=this.min,f=this.max,g=n.min,x=n.max,I=x.x>=s.x&&g.x<=f.x,A=x.y>=s.y&&g.y<=f.y;return I&&A},overlaps:function(n){n=W(n);var s=this.min,f=this.max,g=n.min,x=n.max,I=x.x>s.x&&g.x<f.x,A=x.y>s.y&&g.y<f.y;return I&&A},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var s=this.min,f=this.max,g=Math.abs(s.x-f.x)*n,x=Math.abs(s.y-f.y)*n;return W(O(s.x-g,s.y-x),O(f.x+g,f.y+x))},equals:function(n){return n?(n=W(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function W(n,s){return!n||n instanceof D?n:new D(n,s)}function Ce(n,s){if(n)for(var f=s?[n,s]:n,g=0,x=f.length;g<x;g++)this.extend(f[g])}Ce.prototype={extend:function(n){var s=this._southWest,f=this._northEast,g,x;if(n instanceof ve)g=n,x=n;else if(n instanceof Ce){if(g=n._southWest,x=n._northEast,!g||!x)return this}else return n?this.extend(ce(n)||we(n)):this;return!s&&!f?(this._southWest=new ve(g.lat,g.lng),this._northEast=new ve(x.lat,x.lng)):(s.lat=Math.min(g.lat,s.lat),s.lng=Math.min(g.lng,s.lng),f.lat=Math.max(x.lat,f.lat),f.lng=Math.max(x.lng,f.lng)),this},pad:function(n){var s=this._southWest,f=this._northEast,g=Math.abs(s.lat-f.lat)*n,x=Math.abs(s.lng-f.lng)*n;return new Ce(new ve(s.lat-g,s.lng-x),new ve(f.lat+g,f.lng+x))},getCenter:function(){return new ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof ve||"lat"in n?n=ce(n):n=we(n);var s=this._southWest,f=this._northEast,g,x;return n instanceof Ce?(g=n.getSouthWest(),x=n.getNorthEast()):g=x=n,g.lat>=s.lat&&x.lat<=f.lat&&g.lng>=s.lng&&x.lng<=f.lng},intersects:function(n){n=we(n);var s=this._southWest,f=this._northEast,g=n.getSouthWest(),x=n.getNorthEast(),I=x.lat>=s.lat&&g.lat<=f.lat,A=x.lng>=s.lng&&g.lng<=f.lng;return I&&A},overlaps:function(n){n=we(n);var s=this._southWest,f=this._northEast,g=n.getSouthWest(),x=n.getNorthEast(),I=x.lat>s.lat&&g.lat<f.lat,A=x.lng>s.lng&&g.lng<f.lng;return I&&A},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,s){return n?(n=we(n),this._southWest.equals(n.getSouthWest(),s)&&this._northEast.equals(n.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function we(n,s){return n instanceof Ce?n:new Ce(n,s)}function ve(n,s,f){if(isNaN(n)||isNaN(s))throw new Error("Invalid LatLng object: ("+n+", "+s+")");this.lat=+n,this.lng=+s,f!==void 0&&(this.alt=+f)}ve.prototype={equals:function(n,s){if(!n)return!1;n=ce(n);var f=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return f<=(s===void 0?1e-9:s)},toString:function(n){return"LatLng("+N(this.lat,n)+", "+N(this.lng,n)+")"},distanceTo:function(n){return Ue.distance(this,ce(n))},wrap:function(){return Ue.wrapLatLng(this)},toBounds:function(n){var s=180*n/40075017,f=s/Math.cos(Math.PI/180*this.lat);return we([this.lat-s,this.lng-f],[this.lat+s,this.lng+f])},clone:function(){return new ve(this.lat,this.lng,this.alt)}};function ce(n,s,f){return n instanceof ve?n:j(n)&&typeof n[0]!="object"?n.length===3?new ve(n[0],n[1],n[2]):n.length===2?new ve(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new ve(n.lat,"lng"in n?n.lng:n.lon,n.alt):s===void 0?null:new ve(n,s,f)}var Ve={latLngToPoint:function(n,s){var f=this.projection.project(n),g=this.scale(s);return this.transformation._transform(f,g)},pointToLatLng:function(n,s){var f=this.scale(s),g=this.transformation.untransform(n,f);return this.projection.unproject(g)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var s=this.projection.bounds,f=this.scale(n),g=this.transformation.transform(s.min,f),x=this.transformation.transform(s.max,f);return new D(g,x)},infinite:!1,wrapLatLng:function(n){var s=this.wrapLng?C(n.lng,this.wrapLng,!0):n.lng,f=this.wrapLat?C(n.lat,this.wrapLat,!0):n.lat,g=n.alt;return new ve(f,s,g)},wrapLatLngBounds:function(n){var s=n.getCenter(),f=this.wrapLatLng(s),g=s.lat-f.lat,x=s.lng-f.lng;if(g===0&&x===0)return n;var I=n.getSouthWest(),A=n.getNorthEast(),z=new ve(I.lat-g,I.lng-x),b=new ve(A.lat-g,A.lng-x);return new Ce(z,b)}},Ue=u({},Ve,{wrapLng:[-180,180],R:6371e3,distance:function(n,s){var f=Math.PI/180,g=n.lat*f,x=s.lat*f,I=Math.sin((s.lat-n.lat)*f/2),A=Math.sin((s.lng-n.lng)*f/2),z=I*I+Math.cos(g)*Math.cos(x)*A*A,b=2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z));return this.R*b}}),Je=6378137,_t={R:Je,MAX_LATITUDE:85.0511287798,project:function(n){var s=Math.PI/180,f=this.MAX_LATITUDE,g=Math.max(Math.min(f,n.lat),-f),x=Math.sin(g*s);return new U(this.R*n.lng*s,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(n){var s=180/Math.PI;return new ve((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*s,n.x*s/this.R)},bounds:(function(){var n=Je*Math.PI;return new D([-n,-n],[n,n])})()};function di(n,s,f,g){if(j(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=s,this._c=f,this._d=g}di.prototype={transform:function(n,s){return this._transform(n.clone(),s)},_transform:function(n,s){return s=s||1,n.x=s*(this._a*n.x+this._b),n.y=s*(this._c*n.y+this._d),n},untransform:function(n,s){return s=s||1,new U((n.x/s-this._b)/this._a,(n.y/s-this._d)/this._c)}};function fi(n,s,f,g){return new di(n,s,f,g)}var hi=u({},Ue,{code:"EPSG:3857",projection:_t,transformation:(function(){var n=.5/(Math.PI*_t.R);return fi(n,.5,-n,.5)})()}),Ar=u({},hi,{code:"EPSG:900913"});function Mr(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Rr(n,s){var f="",g,x,I,A,z,b;for(g=0,I=n.length;g<I;g++){for(z=n[g],x=0,A=z.length;x<A;x++)b=z[x],f+=(x?"L":"M")+b.x+" "+b.y;f+=s?ye.svg?"z":"x":""}return f||"M0 0"}var Qi=document.documentElement.style,Xi="ActiveXObject"in window,Lr=Xi&&!document.addEventListener,pi="msLaunchUri"in navigator&&!("documentMode"in document),Pn=Tt("webkit"),Ao=Tt("android"),Dr=Tt("android 2")||Tt("android 3"),Hs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),bs=Ao&&Tt("Google")&&Hs<537&&!("AudioNode"in window),Mo=!!window.opera,Ro=!pi&&Tt("chrome"),ji=Tt("gecko")&&!Pn&&!Mo&&!Xi,Gs=!Ro&&Tt("safari"),mi=Tt("phantom"),gi="OTransition"in Qi,xl=navigator.platform.indexOf("Win")===0,Fr=Xi&&"transition"in Qi,Lo="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Dr,qs="MozPerspective"in Qi,Ur=!window.L_DISABLE_3D&&(Fr||Lo||qs)&&!gi&&!mi,Vn=typeof orientation<"u"||Tt("mobile"),Br=Vn&&Pn,zr=Vn&&Lo,Do=!window.PointerEvent&&window.MSPointerEvent,Hn=!!(window.PointerEvent||Do),bn="ontouchstart"in window||!!window.TouchEvent,Os=!window.L_NO_TOUCH&&(bn||Hn),Ws=Vn&&Mo,Zs=Vn&&ji,Js=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ks=(function(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",S,s),window.removeEventListener("testPassiveEventSupport",S,s)}catch{}return n})(),Vr=(function(){return!!document.createElement("canvas").getContext})(),Fo=!!(document.createElementNS&&Mr("svg").createSVGRect),eo=!!Fo&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Hr=!Fo&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var s=n.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),to=navigator.platform.indexOf("Mac")===0,Sl=navigator.platform.indexOf("Linux")===0;function Tt(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var ye={ie:Xi,ielt9:Lr,edge:pi,webkit:Pn,android:Ao,android23:Dr,androidStock:bs,opera:Mo,chrome:Ro,gecko:ji,safari:Gs,phantom:mi,opera12:gi,win:xl,ie3d:Fr,webkit3d:Lo,gecko3d:qs,any3d:Ur,mobile:Vn,mobileWebkit:Br,mobileWebkit3d:zr,msPointer:Do,pointer:Hn,touch:Os,touchNative:bn,mobileOpera:Ws,mobileGecko:Zs,retina:Js,passiveEvents:Ks,canvas:Vr,svg:Fo,vml:Hr,inlineSvg:eo,mac:to,linux:Sl},no=ye.msPointer?"MSPointerDown":"pointerdown",Uo=ye.msPointer?"MSPointerMove":"pointermove",Ys=ye.msPointer?"MSPointerUp":"pointerup",$s=ye.msPointer?"MSPointerCancel":"pointercancel",br={touchstart:no,touchmove:Uo,touchend:Ys,touchcancel:$s},In={touchstart:tt,touchmove:Bo,touchend:Bo,touchcancel:Bo},Gn={},Gr=!1;function El(n,s,f){return s==="touchstart"&&Pl(),In[s]?(f=In[s].bind(this,f),n.addEventListener(br[s],f,!1),f):(console.warn("wrong event specified:",s),S)}function Qs(n,s,f){if(!br[s]){console.warn("wrong event specified:",s);return}n.removeEventListener(br[s],f,!1)}function Xs(n){Gn[n.pointerId]=n}function js(n){Gn[n.pointerId]&&(Gn[n.pointerId]=n)}function qr(n){delete Gn[n.pointerId]}function Pl(){Gr||(document.addEventListener(no,Xs,!0),document.addEventListener(Uo,js,!0),document.addEventListener(Ys,qr,!0),document.addEventListener($s,qr,!0),Gr=!0)}function Bo(n,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var f in Gn)s.touches.push(Gn[f]);s.changedTouches=[s],n(s)}}function tt(n,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&nt(s),Bo(n,s)}function Il(n){var s={},f,g;for(g in n)f=n[g],s[g]=f&&f.bind?f.bind(n):f;return n=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Or=200;function ea(n,s){n.addEventListener("dblclick",s);var f=0,g;function x(I){if(I.detail!==1){g=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var A=Wn(I);if(!(A.some(function(b){return b instanceof HTMLLabelElement&&b.attributes.for})&&!A.some(function(b){return b instanceof HTMLInputElement||b instanceof HTMLSelectElement}))){var z=Date.now();z-f<=Or?(g++,g===2&&s(Il(I))):g=1,f=z}}}return n.addEventListener("click",x),{dblclick:s,simDblclick:x}}function zo(n,s){n.removeEventListener("dblclick",s.dblclick),n.removeEventListener("click",s.simDblclick)}var Wr=Ti(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),_i=Ti(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),io=_i==="webkitTransition"||_i==="OTransition"?_i+"End":"transitionend";function qt(n){return typeof n=="string"?document.getElementById(n):n}function oo(n,s){var f=n.style[s]||n.currentStyle&&n.currentStyle[s];if((!f||f==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(n,null);f=g?g[s]:null}return f==="auto"?null:f}function Me(n,s,f){var g=document.createElement(n);return g.className=s||"",f&&f.appendChild(g),g}function $e(n){var s=n.parentNode;s&&s.removeChild(n)}function Vo(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function vi(n){var s=n.parentNode;s&&s.lastChild!==n&&s.appendChild(n)}function pn(n){var s=n.parentNode;s&&s.firstChild!==n&&s.insertBefore(n,s.firstChild)}function yi(n,s){if(n.classList!==void 0)return n.classList.contains(s);var f=Ho(n);return f.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(f)}function Ae(n,s){if(n.classList!==void 0)for(var f=q(s),g=0,x=f.length;g<x;g++)n.classList.add(f[g]);else if(!yi(n,s)){var I=Ho(n);Zr(n,(I?I+" ":"")+s)}}function Ke(n,s){n.classList!==void 0?n.classList.remove(s):Zr(n,M((" "+Ho(n)+" ").replace(" "+s+" "," ")))}function Zr(n,s){n.className.baseVal===void 0?n.className=s:n.className.baseVal=s}function Ho(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function wt(n,s){"opacity"in n.style?n.style.opacity=s:"filter"in n.style&&ta(n,s)}function ta(n,s){var f=!1,g="DXImageTransform.Microsoft.Alpha";try{f=n.filters.item(g)}catch{if(s===1)return}s=Math.round(s*100),f?(f.Enabled=s!==100,f.Opacity=s):n.style.filter+=" progid:"+g+"(opacity="+s+")"}function Ti(n){for(var s=document.documentElement.style,f=0;f<n.length;f++)if(n[f]in s)return n[f];return!1}function Ot(n,s,f){var g=s||new U(0,0);n.style[Wr]=(ye.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(f?" scale("+f+")":"")}function rt(n,s){n._leaflet_pos=s,ye.any3d?Ot(n,s):(n.style.left=s.x+"px",n.style.top=s.y+"px")}function mn(n){return n._leaflet_pos||new U(0,0)}var He,wi,bo;if("onselectstart"in document)He=function(){Ne(window,"selectstart",nt)},wi=function(){We(window,"selectstart",nt)};else{var qn=Ti(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);He=function(){if(qn){var n=document.documentElement.style;bo=n[qn],n[qn]="none"}},wi=function(){qn&&(document.documentElement.style[qn]=bo,bo=void 0)}}function Go(){Ne(window,"dragstart",nt)}function qo(){We(window,"dragstart",nt)}var ro,so;function Ci(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Wt(),ro=n,so=n.style.outlineStyle,n.style.outlineStyle="none",Ne(window,"keydown",Wt))}function Wt(){ro&&(ro.style.outlineStyle=so,ro=void 0,so=void 0,We(window,"keydown",Wt))}function gn(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function en(n){var s=n.getBoundingClientRect();return{x:s.width/n.offsetWidth||1,y:s.height/n.offsetHeight||1,boundingClientRect:s}}var ao={__proto__:null,TRANSFORM:Wr,TRANSITION:_i,TRANSITION_END:io,get:qt,getStyle:oo,create:Me,remove:$e,empty:Vo,toFront:vi,toBack:pn,hasClass:yi,addClass:Ae,removeClass:Ke,setClass:Zr,getClass:Ho,setOpacity:wt,testProp:Ti,setTransform:Ot,setPosition:rt,getPosition:mn,get disableTextSelection(){return He},get enableTextSelection(){return wi},disableImageDrag:Go,enableImageDrag:qo,preventOutline:Ci,restoreOutline:Wt,getSizedParentNode:gn,getScale:en};function Ne(n,s,f,g){if(s&&typeof s=="object")for(var x in s)Kr(n,x,s[x],f);else{s=q(s);for(var I=0,A=s.length;I<A;I++)Kr(n,s[I],f,g)}return this}var ct="_leaflet_events";function We(n,s,f,g){if(arguments.length===1)Jr(n),delete n[ct];else if(s&&typeof s=="object")for(var x in s)Oo(n,x,s[x],f);else if(s=q(s),arguments.length===2)Jr(n,function(z){return oe(s,z)!==-1});else for(var I=0,A=s.length;I<A;I++)Oo(n,s[I],f,g);return this}function Jr(n,s){for(var f in n[ct]){var g=f.split(/\d/)[0];(!s||s(g))&&Oo(n,g,null,null,f)}}var On={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Kr(n,s,f,g){var x=s+y(f)+(g?"_"+y(g):"");if(n[ct]&&n[ct][x])return this;var I=function(z){return f.call(g||n,z||window.event)},A=I;!ye.touchNative&&ye.pointer&&s.indexOf("touch")===0?I=El(n,s,I):ye.touch&&s==="dblclick"?I=ea(n,I):"addEventListener"in n?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?n.addEventListener(On[s]||s,I,ye.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(I=function(z){z=z||window.event,co(n,z)&&A(z)},n.addEventListener(On[s],I,!1)):n.addEventListener(s,A,!1):n.attachEvent("on"+s,I),n[ct]=n[ct]||{},n[ct][x]=I}function Oo(n,s,f,g,x){x=x||s+y(f)+(g?"_"+y(g):"");var I=n[ct]&&n[ct][x];if(!I)return this;!ye.touchNative&&ye.pointer&&s.indexOf("touch")===0?Qs(n,s,I):ye.touch&&s==="dblclick"?zo(n,I):"removeEventListener"in n?n.removeEventListener(On[s]||s,I,!1):n.detachEvent("on"+s,I),n[ct][x]=null}function tn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Wo(n){return Kr(n,"wheel",tn),this}function lo(n){return Ne(n,"mousedown touchstart dblclick contextmenu",tn),n._leaflet_disable_click=!0,this}function nt(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function Zt(n){return nt(n),tn(n),this}function Wn(n){if(n.composedPath)return n.composedPath();for(var s=[],f=n.target;f;)s.push(f),f=f.parentNode;return s}function uo(n,s){if(!s)return new U(n.clientX,n.clientY);var f=en(s),g=f.boundingClientRect;return new U((n.clientX-g.left)/f.x-s.clientLeft,(n.clientY-g.top)/f.y-s.clientTop)}var Nl=ye.linux&&ye.chrome?window.devicePixelRatio:ye.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function na(n){return ye.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Nl:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function co(n,s){var f=s.relatedTarget;if(!f)return!0;try{for(;f&&f!==n;)f=f.parentNode}catch{return!1}return f!==n}var Zo={__proto__:null,on:Ne,off:We,stopPropagation:tn,disableScrollPropagation:Wo,disableClickPropagation:lo,preventDefault:nt,stop:Zt,getPropagationPath:Wn,getMousePosition:uo,getWheelDelta:na,isExternalTarget:co,addListener:Ne,removeListener:We},Jo=me.extend({run:function(n,s,f,g){this.stop(),this._el=n,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=mn(n),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ie(this._animate,this),this._step()},_step:function(n){var s=+new Date-this._startTime,f=this._duration*1e3;s<f?this._runFrame(this._easeOut(s/f),n):(this._runFrame(1),this._complete())},_runFrame:function(n,s){var f=this._startPos.add(this._offset.multiplyBy(n));s&&f._round(),rt(this._el,f),this.fire("step")},_complete:function(){Q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),ze=me.extend({options:{crs:hi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,s){s=B(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(ce(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=_i&&ye.any3d&&!ye.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ne(this._proxy,io,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,s,f){if(s=s===void 0?this._zoom:this._limitZoom(s),n=this._limitCenter(ce(n),s,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=u({animate:f.animate},f.zoom),f.pan=u({animate:f.animate,duration:f.duration},f.pan));var g=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,s,f.zoom):this._tryAnimatedPan(n,f.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(n,s,f.pan&&f.pan.noMoveStart),this},setZoom:function(n,s){return this._loaded?this.setView(this.getCenter(),n,{zoom:s}):(this._zoom=n,this)},zoomIn:function(n,s){return n=n||(ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,s)},zoomOut:function(n,s){return n=n||(ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,s)},setZoomAround:function(n,s,f){var g=this.getZoomScale(s),x=this.getSize().divideBy(2),I=n instanceof U?n:this.latLngToContainerPoint(n),A=I.subtract(x).multiplyBy(1-1/g),z=this.containerPointToLatLng(x.add(A));return this.setView(z,s,{zoom:f})},_getBoundsCenterZoom:function(n,s){s=s||{},n=n.getBounds?n.getBounds():we(n);var f=O(s.paddingTopLeft||s.padding||[0,0]),g=O(s.paddingBottomRight||s.padding||[0,0]),x=this.getBoundsZoom(n,!1,f.add(g));if(x=typeof s.maxZoom=="number"?Math.min(s.maxZoom,x):x,x===1/0)return{center:n.getCenter(),zoom:x};var I=g.subtract(f).divideBy(2),A=this.project(n.getSouthWest(),x),z=this.project(n.getNorthEast(),x),b=this.unproject(A.add(z).divideBy(2).add(I),x);return{center:b,zoom:x}},fitBounds:function(n,s){if(n=we(n),!n.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(n,s);return this.setView(f.center,f.zoom,s)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,s){return this.setView(n,this._zoom,{pan:s})},panBy:function(n,s){if(n=O(n).round(),s=s||{},!n.x&&!n.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Jo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Ae(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,f,s.duration||.25,s.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,s,f){if(f=f||{},f.animate===!1||!ye.any3d)return this.setView(n,s,f);this._stop();var g=this.project(this.getCenter()),x=this.project(n),I=this.getSize(),A=this._zoom;n=ce(n),s=s===void 0?A:s;var z=Math.max(I.x,I.y),b=z*this.getZoomScale(A,s),K=x.distanceTo(g)||1,re=1.42,xe=re*re;function De(Oe){var Bi=Oe?-1:1,Gl=Oe?b:z,ql=b*b-z*z+Bi*xe*xe*K*K,Xn=2*Gl*xe*K,jn=ql/Xn,ei=Math.sqrt(jn*jn+1)-jn,ar=ei<1e-9?-18:Math.log(ei);return ar}function dt(Oe){return(Math.exp(Oe)-Math.exp(-Oe))/2}function lt(Oe){return(Math.exp(Oe)+Math.exp(-Oe))/2}function Mt(Oe){return dt(Oe)/lt(Oe)}var xt=De(0);function Fi(Oe){return z*(lt(xt)/lt(xt+re*Oe))}function ms(Oe){return z*(lt(xt)*Mt(xt+re*Oe)-dt(xt))/xe}function Fn(Oe){return 1-Math.pow(1-Oe,1.5)}var xa=Date.now(),Qn=(De(1)-xt)/re,sn=f.duration?1e3*f.duration:1e3*Qn*.8;function Ui(){var Oe=(Date.now()-xa)/sn,Bi=Fn(Oe)*Qn;Oe<=1?(this._flyToFrame=Ie(Ui,this),this._move(this.unproject(g.add(x.subtract(g).multiplyBy(ms(Bi)/K)),A),this.getScaleZoom(z/Fi(Bi),A),{flyTo:!0})):this._move(n,s)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),Ui.call(this),this},flyToBounds:function(n,s){var f=this._getBoundsCenterZoom(n,s);return this.flyTo(f.center,f.zoom,s)},setMaxBounds:function(n){return n=we(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var s=this.options.minZoom;return this.options.minZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var s=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,s){this._enforcingBounds=!0;var f=this.getCenter(),g=this._limitCenter(f,this._zoom,we(n));return f.equals(g)||this.panTo(g,s),this._enforcingBounds=!1,this},panInside:function(n,s){s=s||{};var f=O(s.paddingTopLeft||s.padding||[0,0]),g=O(s.paddingBottomRight||s.padding||[0,0]),x=this.project(this.getCenter()),I=this.project(n),A=this.getPixelBounds(),z=W([A.min.add(f),A.max.subtract(g)]),b=z.getSize();if(!z.contains(I)){this._enforcingBounds=!0;var K=I.subtract(z.getCenter()),re=z.extend(I).getSize().subtract(b);x.x+=K.x<0?-re.x:re.x,x.y+=K.y<0?-re.y:re.y,this.panTo(this.unproject(x),s),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=u({animate:!1,pan:!0},n===!0?{animate:!0}:n);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),g=s.divideBy(2).round(),x=f.divideBy(2).round(),I=g.subtract(x);return!I.x&&!I.y?this:(n.animate&&n.pan?this.panBy(I):(n.pan&&this._rawPanBy(I),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=u({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=m(this._handleGeolocationResponse,this),f=m(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,f,n):navigator.geolocation.getCurrentPosition(s,f,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var s=n.code,f=n.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var s=n.coords.latitude,f=n.coords.longitude,g=new ve(s,f),x=g.toBounds(n.coords.accuracy*2),I=this._locateOptions;if(I.setView){var A=this.getBoundsZoom(x);this.setView(g,I.maxZoom?Math.min(A,I.maxZoom):A)}var z={latlng:g,bounds:x,timestamp:n.timestamp};for(var b in n.coords)typeof n.coords[b]=="number"&&(z[b]=n.coords[b]);this.fire("locationfound",z)}},addHandler:function(n,s){if(!s)return this;var f=this[n]=new s(this);return this._handlers.push(f),this.options[n]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),$e(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)$e(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,s){var f="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),g=Me("div",f,s||this._mapPane);return n&&(this._panes[n]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),s=this.unproject(n.getBottomLeft()),f=this.unproject(n.getTopRight());return new Ce(s,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,s,f){n=we(n),f=O(f||[0,0]);var g=this.getZoom()||0,x=this.getMinZoom(),I=this.getMaxZoom(),A=n.getNorthWest(),z=n.getSouthEast(),b=this.getSize().subtract(f),K=W(this.project(z,g),this.project(A,g)).getSize(),re=ye.any3d?this.options.zoomSnap:1,xe=b.x/K.x,De=b.y/K.y,dt=s?Math.max(xe,De):Math.min(xe,De);return g=this.getScaleZoom(dt,g),re&&(g=Math.round(g/(re/100))*(re/100),g=s?Math.ceil(g/re)*re:Math.floor(g/re)*re),Math.max(x,Math.min(I,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,s){var f=this._getTopLeftPoint(n,s);return new D(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,s){var f=this.options.crs;return s=s===void 0?this._zoom:s,f.scale(n)/f.scale(s)},getScaleZoom:function(n,s){var f=this.options.crs;s=s===void 0?this._zoom:s;var g=f.zoom(n*f.scale(s));return isNaN(g)?1/0:g},project:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(ce(n),s)},unproject:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(O(n),s)},layerPointToLatLng:function(n){var s=O(n).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(n){var s=this.project(ce(n))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(ce(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(we(n))},distance:function(n,s){return this.options.crs.distance(ce(n),ce(s))},containerPointToLayerPoint:function(n){return O(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return O(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var s=this.containerPointToLayerPoint(O(n));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ce(n)))},mouseEventToContainerPoint:function(n){return uo(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var s=this._container=qt(n);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ne(s,"scroll",this._onScroll,this),this._containerId=y(s)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&ye.any3d,Ae(n,"leaflet-container"+(ye.touch?" leaflet-touch":"")+(ye.retina?" leaflet-retina":"")+(ye.ielt9?" leaflet-oldie":"")+(ye.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=oo(n,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),rt(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ae(n.markerPane,"leaflet-zoom-hide"),Ae(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,s,f){rt(this._mapPane,new U(0,0));var g=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var x=this._zoom!==s;this._moveStart(x,f)._move(n,s)._moveEnd(x),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(n,s){return n&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(n,s,f,g){s===void 0&&(s=this._zoom);var x=this._zoom!==s;return this._zoom=s,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),g?f&&f.pinch&&this.fire("zoom",f):((x||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){rt(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[y(this._container)]=this;var s=n?We:Ne;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),ye.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Q(this._resizeRequest),this._resizeRequest=Ie(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,s){for(var f=[],g,x=s==="mouseout"||s==="mouseover",I=n.target||n.srcElement,A=!1;I;){if(g=this._targets[y(I)],g&&(s==="click"||s==="preclick")&&this._draggableMoved(g)){A=!0;break}if(g&&g.listens(s,!0)&&(x&&!co(I,n)||(f.push(g),x))||I===this._container)break;I=I.parentNode}return!f.length&&!A&&!x&&this.listens(s,!0)&&(f=[this]),f},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var s=n.target||n.srcElement;if(!(!this._loaded||s._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(s))){var f=n.type;f==="mousedown"&&Ci(s),this._fireDOMEvent(n,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,s,f){if(n.type==="click"){var g=u({},n);g.type="preclick",this._fireDOMEvent(g,g.type,f)}var x=this._findEventTargets(n,s);if(f){for(var I=[],A=0;A<f.length;A++)f[A].listens(s,!0)&&I.push(f[A]);x=I.concat(x)}if(x.length){s==="contextmenu"&&nt(n);var z=x[0],b={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var K=z.getLatLng&&(!z._radius||z._radius<=10);b.containerPoint=K?this.latLngToContainerPoint(z.getLatLng()):this.mouseEventToContainerPoint(n),b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=K?z.getLatLng():this.layerPointToLatLng(b.layerPoint)}for(A=0;A<x.length;A++)if(x[A].fire(s,b,!0),b.originalEvent._stopped||x[A].options.bubblingMouseEvents===!1&&oe(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,s=this._handlers.length;n<s;n++)this._handlers[n].disable()},whenReady:function(n,s){return this._loaded?n.call(s||this,{target:this}):this.on("load",n,s),this},_getMapPanePos:function(){return mn(this._mapPane)||new U(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,s){var f=n&&s!==void 0?this._getNewPixelOrigin(n,s):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,s){var f=this.getSize()._divideBy(2);return this.project(n,s)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,s,f){var g=this._getNewPixelOrigin(f,s);return this.project(n,s)._subtract(g)},_latLngBoundsToNewLayerBounds:function(n,s,f){var g=this._getNewPixelOrigin(f,s);return W([this.project(n.getSouthWest(),s)._subtract(g),this.project(n.getNorthWest(),s)._subtract(g),this.project(n.getSouthEast(),s)._subtract(g),this.project(n.getNorthEast(),s)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,s,f){if(!f)return n;var g=this.project(n,s),x=this.getSize().divideBy(2),I=new D(g.subtract(x),g.add(x)),A=this._getBoundsOffset(I,f,s);return Math.abs(A.x)<=1&&Math.abs(A.y)<=1?n:this.unproject(g.add(A),s)},_limitOffset:function(n,s){if(!s)return n;var f=this.getPixelBounds(),g=new D(f.min.add(n),f.max.add(n));return n.add(this._getBoundsOffset(g,s))},_getBoundsOffset:function(n,s,f){var g=W(this.project(s.getNorthEast(),f),this.project(s.getSouthWest(),f)),x=g.min.subtract(n.min),I=g.max.subtract(n.max),A=this._rebound(x.x,-I.x),z=this._rebound(x.y,-I.y);return new U(A,z)},_rebound:function(n,s){return n+s>0?Math.round(n-s)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(s))},_limitZoom:function(n){var s=this.getMinZoom(),f=this.getMaxZoom(),g=ye.any3d?this.options.zoomSnap:1;return g&&(n=Math.round(n/g)*g),Math.max(s,Math.min(f,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ke(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,s){var f=this._getCenterOffset(n)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,s),!0)},_createAnimProxy:function(){var n=this._proxy=Me("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(s){var f=Wr,g=this._proxy.style[f];Ot(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),g===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){$e(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),s=this.getZoom();Ot(this._proxy,this.project(n,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,s,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(s),x=this._getCenterOffset(n)._divideBy(1-1/g);return f.animate!==!0&&!this.getSize().contains(x)?!1:(Ie(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(n,s,!0)},this),!0)},_animateZoom:function(n,s,f,g){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=s,Ae(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:s,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ke(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Nn(n,s){return new ze(n,s)}var kt=Fe.extend({options:{position:"topright"},initialize:function(n){B(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var s=this._map;return s&&s.removeControl(this),this.options.position=n,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var s=this._container=this.onAdd(n),f=this.getPosition(),g=n._controlCorners[f];return Ae(s,"leaflet-control"),f.indexOf("bottom")!==-1?g.insertBefore(s,g.firstChild):g.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?($e(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),kn=function(n){return new kt(n)};ze.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},s="leaflet-",f=this._controlContainer=Me("div",s+"control-container",this._container);function g(x,I){var A=s+x+" "+s+I;n[x+I]=Me("div",A,f)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)$e(this._controlCorners[n]);$e(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Yr=kt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,s,f,g){return f<g?-1:g<f?1:0}},initialize:function(n,s,f){B(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in n)this._addLayer(n[g],g);for(g in s)this._addLayer(s[g],g,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return kt.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,s){return this._addLayer(n,s),this._map?this._update():this},addOverlay:function(n,s){return this._addLayer(n,s,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var s=this._getLayer(y(n));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Ae(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(Ae(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):Ke(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ke(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",s=this._container=Me("div",n),f=this.options.collapsed;s.setAttribute("aria-haspopup",!0),lo(s),Wo(s);var g=this._section=Me("section",n+"-list");f&&(this._map.on("click",this.collapse,this),Ne(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=Me("a",n+"-toggle",s);x.href="#",x.title="Layers",x.setAttribute("role","button"),Ne(x,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){nt(I),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=Me("div",n+"-base",g),this._separator=Me("div",n+"-separator",g),this._overlaysList=Me("div",n+"-overlays",g),s.appendChild(g)},_getLayer:function(n){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&y(this._layers[s].layer)===n)return this._layers[s]},_addLayer:function(n,s,f){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:s,overlay:f}),this.options.sortLayers&&this._layers.sort(m(function(g,x){return this.options.sortFunction(g.layer,x.layer,g.name,x.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Vo(this._baseLayersList),Vo(this._overlaysList),this._layerControlInputs=[];var n,s,f,g,x=0;for(f=0;f<this._layers.length;f++)g=this._layers[f],this._addItem(g),s=s||g.overlay,n=n||!g.overlay,x+=g.overlay?0:1;return this.options.hideSingleBase&&(n=n&&x>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=s&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var s=this._getLayer(y(n.target)),f=s.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;f&&this._map.fire(f,s)},_createRadioElement:function(n,s){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(s?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=f,g.firstChild},_addItem:function(n){var s=document.createElement("label"),f=this._map.hasLayer(n.layer),g;n.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=f):g=this._createRadioElement("leaflet-base-layers_"+y(this),f),this._layerControlInputs.push(g),g.layerId=y(n.layer),Ne(g,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+n.name;var I=document.createElement("span");s.appendChild(I),I.appendChild(g),I.appendChild(x);var A=n.overlay?this._overlaysList:this._baseLayersList;return A.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,s,f,g=[],x=[];this._handlingClick=!0;for(var I=n.length-1;I>=0;I--)s=n[I],f=this._getLayer(s.layerId).layer,s.checked?g.push(f):s.checked||x.push(f);for(I=0;I<x.length;I++)this._map.hasLayer(x[I])&&this._map.removeLayer(x[I]);for(I=0;I<g.length;I++)this._map.hasLayer(g[I])||this._map.addLayer(g[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,s,f,g=this._map.getZoom(),x=n.length-1;x>=0;x--)s=n[x],f=this._getLayer(s.layerId).layer,s.disabled=f.options.minZoom!==void 0&&g<f.options.minZoom||f.options.maxZoom!==void 0&&g>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,Ne(n,"click",nt),this.expand();var s=this;setTimeout(function(){We(n,"click",nt),s._preventClick=!1})}}),Ko=function(n,s,f){return new Yr(n,s,f)},xi=kt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var s="leaflet-control-zoom",f=Me("div",s+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,s+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,s+"-out",f,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,s,f,g,x){var I=Me("a",f,g);return I.innerHTML=n,I.href="#",I.title=s,I.setAttribute("role","button"),I.setAttribute("aria-label",s),lo(I),Ne(I,"click",Zt),Ne(I,"click",x,this),Ne(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var n=this._map,s="leaflet-disabled";Ke(this._zoomInButton,s),Ke(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(Ae(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(Ae(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});ze.mergeOptions({zoomControl:!0}),ze.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xi,this.addControl(this.zoomControl))});var ia=function(n){return new xi(n)},Ct=kt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var s="leaflet-control-scale",f=Me("div",s),g=this.options;return this._addScales(g,s+"-line",f),n.on(g.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),f},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,s,f){n.metric&&(this._mScale=Me("div",s,f)),n.imperial&&(this._iScale=Me("div",s,f))},_update:function(){var n=this._map,s=n.getSize().y/2,f=n.distance(n.containerPointToLatLng([0,s]),n.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(f)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var s=this._getRoundNum(n),f=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,f,s/n)},_updateImperial:function(n){var s=n*3.2808399,f,g,x;s>5280?(f=s/5280,g=this._getRoundNum(f),this._updateScale(this._iScale,g+" mi",g/f)):(x=this._getRoundNum(s),this._updateScale(this._iScale,x+" ft",x/s))},_updateScale:function(n,s,f){n.style.width=Math.round(this.options.maxWidth*f)+"px",n.innerHTML=s},_getRoundNum:function(n){var s=Math.pow(10,(Math.floor(n)+"").length-1),f=n/s;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,s*f}}),Si=function(n){return new Ct(n)},$r='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Zn=kt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ye.inlineSvg?$r+" ":"")+"Leaflet</a>"},initialize:function(n){B(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Me("div","leaflet-control-attribution"),lo(this._container);for(var s in n._layers)n._layers[s].getAttribution&&this.addAttribution(n._layers[s].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var s in this._attributions)this._attributions[s]&&n.push(s);var f=[];this.options.prefix&&f.push(this.options.prefix),n.length&&f.push(n.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});ze.mergeOptions({attributionControl:!0}),ze.addInitHook(function(){this.options.attributionControl&&new Zn().addTo(this)});var kl=function(n){return new Zn(n)};kt.Layers=Yr,kt.Zoom=xi,kt.Scale=Ct,kt.Attribution=Zn,kn.layers=Ko,kn.zoom=ia,kn.scale=Si,kn.attribution=kl;var Ft=Fe.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ft.addTo=function(n,s){return n.addHandler(s,this),this};var Qr={Events:Re},Ei=ye.touch?"touchstart mousedown":"mousedown",Jt=me.extend({options:{clickTolerance:3},initialize:function(n,s,f,g){B(this,g),this._element=n,this._dragStartTarget=s||n,this._preventOutline=f},enable:function(){this._enabled||(Ne(this._dragStartTarget,Ei,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Jt._dragging===this&&this.finishDrag(!0),We(this._dragStartTarget,Ei,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!yi(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Jt._dragging===this&&this.finishDrag();return}if(!(Jt._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Jt._dragging=this,this._preventOutline&&Ci(this._element),Go(),He(),!this._moving)){this.fire("down");var s=n.touches?n.touches[0]:n,f=gn(this._element);this._startPoint=new U(s.clientX,s.clientY),this._startPos=mn(this._element),this._parentScale=en(f);var g=n.type==="mousedown";Ne(document,g?"mousemove":"touchmove",this._onMove,this),Ne(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var s=n.touches&&n.touches.length===1?n.touches[0]:n,f=new U(s.clientX,s.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,nt(n),this._moved||(this.fire("dragstart"),this._moved=!0,Ae(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ae(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),rt(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){Ke(document.body,"leaflet-dragging"),this._lastTarget&&(Ke(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),We(document,"mousemove touchmove",this._onMove,this),We(document,"mouseup touchend touchcancel",this._onUp,this),qo(),wi();var s=this._moved&&this._moving;this._moving=!1,Jt._dragging=!1,s&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Xr(n,s,f){var g,x=[1,4,2,8],I,A,z,b,K,re,xe,De;for(I=0,re=n.length;I<re;I++)n[I]._code=Jn(n[I],s);for(z=0;z<4;z++){for(xe=x[z],g=[],I=0,re=n.length,A=re-1;I<re;A=I++)b=n[I],K=n[A],b._code&xe?K._code&xe||(De=$o(K,b,xe,s,f),De._code=Jn(De,s),g.push(De)):(K._code&xe&&(De=$o(K,b,xe,s,f),De._code=Jn(De,s),g.push(De)),g.push(b));n=g}return n}function oa(n,s){var f,g,x,I,A,z,b,K,re;if(!n||n.length===0)throw new Error("latlngs not passed");Ut(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var xe=ce([0,0]),De=we(n),dt=De.getNorthWest().distanceTo(De.getSouthWest())*De.getNorthEast().distanceTo(De.getNorthWest());dt<1700&&(xe=jr(n));var lt=n.length,Mt=[];for(f=0;f<lt;f++){var xt=ce(n[f]);Mt.push(s.project(ce([xt.lat-xe.lat,xt.lng-xe.lng])))}for(z=b=K=0,f=0,g=lt-1;f<lt;g=f++)x=Mt[f],I=Mt[g],A=x.y*I.x-I.y*x.x,b+=(x.x+I.x)*A,K+=(x.y+I.y)*A,z+=A*3;z===0?re=Mt[0]:re=[b/z,K/z];var Fi=s.unproject(O(re));return ce([Fi.lat+xe.lat,Fi.lng+xe.lng])}function jr(n){for(var s=0,f=0,g=0,x=0;x<n.length;x++){var I=ce(n[x]);s+=I.lat,f+=I.lng,g++}return ce([s/g,f/g])}var Al={__proto__:null,clipPolygon:Xr,polygonCenter:oa,centroid:jr};function Yo(n,s){if(!s||!n.length)return n.slice();var f=s*s;return n=Ll(n,f),n=Rl(n,f),n}function ra(n,s,f){return Math.sqrt(Kn(n,s,f,!0))}function Ml(n,s,f){return Kn(n,s,f)}function Rl(n,s){var f=n.length,g=typeof Uint8Array<"u"?Uint8Array:Array,x=new g(f);x[0]=x[f-1]=1,es(n,x,s,0,f-1);var I,A=[];for(I=0;I<f;I++)x[I]&&A.push(n[I]);return A}function es(n,s,f,g,x){var I=0,A,z,b;for(z=g+1;z<=x-1;z++)b=Kn(n[z],n[g],n[x],!0),b>I&&(A=z,I=b);I>f&&(s[A]=1,es(n,s,f,g,A),es(n,s,f,A,x))}function Ll(n,s){for(var f=[n[0]],g=1,x=0,I=n.length;g<I;g++)Dl(n[g],n[x])>s&&(f.push(n[g]),x=g);return x<I-1&&f.push(n[I-1]),f}var ts;function sa(n,s,f,g,x){var I=g?ts:Jn(n,f),A=Jn(s,f),z,b,K;for(ts=A;;){if(!(I|A))return[n,s];if(I&A)return!1;z=I||A,b=$o(n,s,z,f,x),K=Jn(b,f),z===I?(n=b,I=K):(s=b,A=K)}}function $o(n,s,f,g,x){var I=s.x-n.x,A=s.y-n.y,z=g.min,b=g.max,K,re;return f&8?(K=n.x+I*(b.y-n.y)/A,re=b.y):f&4?(K=n.x+I*(z.y-n.y)/A,re=z.y):f&2?(K=b.x,re=n.y+A*(b.x-n.x)/I):f&1&&(K=z.x,re=n.y+A*(z.x-n.x)/I),new U(K,re,x)}function Jn(n,s){var f=0;return n.x<s.min.x?f|=1:n.x>s.max.x&&(f|=2),n.y<s.min.y?f|=4:n.y>s.max.y&&(f|=8),f}function Dl(n,s){var f=s.x-n.x,g=s.y-n.y;return f*f+g*g}function Kn(n,s,f,g){var x=s.x,I=s.y,A=f.x-x,z=f.y-I,b=A*A+z*z,K;return b>0&&(K=((n.x-x)*A+(n.y-I)*z)/b,K>1?(x=f.x,I=f.y):K>0&&(x+=A*K,I+=z*K)),A=n.x-x,z=n.y-I,g?A*A+z*z:new U(x,I)}function Ut(n){return!j(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function aa(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ut(n)}function la(n,s){var f,g,x,I,A,z,b,K;if(!n||n.length===0)throw new Error("latlngs not passed");Ut(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var re=ce([0,0]),xe=we(n),De=xe.getNorthWest().distanceTo(xe.getSouthWest())*xe.getNorthEast().distanceTo(xe.getNorthWest());De<1700&&(re=jr(n));var dt=n.length,lt=[];for(f=0;f<dt;f++){var Mt=ce(n[f]);lt.push(s.project(ce([Mt.lat-re.lat,Mt.lng-re.lng])))}for(f=0,g=0;f<dt-1;f++)g+=lt[f].distanceTo(lt[f+1])/2;if(g===0)K=lt[0];else for(f=0,I=0;f<dt-1;f++)if(A=lt[f],z=lt[f+1],x=A.distanceTo(z),I+=x,I>g){b=(I-g)/x,K=[z.x-b*(z.x-A.x),z.y-b*(z.y-A.y)];break}var xt=s.unproject(O(K));return ce([xt.lat+re.lat,xt.lng+re.lng])}var ua={__proto__:null,simplify:Yo,pointToSegmentDistance:ra,closestPointOnSegment:Ml,clipSegment:sa,_getEdgeIntersection:$o,_getBitCode:Jn,_sqClosestPointOnSegment:Kn,isFlat:Ut,_flat:aa,polylineCenter:la},ns={project:function(n){return new U(n.lng,n.lat)},unproject:function(n){return new ve(n.y,n.x)},bounds:new D([-180,-90],[180,90])},is={R:6378137,R_MINOR:6356752314245179e-9,bounds:new D([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var s=Math.PI/180,f=this.R,g=n.lat*s,x=this.R_MINOR/f,I=Math.sqrt(1-x*x),A=I*Math.sin(g),z=Math.tan(Math.PI/4-g/2)/Math.pow((1-A)/(1+A),I/2);return g=-f*Math.log(Math.max(z,1e-10)),new U(n.lng*s*f,g)},unproject:function(n){for(var s=180/Math.PI,f=this.R,g=this.R_MINOR/f,x=Math.sqrt(1-g*g),I=Math.exp(-n.y/f),A=Math.PI/2-2*Math.atan(I),z=0,b=.1,K;z<15&&Math.abs(b)>1e-7;z++)K=x*Math.sin(A),K=Math.pow((1-K)/(1+K),x/2),b=Math.PI/2-2*Math.atan(I*K)-A,A+=b;return new ve(A*s,n.x*s/f)}},Fl={__proto__:null,LonLat:ns,Mercator:is,SphericalMercator:_t},Ul=u({},Ue,{code:"EPSG:3395",projection:is,transformation:(function(){var n=.5/(Math.PI*is.R);return fi(n,.5,-n,.5)})()}),ca=u({},Ue,{code:"EPSG:4326",projection:ns,transformation:fi(1/180,1,-1/180,.5)}),Bl=u({},Ve,{projection:ns,transformation:fi(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,s){var f=s.lng-n.lng,g=s.lat-n.lat;return Math.sqrt(f*f+g*g)},infinite:!0});Ve.Earth=Ue,Ve.EPSG3395=Ul,Ve.EPSG3857=hi,Ve.EPSG900913=Ar,Ve.EPSG4326=ca,Ve.Simple=Bl;var Kt=me.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[y(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[y(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var s=n.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var f=this.getEvents();s.on(f,this),this.once("remove",function(){s.off(f,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});ze.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var s=y(n);return this._layers[s]?this:(this._layers[s]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var s=y(n);return this._layers[s]?(this._loaded&&n.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return y(n)in this._layers},eachLayer:function(n,s){for(var f in this._layers)n.call(s,this._layers[f]);return this},_addLayers:function(n){n=n?j(n)?n:[n]:[];for(var s=0,f=n.length;s<f;s++)this.addLayer(n[s])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[y(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var s=y(n);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,s=-1/0,f=this._getZoomSpan();for(var g in this._zoomBoundLayers){var x=this._zoomBoundLayers[g].options;n=x.minZoom===void 0?n:Math.min(n,x.minZoom),s=x.maxZoom===void 0?s:Math.max(s,x.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=n===1/0?void 0:n,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var An=Kt.extend({initialize:function(n,s){B(this,s),this._layers={};var f,g;if(n)for(f=0,g=n.length;f<g;f++)this.addLayer(n[f])},addLayer:function(n){var s=this.getLayerId(n);return this._layers[s]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var s=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(n){var s=typeof n=="number"?n:this.getLayerId(n);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var s=Array.prototype.slice.call(arguments,1),f,g;for(f in this._layers)g=this._layers[f],g[n]&&g[n].apply(g,s);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,s){for(var f in this._layers)n.call(s,this._layers[f]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return y(n)}}),fo=function(n,s){return new An(n,s)},_n=An.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),An.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),An.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new Ce;for(var s in this._layers){var f=this._layers[s];n.extend(f.getBounds?f.getBounds():f.getLatLng())}return n}}),da=function(n,s){return new _n(n,s)},Yn=Fe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){B(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,s){var f=this._getIconUrl(n);if(!f){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(f,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(g,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(n,s){var f=this.options,g=f[s+"Size"];typeof g=="number"&&(g=[g,g]);var x=O(g),I=O(s==="shadow"&&f.shadowAnchor||f.iconAnchor||x&&x.divideBy(2,!0));n.className="leaflet-marker-"+s+" "+(f.className||""),I&&(n.style.marginLeft=-I.x+"px",n.style.marginTop=-I.y+"px"),x&&(n.style.width=x.x+"px",n.style.height=x.y+"px")},_createImg:function(n,s){return s=s||document.createElement("img"),s.src=n,s},_getIconUrl:function(n){return ye.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function fa(n){return new Yn(n)}var Pi=Yn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Pi.imagePath!="string"&&(Pi.imagePath=this._detectIconPath()),(this.options.imagePath||Pi.imagePath)+Yn.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var s=function(f,g,x){var I=g.exec(f);return I&&I[x]};return n=s(n,/^url\((['"])?(.+)\1\)$/,2),n&&s(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Me("div","leaflet-default-icon-path",document.body),s=oo(n,"background-image")||oo(n,"backgroundImage");if(document.body.removeChild(n),s=this._stripUrl(s),s)return s;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),os=Ft.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Jt(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ae(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ke(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var s=this._marker,f=s._map,g=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,I=mn(s._icon),A=f.getPixelBounds(),z=f.getPixelOrigin(),b=W(A.min._subtract(z).add(x),A.max._subtract(z).subtract(x));if(!b.contains(I)){var K=O((Math.max(b.max.x,I.x)-b.max.x)/(A.max.x-b.max.x)-(Math.min(b.min.x,I.x)-b.min.x)/(A.min.x-b.min.x),(Math.max(b.max.y,I.y)-b.max.y)/(A.max.y-b.max.y)-(Math.min(b.min.y,I.y)-b.min.y)/(A.min.y-b.min.y)).multiplyBy(g);f.panBy(K,{animate:!1}),this._draggable._newPos._add(K),this._draggable._startPos._add(K),rt(s._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=Ie(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(Q(this._panRequest),this._panRequest=Ie(this._adjustPan.bind(this,n)))},_onDrag:function(n){var s=this._marker,f=s._shadow,g=mn(s._icon),x=s._map.layerPointToLatLng(g);f&&rt(f,g),s._latlng=x,n.latlng=x,n.oldLatLng=this._oldLatLng,s.fire("move",n).fire("drag",n)},_onDragEnd:function(n){Q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),vn=Kt.extend({options:{icon:new Pi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,s){B(this,s),this._latlng=ce(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var s=this._latlng;return this._latlng=ce(n),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=n.icon.createIcon(this._icon),g=!1;f!==this._icon&&(this._icon&&this._removeIcon(),g=!0,n.title&&(f.title=n.title),f.tagName==="IMG"&&(f.alt=n.alt||"")),Ae(f,s),n.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ne(f,"focus",this._panOnFocus,this);var x=n.icon.createShadow(this._shadow),I=!1;x!==this._shadow&&(this._removeShadow(),I=!0),x&&(Ae(x,s),x.alt=""),this._shadow=x,n.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&I&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&We(this._icon,"focus",this._panOnFocus,this),$e(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&$e(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&rt(this._icon,n),this._shadow&&rt(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Ae(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),os)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new os(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&wt(this._icon,n),this._shadow&&wt(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var s=this.options.icon.options,f=s.iconSize?O(s.iconSize):O(0,0),g=s.iconAnchor?O(s.iconAnchor):O(0,0);n.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:f.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function zl(n,s){return new vn(n,s)}var Mn=Kt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return B(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Qo=Mn.extend({options:{fill:!0,radius:10},initialize:function(n,s){B(this,s),this._latlng=ce(n),this._radius=this.options.radius},setLatLng:function(n){var s=this._latlng;return this._latlng=ce(n),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var s=n&&n.radius||this._radius;return Mn.prototype.setStyle.call(this,n),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,s=this._radiusY||n,f=this._clickTolerance(),g=[n+f,s+f];this._pxBounds=new D(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ha(n,s){return new Qo(n,s)}var Xo=Qo.extend({initialize:function(n,s,f){if(typeof s=="number"&&(s=u({},f,{radius:s})),B(this,s),this._latlng=ce(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new Ce(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Mn.prototype.setStyle,_project:function(){var n=this._latlng.lng,s=this._latlng.lat,f=this._map,g=f.options.crs;if(g.distance===Ue.distance){var x=Math.PI/180,I=this._mRadius/Ue.R/x,A=f.project([s+I,n]),z=f.project([s-I,n]),b=A.add(z).divideBy(2),K=f.unproject(b).lat,re=Math.acos((Math.cos(I*x)-Math.sin(s*x)*Math.sin(K*x))/(Math.cos(s*x)*Math.cos(K*x)))/x;(isNaN(re)||re===0)&&(re=I/Math.cos(Math.PI/180*s)),this._point=b.subtract(f.getPixelOrigin()),this._radius=isNaN(re)?0:b.x-f.project([K,n-re]).x,this._radiusY=b.y-A.y}else{var xe=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(xe).x}this._updateBounds()}});function ho(n,s,f){return new Xo(n,s,f)}var At=Mn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,s){B(this,s),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var s=1/0,f=null,g=Kn,x,I,A=0,z=this._parts.length;A<z;A++)for(var b=this._parts[A],K=1,re=b.length;K<re;K++){x=b[K-1],I=b[K];var xe=g(n,x,I,!0);xe<s&&(s=xe,f=g(n,x,I))}return f&&(f.distance=Math.sqrt(s)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return la(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,s){return s=s||this._defaultShape(),n=ce(n),s.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new Ce,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return Ut(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var s=[],f=Ut(n),g=0,x=n.length;g<x;g++)f?(s[g]=ce(n[g]),this._bounds.extend(s[g])):s[g]=this._convertLatLngs(n[g]);return s},_project:function(){var n=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),s=new U(n,n);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(n,s,f){var g=n[0]instanceof ve,x=n.length,I,A;if(g){for(A=[],I=0;I<x;I++)A[I]=this._map.latLngToLayerPoint(n[I]),f.extend(A[I]);s.push(A)}else for(I=0;I<x;I++)this._projectLatlngs(n[I],s,f)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,f,g,x,I,A,z,b;for(f=0,x=0,I=this._rings.length;f<I;f++)for(b=this._rings[f],g=0,A=b.length;g<A-1;g++)z=sa(b[g],b[g+1],n,g,!0),z&&(s[x]=s[x]||[],s[x].push(z[0]),(z[1]!==b[g+1]||g===A-2)&&(s[x].push(z[1]),x++))}},_simplifyPoints:function(){for(var n=this._parts,s=this.options.smoothFactor,f=0,g=n.length;f<g;f++)n[f]=Yo(n[f],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,s){var f,g,x,I,A,z,b=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(f=0,I=this._parts.length;f<I;f++)for(z=this._parts[f],g=0,A=z.length,x=A-1;g<A;x=g++)if(!(!s&&g===0)&&ra(n,z[x],z[g])<=b)return!0;return!1}});function Vl(n,s){return new At(n,s)}At._flat=aa;var yn=At.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return oa(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var s=At.prototype._convertLatLngs.call(this,n),f=s.length;return f>=2&&s[0]instanceof ve&&s[0].equals(s[f-1])&&s.pop(),s},_setLatLngs:function(n){At.prototype._setLatLngs.call(this,n),Ut(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ut(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,s=this.options.weight,f=new U(s,s);if(n=new D(n.min.subtract(f),n.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,x=this._rings.length,I;g<x;g++)I=Xr(this._rings[g],n,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var s=!1,f,g,x,I,A,z,b,K;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(I=0,b=this._parts.length;I<b;I++)for(f=this._parts[I],A=0,K=f.length,z=K-1;A<K;z=A++)g=f[A],x=f[z],g.y>n.y!=x.y>n.y&&n.x<(x.x-g.x)*(n.y-g.y)/(x.y-g.y)+g.x&&(s=!s);return s||At.prototype._containsPoint.call(this,n,!0)}});function Hl(n,s){return new yn(n,s)}var nn=_n.extend({initialize:function(n,s){B(this,s),this._layers={},n&&this.addData(n)},addData:function(n){var s=j(n)?n:n.features,f,g,x;if(s){for(f=0,g=s.length;f<g;f++)x=s[f],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var I=this.options;if(I.filter&&!I.filter(n))return this;var A=Ii(n,I);return A?(A.feature=ir(n),A.defaultOptions=A.options,this.resetStyle(A),I.onEachFeature&&I.onEachFeature(n,A),this.addLayer(A)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=u({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(s){this._setLayerStyle(s,n)},this)},_setLayerStyle:function(n,s){n.setStyle&&(typeof s=="function"&&(s=s(n.feature)),n.setStyle(s))}});function Ii(n,s){var f=n.type==="Feature"?n.geometry:n,g=f?f.coordinates:null,x=[],I=s&&s.pointToLayer,A=s&&s.coordsToLatLng||er,z,b,K,re;if(!g&&!f)return null;switch(f.type){case"Point":return z=A(g),jo(I,n,z,s);case"MultiPoint":for(K=0,re=g.length;K<re;K++)z=A(g[K]),x.push(jo(I,n,z,s));return new _n(x);case"LineString":case"MultiLineString":return b=po(g,f.type==="LineString"?0:1,A),new At(b,s);case"Polygon":case"MultiPolygon":return b=po(g,f.type==="Polygon"?1:2,A),new yn(b,s);case"GeometryCollection":for(K=0,re=f.geometries.length;K<re;K++){var xe=Ii({geometry:f.geometries[K],type:"Feature",properties:n.properties},s);xe&&x.push(xe)}return new _n(x);case"FeatureCollection":for(K=0,re=f.features.length;K<re;K++){var De=Ii(f.features[K],s);De&&x.push(De)}return new _n(x);default:throw new Error("Invalid GeoJSON object.")}}function jo(n,s,f,g){return n?n(s,f):new vn(f,g&&g.markersInheritOptions&&g)}function er(n){return new ve(n[1],n[0],n[2])}function po(n,s,f){for(var g=[],x=0,I=n.length,A;x<I;x++)A=s?po(n[x],s-1,f):(f||er)(n[x]),g.push(A);return g}function tr(n,s){return n=ce(n),n.alt!==void 0?[N(n.lng,s),N(n.lat,s),N(n.alt,s)]:[N(n.lng,s),N(n.lat,s)]}function nr(n,s,f,g){for(var x=[],I=0,A=n.length;I<A;I++)x.push(s?nr(n[I],Ut(n[I])?0:s-1,f,g):tr(n[I],g));return!s&&f&&x.length>0&&x.push(x[0].slice()),x}function Ni(n,s){return n.feature?u({},n.feature,{geometry:s}):ir(s)}function ir(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var rs={toGeoJSON:function(n){return Ni(this,{type:"Point",coordinates:tr(this.getLatLng(),n)})}};vn.include(rs),Xo.include(rs),Qo.include(rs),At.include({toGeoJSON:function(n){var s=!Ut(this._latlngs),f=nr(this._latlngs,s?1:0,!1,n);return Ni(this,{type:(s?"Multi":"")+"LineString",coordinates:f})}}),yn.include({toGeoJSON:function(n){var s=!Ut(this._latlngs),f=s&&!Ut(this._latlngs[0]),g=nr(this._latlngs,f?2:s?1:0,!0,n);return s||(g=[g]),Ni(this,{type:(f?"Multi":"")+"Polygon",coordinates:g})}}),An.include({toMultiPoint:function(n){var s=[];return this.eachLayer(function(f){s.push(f.toGeoJSON(n).geometry.coordinates)}),Ni(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(n){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(n);var f=s==="GeometryCollection",g=[];return this.eachLayer(function(x){if(x.toGeoJSON){var I=x.toGeoJSON(n);if(f)g.push(I.geometry);else{var A=ir(I);A.type==="FeatureCollection"?g.push.apply(g,A.features):g.push(A)}}}),f?Ni(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function pa(n,s){return new nn(n,s)}var Yt=pa,Rn=Kt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,s,f){this._url=n,this._bounds=we(s),B(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ae(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){$e(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&vi(this._image),this},bringToBack:function(){return this._map&&pn(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=we(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",s=this._image=n?this._url:Me("img");if(Ae(s,"leaflet-image-layer"),this._zoomAnimated&&Ae(s,"leaflet-zoom-animated"),this.options.className&&Ae(s,this.options.className),s.onselectstart=S,s.onmousemove=S,s.onload=m(this.fire,this,"load"),s.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(n){var s=this._map.getZoomScale(n.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Ot(this._image,f,s)},_reset:function(){var n=this._image,s=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=s.getSize();rt(n,s.min),n.style.width=f.x+"px",n.style.height=f.y+"px"},_updateOpacity:function(){wt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),ma=function(n,s,f){return new Rn(n,s,f)},ss=Rn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",s=this._image=n?this._url:Me("video");if(Ae(s,"leaflet-image-layer"),this._zoomAnimated&&Ae(s,"leaflet-zoom-animated"),this.options.className&&Ae(s,this.options.className),s.onselectstart=S,s.onmousemove=S,s.onloadeddata=m(this.fire,this,"load"),n){for(var f=s.getElementsByTagName("source"),g=[],x=0;x<f.length;x++)g.push(f[x].src);this._url=f.length>0?g:[s.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var A=Me("source");A.src=this._url[I],s.appendChild(A)}}});function ga(n,s,f){return new ss(n,s,f)}var as=Rn.extend({_initImage:function(){var n=this._image=this._url;Ae(n,"leaflet-image-layer"),this._zoomAnimated&&Ae(n,"leaflet-zoom-animated"),this.options.className&&Ae(n,this.options.className),n.onselectstart=S,n.onmousemove=S}});function ls(n,s,f){return new as(n,s,f)}var on=Kt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,s){n&&(n instanceof ve||j(n))?(this._latlng=ce(n),B(this,s)):(B(this,n),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&wt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&wt(this._container,1),this.bringToFront(),this.options.interactive&&(Ae(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(wt(this._container,0),this._removeTimeout=setTimeout(m($e,void 0,this._container),200)):$e(this._container),this.options.interactive&&(Ke(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=ce(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&vi(this._container),this},bringToBack:function(){return this._map&&pn(this._container),this},_prepareOpen:function(n){var s=this._source;if(!s._map)return!1;if(s instanceof _n){s=null;var f=this._source._layers;for(var g in f)if(f[g]._map){s=f[g];break}if(!s)return!1;this._source=s}if(!n)if(s.getCenter)n=s.getCenter();else if(s.getLatLng)n=s.getLatLng();else if(s.getBounds)n=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")n.innerHTML=s;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),s=O(this.options.offset),f=this._getAnchor();this._zoomAnimated?rt(this._container,n.add(f)):s=s.add(n).add(f);var g=this._containerBottom=-s.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=g+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});ze.include({_initOverlay:function(n,s,f,g){var x=s;return x instanceof n||(x=new n(g).setContent(s)),f&&x.setLatLng(f),x}}),Kt.include({_initOverlay:function(n,s,f,g){var x=f;return x instanceof n?(B(x,g),x._source=this):(x=s&&!g?s:new n(g,this),x.setContent(f)),x}});var or=on.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,on.prototype.openOn.call(this,n)},onAdd:function(n){on.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Mn||this._source.on("preclick",tn))},onRemove:function(n){on.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Mn||this._source.off("preclick",tn))},getEvents:function(){var n=on.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",s=this._container=Me("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=Me("div",n+"-content-wrapper",s);if(this._contentNode=Me("div",n+"-content",f),lo(s),Wo(this._contentNode),Ne(s,"contextmenu",tn),this._tipContainer=Me("div",n+"-tip-container",s),this._tip=Me("div",n+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=Me("a",n+"-close-button",s);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',Ne(g,"click",function(x){nt(x),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,s=n.style;s.width="",s.whiteSpace="nowrap";var f=n.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),s.width=f+1+"px",s.whiteSpace="",s.height="";var g=n.offsetHeight,x=this.options.maxHeight,I="leaflet-popup-scrolled";x&&g>x?(s.height=x+"px",Ae(n,I)):Ke(n,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),f=this._getAnchor();rt(this._container,s.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,s=parseInt(oo(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+s,g=this._containerWidth,x=new U(this._containerLeft,-f-this._containerBottom);x._add(mn(this._container));var I=n.layerPointToContainerPoint(x),A=O(this.options.autoPanPadding),z=O(this.options.autoPanPaddingTopLeft||A),b=O(this.options.autoPanPaddingBottomRight||A),K=n.getSize(),re=0,xe=0;I.x+g+b.x>K.x&&(re=I.x+g-K.x+b.x),I.x-re-z.x<0&&(re=I.x-z.x),I.y+f+b.y>K.y&&(xe=I.y+f-K.y+b.y),I.y-xe-z.y<0&&(xe=I.y-z.y),(re||xe)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([re,xe]))}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ki=function(n,s){return new or(n,s)};ze.mergeOptions({closePopupOnClick:!0}),ze.include({openPopup:function(n,s,f){return this._initOverlay(or,n,s,f).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Kt.include({bindPopup:function(n,s){return this._popup=this._initOverlay(or,this._popup,n,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof _n||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){Zt(n);var s=n.layer||n.target;if(this._popup._source===s&&!(s instanceof Mn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=s,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Ai=on.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){on.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){on.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=on.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",s=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Me("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var s,f,g=this._map,x=this._container,I=g.latLngToContainerPoint(g.getCenter()),A=g.layerPointToContainerPoint(n),z=this.options.direction,b=x.offsetWidth,K=x.offsetHeight,re=O(this.options.offset),xe=this._getAnchor();z==="top"?(s=b/2,f=K):z==="bottom"?(s=b/2,f=0):z==="center"?(s=b/2,f=K/2):z==="right"?(s=0,f=K/2):z==="left"?(s=b,f=K/2):A.x<I.x?(z="right",s=0,f=K/2):(z="left",s=b+(re.x+xe.x)*2,f=K/2),n=n.subtract(O(s,f,!0)).add(re).add(xe),Ke(x,"leaflet-tooltip-right"),Ke(x,"leaflet-tooltip-left"),Ke(x,"leaflet-tooltip-top"),Ke(x,"leaflet-tooltip-bottom"),Ae(x,"leaflet-tooltip-"+z),rt(x,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&wt(this._container,n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(s)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),mo=function(n,s){return new Ai(n,s)};ze.include({openTooltip:function(n,s,f){return this._initOverlay(Ai,n,s,f).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Kt.include({bindTooltip:function(n,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ai,this._tooltip,n,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var s=n?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[s](f),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof _n||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&(Ne(s,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),Ne(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var s=n.latlng,f,g;this._tooltip.options.sticky&&n.originalEvent&&(f=this._map.mouseEventToContainerPoint(n.originalEvent),g=this._map.containerPointToLayerPoint(f),s=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(s)}});var rr=Yn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var s=n&&n.tagName==="DIV"?n:document.createElement("div"),f=this.options;if(f.html instanceof Element?(Vo(s),s.appendChild(f.html)):s.innerHTML=f.html!==!1?f.html:"",f.bgPos){var g=O(f.bgPos);s.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function _a(n){return new rr(n)}Yn.Default=Pi;var Ln=Kt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ye.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){B(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),$e(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(vi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(pn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof U?n:new U(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var s=this.getPane().children,f=-n(-1/0,1/0),g=0,x=s.length,I;g<x;g++)I=s[g].style.zIndex,s[g]!==this._container&&I&&(f=n(f,+I));isFinite(f)&&(this.options.zIndex=f+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ye.ielt9){wt(this._container,this.options.opacity);var n=+new Date,s=!1,f=!1;for(var g in this._tiles){var x=this._tiles[g];if(!(!x.current||!x.loaded)){var I=Math.min(1,(n-x.loaded)/200);wt(x.el,I),I<1?s=!0:(x.active?f=!0:this._onOpaqueTile(x),x.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),s&&(Q(this._fadeFrame),this._fadeFrame=Ie(this._updateOpacity,this))}},_onOpaqueTile:S,_initContainer:function(){this._container||(this._container=Me("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,s=this.options.maxZoom;if(n!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===n?(this._levels[f].el.style.zIndex=s-Math.abs(n-f),this._onUpdateLevel(f)):($e(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var g=this._levels[n],x=this._map;return g||(g=this._levels[n]={},g.el=Me("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=s,g.origin=x.project(x.unproject(x.getPixelOrigin()),n).round(),g.zoom=n,this._setZoomTransform(g,x.getCenter(),x.getZoom()),S(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:S,_onRemoveLevel:S,_onCreateLevel:S,_pruneTiles:function(){if(this._map){var n,s,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)s=this._tiles[n],s.retain=s.current;for(n in this._tiles)if(s=this._tiles[n],s.current&&!s.active){var g=s.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var s in this._tiles)this._tiles[s].coords.z===n&&this._removeTile(s)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)$e(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,s,f,g){var x=Math.floor(n/2),I=Math.floor(s/2),A=f-1,z=new U(+x,+I);z.z=+A;var b=this._tileCoordsToKey(z),K=this._tiles[b];return K&&K.active?(K.retain=!0,!0):(K&&K.loaded&&(K.retain=!0),A>g?this._retainParent(x,I,A,g):!1)},_retainChildren:function(n,s,f,g){for(var x=2*n;x<2*n+2;x++)for(var I=2*s;I<2*s+2;I++){var A=new U(x,I);A.z=f+1;var z=this._tileCoordsToKey(A),b=this._tiles[z];if(b&&b.active){b.retain=!0;continue}else b&&b.loaded&&(b.retain=!0);f+1<g&&this._retainChildren(x,I,f+1,g)}},_resetView:function(n){var s=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var s=this.options;return s.minNativeZoom!==void 0&&n<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<n?s.maxNativeZoom:n},_setView:function(n,s,f,g){var x=Math.round(s);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var I=this.options.updateWhenZooming&&x!==this._tileZoom;(!g||I)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(n),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(n,s)},_setZoomTransforms:function(n,s){for(var f in this._levels)this._setZoomTransform(this._levels[f],n,s)},_setZoomTransform:function(n,s,f){var g=this._map.getZoomScale(f,n.zoom),x=n.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(s,f)).round();ye.any3d?Ot(n.el,x,g):rt(n.el,x)},_resetGrid:function(){var n=this._map,s=n.options.crs,f=this._tileSize=this.getTileSize(),g=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,s.wrapLng[0]],g).x/f.x),Math.ceil(n.project([0,s.wrapLng[1]],g).x/f.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([s.wrapLat[0],0],g).y/f.x),Math.ceil(n.project([s.wrapLat[1],0],g).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var s=this._map,f=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),g=s.getZoomScale(f,this._tileZoom),x=s.project(n,this._tileZoom).floor(),I=s.getSize().divideBy(g*2);return new D(x.subtract(I),x.add(I))},_update:function(n){var s=this._map;if(s){var f=this._clampZoom(s.getZoom());if(n===void 0&&(n=s.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(n),x=this._pxBoundsToTileRange(g),I=x.getCenter(),A=[],z=this.options.keepBuffer,b=new D(x.getBottomLeft().subtract([z,-z]),x.getTopRight().add([z,-z]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var K in this._tiles){var re=this._tiles[K].coords;(re.z!==this._tileZoom||!b.contains(new U(re.x,re.y)))&&(this._tiles[K].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(n,f);return}for(var xe=x.min.y;xe<=x.max.y;xe++)for(var De=x.min.x;De<=x.max.x;De++){var dt=new U(De,xe);if(dt.z=this._tileZoom,!!this._isValidTile(dt)){var lt=this._tiles[this._tileCoordsToKey(dt)];lt?lt.current=!0:A.push(dt)}}if(A.sort(function(xt,Fi){return xt.distanceTo(I)-Fi.distanceTo(I)}),A.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Mt=document.createDocumentFragment();for(De=0;De<A.length;De++)this._addTile(A[De],Mt);this._level.el.appendChild(Mt)}}}},_isValidTile:function(n){var s=this._map.options.crs;if(!s.infinite){var f=this._globalTileRange;if(!s.wrapLng&&(n.x<f.min.x||n.x>f.max.x)||!s.wrapLat&&(n.y<f.min.y||n.y>f.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(n);return we(this.options.bounds).overlaps(g)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var s=this._map,f=this.getTileSize(),g=n.scaleBy(f),x=g.add(f),I=s.unproject(g,n.z),A=s.unproject(x,n.z);return[I,A]},_tileCoordsToBounds:function(n){var s=this._tileCoordsToNwSe(n),f=new Ce(s[0],s[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var s=n.split(":"),f=new U(+s[0],+s[1]);return f.z=+s[2],f},_removeTile:function(n){var s=this._tiles[n];s&&($e(s.el),delete this._tiles[n],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){Ae(n,"leaflet-tile");var s=this.getTileSize();n.style.width=s.x+"px",n.style.height=s.y+"px",n.onselectstart=S,n.onmousemove=S,ye.ielt9&&this.options.opacity<1&&wt(n,this.options.opacity)},_addTile:function(n,s){var f=this._getTilePos(n),g=this._tileCoordsToKey(n),x=this.createTile(this._wrapCoords(n),m(this._tileReady,this,n));this._initTile(x),this.createTile.length<2&&Ie(m(this._tileReady,this,n,null,x)),rt(x,f),this._tiles[g]={el:x,coords:n,current:!0},s.appendChild(x),this.fire("tileloadstart",{tile:x,coords:n})},_tileReady:function(n,s,f){s&&this.fire("tileerror",{error:s,tile:f,coords:n});var g=this._tileCoordsToKey(n);f=this._tiles[g],f&&(f.loaded=+new Date,this._map._fadeAnimated?(wt(f.el,0),Q(this._fadeFrame),this._fadeFrame=Ie(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),s||(Ae(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ye.ielt9||!this._map._fadeAnimated?Ie(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var s=new U(this._wrapX?C(n.x,this._wrapX):n.x,this._wrapY?C(n.y,this._wrapY):n.y);return s.z=n.z,s},_pxBoundsToTileRange:function(n){var s=this.getTileSize();return new D(n.min.unscaleBy(s).floor(),n.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Mi(n){return new Ln(n)}var Dn=Ln.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,s){this._url=n,s=B(this,s),s.detectRetina&&ye.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,s){return this._url===n&&s===void 0&&(s=!0),this._url=n,s||this.redraw(),this},createTile:function(n,s){var f=document.createElement("img");return Ne(f,"load",m(this._tileOnLoad,this,s,f)),Ne(f,"error",m(this._tileOnError,this,s,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(n),f},getTileUrl:function(n){var s={r:ye.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-n.y;this.options.tms&&(s.y=f),s["-y"]=f}return te(this._url,u(s,this.options))},_tileOnLoad:function(n,s){ye.ielt9?setTimeout(m(n,this,null,s),0):n(null,s)},_tileOnError:function(n,s,f){var g=this.options.errorTileUrl;g&&s.getAttribute("src")!==g&&(s.src=g),n(f,s)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,s=this.options.maxZoom,f=this.options.zoomReverse,g=this.options.zoomOffset;return f&&(n=s-n),n+g},_getSubdomain:function(n){var s=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var n,s;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(s=this._tiles[n].el,s.onload=S,s.onerror=S,!s.complete)){s.src=pe;var f=this._tiles[n].coords;$e(s),delete this._tiles[n],this.fire("tileabort",{tile:s,coords:f})}},_removeTile:function(n){var s=this._tiles[n];if(s)return s.el.setAttribute("src",pe),Ln.prototype._removeTile.call(this,n)},_tileReady:function(n,s,f){if(!(!this._map||f&&f.getAttribute("src")===pe))return Ln.prototype._tileReady.call(this,n,s,f)}});function us(n,s){return new Dn(n,s)}var go=Dn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,s){this._url=n;var f=u({},this.defaultWmsParams);for(var g in s)g in this.options||(f[g]=s[g]);s=B(this,s);var x=s.detectRetina&&ye.retina?2:1,I=this.getTileSize();f.width=I.x*x,f.height=I.y*x,this.wmsParams=f},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Dn.prototype.onAdd.call(this,n)},getTileUrl:function(n){var s=this._tileCoordsToNwSe(n),f=this._crs,g=W(f.project(s[0]),f.project(s[1])),x=g.min,I=g.max,A=(this._wmsVersion>=1.3&&this._crs===ca?[x.y,x.x,I.y,I.x]:[x.x,x.y,I.x,I.y]).join(","),z=Dn.prototype.getTileUrl.call(this,n);return z+J(this.wmsParams,z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+A},setParams:function(n,s){return u(this.wmsParams,n),s||this.redraw(),this}});function va(n,s){return new go(n,s)}Dn.WMS=go,us.wms=va;var rn=Kt.extend({options:{padding:.1},initialize:function(n){B(this,n),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ae(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,s){var f=this._map.getZoomScale(s,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,s),I=g.multiplyBy(-f).add(x).subtract(this._map._getNewPixelOrigin(n,s));ye.any3d?Ot(this._container,I,f):rt(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,s=this._map.getSize(),f=this._map.containerPointToLayerPoint(s.multiplyBy(-n)).round();this._bounds=new D(f,f.add(s.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),cs=rn.extend({options:{tolerance:0},getEvents:function(){var n=rn.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){rn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");Ne(n,"mousemove",this._onMouseMove,this),Ne(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ne(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){Q(this._redrawRequest),delete this._ctx,$e(this._container),We(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var s in this._layers)n=this._layers[s],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rn.prototype._update.call(this);var n=this._bounds,s=this._container,f=n.getSize(),g=ye.retina?2:1;rt(s,n.min),s.width=g*f.x,s.height=g*f.y,s.style.width=f.x+"px",s.style.height=f.y+"px",ye.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){rn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[y(n)]=n;var s=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var s=n._order,f=s.next,g=s.prev;f?f.prev=g:this._drawLast=g,g?g.next=f:this._drawFirst=f,delete n._order,delete this._layers[y(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var s=n.options.dashArray.split(/[, ]+/),f=[],g,x;for(x=0;x<s.length;x++){if(g=Number(s[x]),isNaN(g))return;f.push(g)}n.options._dashArray=f}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||Ie(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var s=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(n._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(n._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var s=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,s=this._redrawBounds;if(this._ctx.save(),s){var f=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)n=g.layer,(!s||n._pxBounds&&n._pxBounds.intersects(s))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,s){if(this._drawing){var f,g,x,I,A=n._parts,z=A.length,b=this._ctx;if(z){for(b.beginPath(),f=0;f<z;f++){for(g=0,x=A[f].length;g<x;g++)I=A[f][g],b[g?"lineTo":"moveTo"](I.x,I.y);s&&b.closePath()}this._fillStroke(b,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var s=n._point,f=this._ctx,g=Math.max(Math.round(n._radius),1),x=(Math.max(Math.round(n._radiusY),1)||g)/g;x!==1&&(f.save(),f.scale(1,x)),f.beginPath(),f.arc(s.x,s.y/x,g,0,Math.PI*2,!1),x!==1&&f.restore(),this._fillStroke(f,n)}},_fillStroke:function(n,s){var f=s.options;f.fill&&(n.globalAlpha=f.fillOpacity,n.fillStyle=f.fillColor||f.color,n.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(n.setLineDash&&n.setLineDash(s.options&&s.options._dashArray||[]),n.globalAlpha=f.opacity,n.lineWidth=f.weight,n.strokeStyle=f.color,n.lineCap=f.lineCap,n.lineJoin=f.lineJoin,n.stroke())},_onClick:function(n){for(var s=this._map.mouseEventToLayerPoint(n),f,g,x=this._drawFirst;x;x=x.next)f=x.layer,f.options.interactive&&f._containsPoint(s)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(f))&&(g=f);this._fireEvent(g?[g]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,s)}},_handleMouseOut:function(n){var s=this._hoveredLayer;s&&(Ke(this._container,"leaflet-interactive"),this._fireEvent([s],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,s){if(!this._mouseHoverThrottled){for(var f,g,x=this._drawFirst;x;x=x.next)f=x.layer,f.options.interactive&&f._containsPoint(s)&&(g=f);g!==this._hoveredLayer&&(this._handleMouseOut(n),g&&(Ae(this._container,"leaflet-interactive"),this._fireEvent([g],n,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,s,f){this._map._fireDOMEvent(s,f||s.type,n)},_bringToFront:function(n){var s=n._order;if(s){var f=s.next,g=s.prev;if(f)f.prev=g;else return;g?g.next=f:f&&(this._drawFirst=f),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(n)}},_bringToBack:function(n){var s=n._order;if(s){var f=s.next,g=s.prev;if(g)g.next=f;else return;f?f.prev=g:g&&(this._drawLast=g),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(n)}}});function ds(n){return ye.canvas?new cs(n):null}var Ri=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ya={_initContainer:function(){this._container=Me("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(rn.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var s=n._container=Ri("shape");Ae(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",n._path=Ri("path"),s.appendChild(n._path),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){var s=n._container;this._container.appendChild(s),n.options.interactive&&n.addInteractiveTarget(s)},_removePath:function(n){var s=n._container;$e(s),n.removeInteractiveTarget(s),delete this._layers[y(n)]},_updateStyle:function(n){var s=n._stroke,f=n._fill,g=n.options,x=n._container;x.stroked=!!g.stroke,x.filled=!!g.fill,g.stroke?(s||(s=n._stroke=Ri("stroke")),x.appendChild(s),s.weight=g.weight+"px",s.color=g.color,s.opacity=g.opacity,g.dashArray?s.dashStyle=j(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=g.lineCap.replace("butt","flat"),s.joinstyle=g.lineJoin):s&&(x.removeChild(s),n._stroke=null),g.fill?(f||(f=n._fill=Ri("fill")),x.appendChild(f),f.color=g.fillColor||g.color,f.opacity=g.fillOpacity):f&&(x.removeChild(f),n._fill=null)},_updateCircle:function(n){var s=n._point.round(),f=Math.round(n._radius),g=Math.round(n._radiusY||f);this._setPath(n,n._empty()?"M0 0":"AL "+s.x+","+s.y+" "+f+","+g+" 0,"+65535*360)},_setPath:function(n,s){n._path.v=s},_bringToFront:function(n){vi(n._container)},_bringToBack:function(n){pn(n._container)}},$t=ye.vml?Ri:Mr,$n=rn.extend({_initContainer:function(){this._container=$t("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=$t("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){$e(this._container),We(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rn.prototype._update.call(this);var n=this._bounds,s=n.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,f.setAttribute("width",s.x),f.setAttribute("height",s.y)),rt(f,n.min),f.setAttribute("viewBox",[n.min.x,n.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(n){var s=n._path=$t("path");n.options.className&&Ae(s,n.options.className),n.options.interactive&&Ae(s,"leaflet-interactive"),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){$e(n._path),n.removeInteractiveTarget(n._path),delete this._layers[y(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var s=n._path,f=n.options;s&&(f.stroke?(s.setAttribute("stroke",f.color),s.setAttribute("stroke-opacity",f.opacity),s.setAttribute("stroke-width",f.weight),s.setAttribute("stroke-linecap",f.lineCap),s.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?s.setAttribute("stroke-dasharray",f.dashArray):s.removeAttribute("stroke-dasharray"),f.dashOffset?s.setAttribute("stroke-dashoffset",f.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),f.fill?(s.setAttribute("fill",f.fillColor||f.color),s.setAttribute("fill-opacity",f.fillOpacity),s.setAttribute("fill-rule",f.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(n,s){this._setPath(n,Rr(n._parts,s))},_updateCircle:function(n){var s=n._point,f=Math.max(Math.round(n._radius),1),g=Math.max(Math.round(n._radiusY),1)||f,x="a"+f+","+g+" 0 1,0 ",I=n._empty()?"M0 0":"M"+(s.x-f)+","+s.y+x+f*2+",0 "+x+-f*2+",0 ";this._setPath(n,I)},_setPath:function(n,s){n._path.setAttribute("d",s)},_bringToFront:function(n){vi(n._path)},_bringToBack:function(n){pn(n._path)}});ye.vml&&$n.include(ya);function sr(n){return ye.svg||ye.vml?new $n(n):null}ze.include({getRenderer:function(n){var s=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var s=this._paneRenderers[n];return s===void 0&&(s=this._createRenderer({pane:n}),this._paneRenderers[n]=s),s},_createRenderer:function(n){return this.options.preferCanvas&&ds(n)||sr(n)}});var Ta=yn.extend({initialize:function(n,s){yn.prototype.initialize.call(this,this._boundsToLatLngs(n),s)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=we(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function bl(n,s){return new Ta(n,s)}$n.create=$t,$n.pointsToPath=Rr,nn.geometryToLayer=Ii,nn.coordsToLatLng=er,nn.coordsToLatLngs=po,nn.latLngToCoords=tr,nn.latLngsToCoords=nr,nn.getFeature=Ni,nn.asFeature=ir,ze.mergeOptions({boxZoom:!0});var Li=Ft.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){Ne(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){We(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){$e(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),He(),Go(),this._startPoint=this._map.mouseEventToContainerPoint(n),Ne(document,{contextmenu:Zt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Me("div","leaflet-zoom-box",this._container),Ae(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var s=new D(this._point,this._startPoint),f=s.getSize();rt(this._box,s.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&($e(this._box),Ke(this._container,"leaflet-crosshair")),wi(),qo(),We(document,{contextmenu:Zt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var s=new Ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ze.addInitHook("addHandler","boxZoom",Li),ze.mergeOptions({doubleClickZoom:!0});var wa=Ft.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var s=this._map,f=s.getZoom(),g=s.options.zoomDelta,x=n.originalEvent.shiftKey?f-g:f+g;s.options.doubleClickZoom==="center"?s.setZoom(x):s.setZoomAround(n.containerPoint,x)}});ze.addInitHook("addHandler","doubleClickZoom",wa),ze.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var fs=Ft.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Jt(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}Ae(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ke(this._map._container,"leaflet-grab"),Ke(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=we(this._map.options.maxBounds);this._offsetLimit=W(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var s=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(s),this._prunePositions(s)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,s){return n-(n-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;n.x<s.min.x&&(n.x=this._viscousLimit(n.x,s.min.x)),n.y<s.min.y&&(n.y=this._viscousLimit(n.y,s.min.y)),n.x>s.max.x&&(n.x=this._viscousLimit(n.x,s.max.x)),n.y>s.max.y&&(n.y=this._viscousLimit(n.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,s=Math.round(n/2),f=this._initialWorldOffset,g=this._draggable._newPos.x,x=(g-s+f)%n+s-f,I=(g+s+f)%n-s-f,A=Math.abs(x+f)<Math.abs(I+f)?x:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=A},_onDragEnd:function(n){var s=this._map,f=s.options,g=!f.inertia||n.noInertia||this._times.length<2;if(s.fire("dragend",n),g)s.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,A=f.easeLinearity,z=x.multiplyBy(A/I),b=z.distanceTo([0,0]),K=Math.min(f.inertiaMaxSpeed,b),re=z.multiplyBy(K/b),xe=K/(f.inertiaDeceleration*A),De=re.multiplyBy(-xe/2).round();!De.x&&!De.y?s.fire("moveend"):(De=s._limitOffset(De,s.options.maxBounds),Ie(function(){s.panBy(De,{duration:xe,easeLinearity:A,noMoveStart:!0,animate:!0})}))}}});ze.addInitHook("addHandler","dragging",fs),ze.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hs=Ft.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),Ne(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),We(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,s=document.documentElement,f=n.scrollTop||s.scrollTop,g=n.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(g,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var s=this._panKeys={},f=this.keyCodes,g,x;for(g=0,x=f.left.length;g<x;g++)s[f.left[g]]=[-1*n,0];for(g=0,x=f.right.length;g<x;g++)s[f.right[g]]=[n,0];for(g=0,x=f.down.length;g<x;g++)s[f.down[g]]=[0,n];for(g=0,x=f.up.length;g<x;g++)s[f.up[g]]=[0,-1*n]},_setZoomDelta:function(n){var s=this._zoomKeys={},f=this.keyCodes,g,x;for(g=0,x=f.zoomIn.length;g<x;g++)s[f.zoomIn[g]]=n;for(g=0,x=f.zoomOut.length;g<x;g++)s[f.zoomOut[g]]=-n},_addHooks:function(){Ne(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){We(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var s=n.keyCode,f=this._map,g;if(s in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(g=this._panKeys[s],n.shiftKey&&(g=O(g).multiplyBy(3)),f.options.maxBounds&&(g=f._limitOffset(O(g),f.options.maxBounds)),f.options.worldCopyJump){var x=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(g)));f.panTo(x)}else f.panBy(g)}else if(s in this._zoomKeys)f.setZoom(f.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;Zt(n)}}});ze.addInitHook("addHandler","keyboard",hs),ze.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ze=Ft.extend({addHooks:function(){Ne(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){We(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var s=na(n),f=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var g=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),g),Zt(n)},_performZoom:function(){var n=this._map,s=n.getZoom(),f=this._map.options.zoomSnap||0;n._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,I=f?Math.ceil(x/f)*f:x,A=n._limitZoom(s+(this._delta>0?I:-I))-s;this._delta=0,this._startTime=null,A&&(n.options.scrollWheelZoom==="center"?n.setZoom(s+A):n.setZoomAround(this._lastMousePos,s+A))}});ze.addInitHook("addHandler","scrollWheelZoom",Ze);var ps=600;ze.mergeOptions({tapHold:ye.touchNative&&ye.safari&&ye.mobile,tapTolerance:15});var _o=Ft.extend({addHooks:function(){Ne(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){We(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var s=n.touches[0];this._startPos=this._newPos=new U(s.clientX,s.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Ne(document,"touchend",nt),Ne(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),ps),Ne(document,"touchend touchcancel contextmenu",this._cancel,this),Ne(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){We(document,"touchend",nt),We(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),We(document,"touchend touchcancel contextmenu",this._cancel,this),We(document,"touchmove",this._onMove,this)},_onMove:function(n){var s=n.touches[0];this._newPos=new U(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,s){var f=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});f._simulated=!0,s.target.dispatchEvent(f)}});ze.addInitHook("addHandler","tapHold",_o),ze.mergeOptions({touchZoom:ye.touch,bounceAtZoomLimits:!0});var Di=Ft.extend({addHooks:function(){Ae(this._map._container,"leaflet-touch-zoom"),Ne(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ke(this._map._container,"leaflet-touch-zoom"),We(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var s=this._map;if(!(!n.touches||n.touches.length!==2||s._animatingZoom||this._zooming)){var f=s.mouseEventToContainerPoint(n.touches[0]),g=s.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(f.add(g)._divideBy(2))),this._startDist=f.distanceTo(g),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),Ne(document,"touchmove",this._onTouchMove,this),Ne(document,"touchend touchcancel",this._onTouchEnd,this),nt(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var s=this._map,f=s.mouseEventToContainerPoint(n.touches[0]),g=s.mouseEventToContainerPoint(n.touches[1]),x=f.distanceTo(g)/this._startDist;if(this._zoom=s.getScaleZoom(x,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&x<1||this._zoom>s.getMaxZoom()&&x>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var I=f._add(g)._divideBy(2)._subtract(this._centerPoint);if(x===1&&I.x===0&&I.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),Q(this._animRequest);var A=m(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ie(A,this,!0),nt(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Q(this._animRequest),We(document,"touchmove",this._onTouchMove,this),We(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ze.addInitHook("addHandler","touchZoom",Di),ze.BoxZoom=Li,ze.DoubleClickZoom=wa,ze.Drag=fs,ze.Keyboard=hs,ze.ScrollWheelZoom=Ze,ze.TapHold=_o,ze.TouchZoom=Di,r.Bounds=D,r.Browser=ye,r.CRS=Ve,r.Canvas=cs,r.Circle=Xo,r.CircleMarker=Qo,r.Class=Fe,r.Control=kt,r.DivIcon=rr,r.DivOverlay=on,r.DomEvent=Zo,r.DomUtil=ao,r.Draggable=Jt,r.Evented=me,r.FeatureGroup=_n,r.GeoJSON=nn,r.GridLayer=Ln,r.Handler=Ft,r.Icon=Yn,r.ImageOverlay=Rn,r.LatLng=ve,r.LatLngBounds=Ce,r.Layer=Kt,r.LayerGroup=An,r.LineUtil=ua,r.Map=ze,r.Marker=vn,r.Mixin=Qr,r.Path=Mn,r.Point=U,r.PolyUtil=Al,r.Polygon=yn,r.Polyline=At,r.Popup=or,r.PosAnimation=Jo,r.Projection=Fl,r.Rectangle=Ta,r.Renderer=rn,r.SVG=$n,r.SVGOverlay=as,r.TileLayer=Dn,r.Tooltip=Ai,r.Transformation=di,r.Util=ue,r.VideoOverlay=ss,r.bind=m,r.bounds=W,r.canvas=ds,r.circle=ho,r.circleMarker=ha,r.control=kn,r.divIcon=_a,r.extend=u,r.featureGroup=da,r.geoJSON=pa,r.geoJson=Yt,r.gridLayer=Mi,r.icon=fa,r.imageOverlay=ma,r.latLng=ce,r.latLngBounds=we,r.layerGroup=fo,r.map=Nn,r.marker=zl,r.point=O,r.polygon=Hl,r.polyline=Vl,r.popup=ki,r.rectangle=bl,r.setOptions=B,r.stamp=y,r.svg=sr,r.svgOverlay=ls,r.tileLayer=us,r.tooltip=mo,r.transformation=fi,r.version=a,r.videoOverlay=ga;var Ca=window.L;r.noConflict=function(){return window.L=Ca,this},window.L=r}))})(Rs,Rs.exports)),Rs.exports}var Vs=qm();const zs=pc(Vs);function Tc(i,e,r){return Object.freeze({instance:i,context:e,container:r})}function wc(i,e){return e==null?function(a,u){const p=Z.useRef();return p.current||(p.current=i(a,u)),p}:function(a,u){const p=Z.useRef();p.current||(p.current=i(a,u));const m=Z.useRef(a),{instance:v}=p.current;return Z.useEffect(function(){m.current!==a&&(e(v,a,m.current),m.current=a)},[v,a,u]),p}}function Om(i,e){Z.useEffect(function(){return(e.layerContainer??e.map).addLayer(i.instance),function(){var p;(p=e.layerContainer)==null||p.removeLayer(i.instance),e.map.removeLayer(i.instance)}},[e,i])}function tp(i){return function(r){const a=vc(),u=i(yc(r,a),a);return Qh(a.map,r.attribution),ep(u.current,r.eventHandlers),Om(u.current,a),u}}function Wm(i,e){const r=wc(i,e),a=tp(r);return zm(a)}function Zm(i,e){const r=wc(i),a=bm(r,e);return Vm(a)}function Jm(i,e){const r=wc(i,e),a=tp(r);return Hm(a)}function Km(i,e,r){const{opacity:a,zIndex:u}=e;a!=null&&a!==r.opacity&&i.setOpacity(a),u!=null&&u!==r.zIndex&&i.setZIndex(u)}function Ym(){return vc().map}function nc(){return nc=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])}return i},nc.apply(this,arguments)}function $m({bounds:i,boundsOptions:e,center:r,children:a,className:u,id:p,placeholder:m,style:v,whenReady:y,zoom:T,...C},S){const[N]=Z.useState({className:u,id:p,style:v}),[M,q]=Z.useState(null);Z.useImperativeHandle(S,()=>(M==null?void 0:M.map)??null,[M]);const B=Z.useCallback(Y=>{if(Y!==null&&M===null){const te=new Vs.Map(Y,C);r!=null&&T!=null?te.setView(r,T):i!=null&&te.fitBounds(i,e),y!=null&&te.whenReady(y),q(Um(te))}},[]);Z.useEffect(()=>()=>{M==null||M.map.remove()},[M]);const J=M?Fs.createElement(jh,{value:M},a):m??null;return Fs.createElement("div",nc({},N,{ref:B}),J)}const Qm=Z.forwardRef($m),Xm=Wm(function({position:e,...r},a){const u=new Vs.Marker(e,r);return Tc(u,Bm(a,{overlayContainer:u}))},function(e,r,a){r.position!==a.position&&e.setLatLng(r.position),r.icon!=null&&r.icon!==a.icon&&e.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==a.zIndexOffset&&e.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==a.opacity&&e.setOpacity(r.opacity),e.dragging!=null&&r.draggable!==a.draggable&&(r.draggable===!0?e.dragging.enable():e.dragging.disable())}),jm=Zm(function(e,r){const a=new Vs.Popup(e,r.overlayContainer);return Tc(a,r)},function(e,r,{position:a},u){Z.useEffect(function(){const{instance:m}=e;function v(T){T.popup===m&&(m.update(),u(!0))}function y(T){T.popup===m&&u(!1)}return r.map.on({popupopen:v,popupclose:y}),r.overlayContainer==null?(a!=null&&m.setLatLng(a),m.openOn(r.map)):r.overlayContainer.bindPopup(m),function(){var C;r.map.off({popupopen:v,popupclose:y}),(C=r.overlayContainer)==null||C.unbindPopup(),r.map.removeLayer(m)}},[e,r,u,a])}),eg=Jm(function({url:e,...r},a){const u=new Vs.TileLayer(e,yc(r,a));return Tc(u,a)},function(e,r,a){Km(e,r,a);const{url:u}=r;u!=null&&u!==a.url&&e.setUrl(u)}),tg=[{site_id:1,site_name:"Cu Rng",site_type:"a im du lch",latitude:16.0613,longitude:108.2274,address:"An Hi,  Nng",established_year:2013,status:"ang hot ng",description:"Cu Rng l cy cu c kin trc c o nht Vit Nam, l con ng ngn nht ni sn bay quc t  Nng vi nhng trc ng chnh trong thnh ph. Khng ch ng vai tr l ng giao thng huyt mch ca thnh ph, cu Rng, vi kin trc m phng con rng thi L ang vn mnh bay ra bin, l mt trong nhng kin trc mang tnh biu tng ca thnh ph  Nng",additional_info:{"Chiu di":"666m","Chiu rng":"37.5m","S ln xe":"6 ln","Kinh ph":"~1.500 t VN","Lch phun la/nc":"21:00 Th 7, Ch Nht"}},{site_id:2,site_name:"B N Hills",site_type:"a im du lch",latitude:15.9961,longitude:107.9899,address:"B N,  Nng",established_year:2009,status:"ang hot ng",description:"B N l mt rng ni cao  pha Ty Nam  Nng, ni ting vi khu du lch Sun World Ba Na Hills trn nh ni, thu ht du khch bi kh hu mt m quanh nm, kin trc chu u c o, v h thng cp treo hin i. Ni y cn c v nh l phi xanh vi nhiu im tham quan v gii tr hp dn. "},{site_id:3,site_name:"Danh thng ni Ng Hnh Sn",site_type:"a im du lch",latitude:16.0044,longitude:108.2635,status:"ang hot ng",description:"Ng Hnh Sn l mt qun th danh thng thin nhin v tm linh gm su ngn ni  vi: Kim Sn, Mc Sn, Thy Sn, Ha Sn, Th Sn v m Ha Sn, nm  pha ng nam thnh ph  Nng. Ni y ni ting vi s kt hp hi ha gia cnh quan thin nhin hng v v cc cng trnh vn ha tm linh, vi nhiu hang ng p v nhng ngi cha c knh. "},{site_id:4,site_name:"Bo tng iu khc Chm",site_type:"Bo tng",latitude:16.060292,longitude:108.223433,address:"Hi Chu,  Nng",established_year:1915,status:"ang hot ng",description:"Bo tng iu khc Chm  Nng l mt bo tng lch s vn ha quan trng, trng by b su tp hin vt iu khc Chm Pa ln nht Vit Nam. Ni y lu gi hng ngn c vt qu gi t cc thp Chm, thnh ly thuc duyn hi Nam Trung B v cc tnh Ty Nguyn. Bo tng c xy dng theo kin trc pha trn phong cch Php c in v nt c trng ca Chm Pa, vi ta nh chnh mang v uy nghim, thanh thot. "},{site_id:5,site_name:"Cha Linh ng",site_type:"a im du lch",latitude:16.099932,longitude:108.277646},{site_id:6,site_name:"Cu Sng Hn",site_type:"a im du lch",latitude:16.0725,longitude:108.227}],ng=[{person_id:1,full_name:"Nguyn B Thanh",birth_year:1953,death_year:2015}],ig=[{site_id:1,site_name:"Cu Rng",site_type:"a im du lch",latitude:16.0613,longitude:108.2274,address:"An Hi,  Nng",established_year:2013,status:"ang hot ng",description:"Cu Rng l cy cu c kin trc c o nht Vit Nam, l con ng ngn nht ni sn bay quc t  Nng vi nhng trc ng chnh trong thnh ph. Khng ch ng vai tr l ng giao thng huyt mch ca thnh ph, cu Rng, vi kin trc m phng con rng thi L ang vn mnh bay ra bin, l mt trong nhng kin trc mang tnh biu tng ca thnh ph  Nng",additional_info:{"Chiu di":"666m","Chiu rng":"37.5m","Lch phun la/nc":"21:00 Th 6, Th 7, Ch Nht"},events:[{event_id:101,event_name:"Cuc thi thit k kin trc Cu Rng",start_date:"Cui nm 2005",description:"UBND thnh ph  Nng t chc cuc thi thit k kin trc Cu Rng, vi s tham gia ca 8 n v t vn thit k (4 cng ty Vit Nam, 2 cng ty Nht Bn, 1 cng ty c v 1 cng ty M). Vi tng cng hn 15 d n c trnh by. ",persons:[{person_id:1,full_name:"Nguyn B Thanh"}],media:[{media_id:10,media_url:"https://img.dothi.net/Storage/Images/cau-rong-da-nang4.jpg",media_type:"image",caption:"Bn phc tho kin trc cng trnh Cu Rng"},{media_id:11,media_url:"https://img.dothi.net/Storage/Images/cau-rong-da-nang4.jpg",media_type:"image",caption:"Phi cnh kin trc cng trnh Cu Rng"},{media_id:12,media_url:"https://thanhnien.mediacdn.vn/Uploaded/2014/Pictures20125/Vu/165/cau-rong-1.jpg",media_type:"image",caption:"Nh iu khc Phm Vn Hng thuyt trnh  tng sng to thit k mu u rng, ui rng"},{media_id:13,media_url:"https://filesdata.cadn.com.vn/filedatacadn/media//Images/uploadImages/2009/T_07/Ng_16/10.jpg",media_type:"image",caption:"Phi cnh kin trc cng trnh Cu Rng"}]},{event_id:102,event_name:"Khi cng dy dng Cu Rng",start_date:"2009-07-19",description:"Thng 10/2007, Phng n thit k ca lin danh The Louis Berger v Ammann & Whitney (M) c chn  thc hin d n. Ngy 17/12/2008 UBND thnh ph  Nng ph duyt d n Cu Rng. Ngy 19/7/2009 Khi cng xy dng Cu Rng ti b ng sng Hn, Bui l c s tham d ca Th tng Nguyn Tn Dng cng nhiu quan chc Chnh ph cp cao.",persons:[{person_id:1,full_name:"Nguyn B Thanh"}],media:[{media_id:14,media_url:"https://filesdata.cadn.com.vn/filedatacadn/media//Images/uploadImages/2009/T_07/Ng_20/VH%20%286%29.jpg",media_type:"image",caption:"L khi cng xy dng cu rng"},{media_id:16,media_url:"https://cdn.vntour.com.vn/storage/media/img/2019/07/29/xay-dung-cau-rong_1564395265.jpg",media_type:"image",caption:"Nhp chnh Cu Rng  c hp long ngy 26-10-2012"},{media_id:16,media_url:"https://static.tuoitre.vn/tto/i/s626/2013/02/20/Uk2w8Fps.jpg",media_type:"image",caption:"Lp rp u Cu Rng"},{media_id:200,media_url:"https://youtu.be/tSlni_dHiYY?si=SKn60l_KQjNZqMRG",media_type:"video",caption:"Trnh t xy dng Cu Rng",thumbnail_url:"https://i.ytimg.com/vi/tSlni_dHiYY/maxresdefault.jpg"}]},{event_id:102,event_name:"L khnh thnh Cu Rng",start_date:"2013-03-29",description:"Ngy 26/10/2012 Nhp chnh ca cu c hon thnh. Ngy 29/3/2013 Cu Rng chnh thc thng xe, a vo s dng, nhn dp k nim 38 nm ngy gii phng thnh ph  Nng (29/3/1975  29/3/2013).",media:[{media_id:14,media_url:"https://cdnmedia.baotintuc.vn/2013/03/30/07/41/T2-cau-rong.jpg",media_type:"image",caption:"L khnh thnh cu Rng"},{media_id:15,media_url:"https://anh.24h.com.vn/upload/1-2013/images/2013-03-29/1364528944-khanh-thanh-cau-4.jpg",media_type:"image",caption:"L khnh thnh cu Rng"},{media_id:16,media_url:"https://bqn.1cdn.vn/2013/03/29/images.baoquangnam.vn-dataimages-201303-original-_images638288_dsc_0027.jpg",media_type:"image",caption:"Cu Rng lng ly trong ngy khnh thnh."},{media_id:17,media_url:"https://puolotrip.com/images/pro/package-media-cau-rong-da-nang-1916.jpg",media_type:"image",caption:"Cu Rng phun la trong ngy khnh thnh."},{media_id:18,media_url:"https://cdn3.ivivu.com/2017/05/ngam-cau-rong-phun-lua-phun-nuoc-trai-nghiem-phai-thu-khi-den-du-lich-Da-Nang-ivivu-1.jpg",media_type:"image",caption:"V p uy nghi, lng ly gia lng thnh ph"},{media_id:19,media_url:"https://thanhnien.mediacdn.vn/Uploaded/sonlh/2022_08_01/anh-cau-rong-2731.jpg",media_type:"image",caption:"Cu Rng v m th mng"},{media_id:201,media_url:"https://youtu.be/jK9Oe6J3Zdg?si=06xE8XJiHmly-8Hl",media_type:"video",caption:"V p cu Rng",thumbnail_url:"https://puolotrip.com/images/pro/package-media-cau-rong-da-nang-1916.jpg"},{media_id:202,media_url:"https://youtu.be/dLE3t5vyEJs?si=bYRX_Yz3Qp_dZe4Y",media_type:"video",caption:"V p cu Rng",thumbnail_url:"https://puolotrip.com/images/pro/package-media-cau-rong-da-nang-1916.jpg"},{media_id:203,media_url:"https://youtu.be/I5dooJoebFY?si=7gf8yXmMxzxusU3l",media_type:"video",caption:"V p cu Rng",thumbnail_url:"https://puolotrip.com/images/pro/package-media-cau-rong-da-nang-1916.jpg"}]},{event_id:103,event_name:"ot Gii thng K Thut xut sc (EEA) nm 2014",start_date:"2014-04-30",description:"Sng 30-4 (theo gi Vit Nam), ti Th  Oa-sinh-tn (M), Hi ng cc cng ty k thut M  trao tng cu Rng ca TP  Nng Gii thng k thut xut sc (EEA) nm 2014. y l mt trong tm cng trnh v d n xut sc nht th gii c vinh danh v trao tng gii thng danh gi nht ca ngnh k thut th gii. Cu Rng bc qua sng Hn c chnh thc thng xe vo thng 3-2013 vi 666 m chiu di, bao gm su ln xe chy. Cy cu c nh gi cao v thit k v kt cu c o, mang hnh nh c trng vn ha Vit v ci ngun ca ngi Vit; ng thi kt hp hi ha gia thm m v tnh nng s dng, cng nh gi tr kinh t - x hi v k thut.",media:[{media_id:20,media_url:"https://cdn.nhandan.vn/images/79c6dd00909745ca3057568791e31a4b5d79017e1c82c89341da8a8f9a9c98ca04ddfb41b809b58f930b454b595562f19159fd3c795147ba52e8f6dcde027ba179191b8cab011ed2f9b8bc33ed0f1d71/551d9da1f6a9b9f7da3b1c84a4171b40.jpg",media_type:"image",caption:"V p lung linh ca Cu Rng ( Nng) thu ht ng du khch tham quan."},{media_id:21,media_url:"https://images2.thanhnien.vn/528068263637045248/2025/6/18/the-legend-danang-1-17502421275011965589401.jpg",media_type:"image",caption:"Cu Rng -  Nng: Biu tng  th ht khc ca vn ra bin ln"},{media_id:22,media_url:"https://queenbus.com.vn/wp-content/uploads/2025/08/Cau-Rong-bieu-tuong-du-lich-Da-Nang-Anh-Suu-tam-1536x1024.png",media_type:"image",caption:"Cu Rng uy nga trng l"}]},{event_id:104,event_name:"Cu Rng - Lch phun la, phun nc",start_date:"2013-06-01",description:"Cu Rng bt u lch trnh phun la v phun nc c nh vo 21:00 mi ti th By, Ch Nht v cc ngy l ln, thu ht ng o ngi dn v du khch.",media:[{media_id:23,media_url:"https://media-cdn-v2.laodong.vn/Storage/NewsPortal/2022/8/6/1077782/Cau-Rong-3.jpg",media_type:"image",caption:"Cu Rng phun la"},{media_id:24,media_url:"https://cdn.tienphong.vn/images/a7a4eb175a75567c9a7ae09768d70948825233224bbb3af7a2c58a444211629e01c58c8cc499990dda1100612b4d9551c3b80aea932725123cdc20f046d0201b91c395aaa9493e5cdaf349cad3d4a15e/5a85c4cc54a344d6d65641730533d5bd.jpg",media_type:"image",caption:"Cu Rng phun nc"},{media_id:204,media_url:"https://youtu.be/UMrqcep-dUc?si=RrcMk-py4B8zWxoc",media_type:"video",caption:"Video Cu Rng phun la, phun nc",thumbnail_url:"https://images2.thanhnien.vn/528068263637045248/2025/6/18/the-legend-danang-1-17502421275011965589401.jpg"}]},{event_id:105,event_name:"L hi pho hoa quc t  Nng",description:"Cu Rng l mt trong nhng a im p nht  ngm pho hoa   Nng, c bit l trong L hi Pho hoa Quc t  Nng (DIFF). Cy cu ny khng ch l a im xem min ph vi tm nhn bao qut m cn mang li tri nghim c o nh h thng n LED rc r ha quyn vi pho hoa, to nn mt khung cnh huyn o. ",media:[{media_id:26,media_url:"https://media.vietravel.com/images/Content/dia-diem-ngam-phao-hoa-da-nang-2.jpg",media_type:"image",caption:"Chim ngng pho hoa trn Cu Rng"},{media_id:27,media_url:"https://danangfantasticity.com/tin-tuc/cau-rong-dung-phun-lua-nuoc-trong-le-hoi-phao-hoa-quoc-te",media_type:"image",caption:"Chim ngng pho hoa trn Cu Rng"},{media_id:205,media_url:"https://youtu.be/AoW8UsfrMRM?si=2ENVpCuPaebzzlXs",media_type:"video",caption:"Ngm pho hoa trn cu Rng",thumbnail_url:"https://danangfantasticity.com/wp-content/uploads/2023/05/top-cac-dia-diem-xem-phao-hoa-da-nang-diff-2023-cuc-dinh-cau-rong.jpg"}]}]},{site_id:4,site_name:"Bo tng iu khc Chm",established_year:1915,site_type:"Bo tng",latitude:16.060292,longitude:108.223433,address:"Hi Chu,  Nng",status:"ang hot ng",description:"Bo tng iu khc Chm  Nng l mt bo tng lch s vn ha quan trng, trng by b su tp hin vt iu khc Chm Pa ln nht Vit Nam. Ni y lu gi hng ngn c vt qu gi t cc thp Chm, thnh ly thuc duyn hi Nam Trung B v cc tnh Ty Nguyn. Bo tng c xy dng theo kin trc pha trn phong cch Php c in v nt c trng ca Chm Pa, vi ta nh chnh mang v uy nghim, thanh thot. ",additional_info:{"Gi v":"60.000 VN/ngi/lt","Gi m ca":"7:00 - 17:00 hng ngy"},events:[{event_id:201,event_name:"Thnh lp bo tng",start_date:"1915",description:"Bo tng c thnh lp bi Vin Vin ng Bc C ca Php, vi s ng gp quan trng ca nh kho c hc Henri Parmentier trong vic thu thp v bo tn cc hin vt ca vng quc Chm Pa.",persons:[{person_id:2,full_name:"Henri Parmentier"}],media:[{media_id:3,media_url:"https://statics.vinwonders.com/bao-tang-dieu-khac-cham-4_1631291259.jpg",media_type:"image",caption:"Cng vin Tourane - nn mng ca bo tng sau ny"},{media_id:4,media_url:"https://statics.vinwonders.com/bao-tang-dieu-khac-cham-2_1631291155.jpg",media_type:"image",caption:"https://statics.vinwonders.com/bao-tang-dieu-khac-cham-2_1631291155.jpg"}]}]}],og=[{person_id:1,full_name:"Nguyn B Thanh",birth_year:1953,death_year:2015,biography:"ng Nguyn B Thanh l mt chnh tr gia ni ting ca Vit Nam, ngi  c nhng ng gp to ln cho s pht trin vt bc ca thnh ph  Nng trong vai tr Ch tch UBND v B th Thnh y. ng c ngi dn yu mn bi phong cch lm vic quyt lit, dm ngh dm lm v nhng pht ngn thng thn.",additional_info:{"Qu qun":"X Ha Tin, huyn Ha Vang, thnh ph  Nng","Trnh  hc vn":"Tin s Qun l kinh t nng nghip","L lun chnh tr":"Cao cp L lun chnh tr","Ngh nghip, chc v":"y vin BCH TW ng, B th Thnh y, Ch tch HND thnh ph  nng, Trng on BQH thnh ph  Nng; y vin y ban Ti chnh, Ngn sch ca Quc hi, Trng Ban Ni chnh Trung ng"},media:[{media_id:101,media_url:"https://cdn2.tuoitre.vn/thumb_w/1100/471584752817336320/2024/12/19/base64-17346014260641578231263.jpeg",media_type:"image",caption:"Chn dung ng Nguyn B Thanh"}],events:[{event_id:102,event_name:"Gi chc v B th Thnh y  Nng",start_date:"2003-01-01",description:"Trong giai on ny, ng  a ra nhiu quyt sch t ph, gp phn thay i mnh m din mo  th v pht trin kinh t - x hi ca  Nng, c ngi dn ghi nhn v yu mn."},{event_id:101,event_name:"L khnh thnh Cu Rng",start_date:"2013-03-29",description:"L mt trong nhng cng trnh biu tng ca  Nng c xy dng v khnh thnh di thi ng Nguyn B Thanh lm lnh o, th hin tm nhn v quyt tm thay i din mo  th.",related_site_id:1,related_site_name:"Cu Rng",media:[{media_id:1001,media_url:"https://thanhnien.mediacdn.vn/Uploaded/hoangnam/2016_05_16/ongnguyen_ba_thanh_ATFK.jpg",media_type:"image",caption:"ng Nguyn B Thanh"}]}]}],vl=i=>new Promise(e=>setTimeout(e,i)),rg=async()=>(console.log("Fetching all sites..."),await vl(500),tg),sg=async i=>(console.log(`Fetching details for site ID: ${i}`),await vl(300),ig.find(r=>r.site_id===i)||null),ag=async()=>(console.log("Fetching all persons..."),await vl(500),ng),lg=async i=>(console.log(`Fetching details for person ID: ${i}`),await vl(300),og.find(r=>r.person_id===i)||null);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ug,cg;function dg(){return{geminiUrl:ug,vertexUrl:cg}}function fg(i,e,r,a){var u,p;if(!(i!=null&&i.baseUrl)){const m=dg();return e?(u=m.vertexUrl)!==null&&u!==void 0?u:r:(p=m.geminiUrl)!==null&&p!==void 0?p:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ui{}function ae(i,e){const r=/\{([^}]+)\}/g;return i.replace(r,(a,u)=>{if(Object.prototype.hasOwnProperty.call(e,u)){const p=e[u];return p!=null?String(p):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function d(i,e,r){for(let p=0;p<e.length-1;p++){const m=e[p];if(m.endsWith("[]")){const v=m.slice(0,-2);if(!(v in i))if(Array.isArray(r))i[v]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[v])){const y=i[v];if(Array.isArray(r))for(let T=0;T<y.length;T++){const C=y[T];d(C,e.slice(p+1),r[T])}else for(const T of y)d(T,e.slice(p+1),r)}return}else if(m.endsWith("[0]")){const v=m.slice(0,-3);v in i||(i[v]=[{}]);const y=i[v];d(y[0],e.slice(p+1),r);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const a=e[e.length-1],u=i[a];if(u!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===u)return;if(typeof u=="object"&&typeof r=="object"&&u!==null&&r!==null)Object.assign(u,r);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(i,r):i[a]=r}function c(i,e,r=void 0){try{if(e.length===1&&e[0]==="_self")return i;for(let a=0;a<e.length;a++){if(typeof i!="object"||i===null)return r;const u=e[a];if(u.endsWith("[]")){const p=u.slice(0,-2);if(p in i){const m=i[p];return Array.isArray(m)?m.map(v=>c(v,e.slice(a+1),r)):r}else return r}else i=i[u]}return i}catch(a){if(a instanceof TypeError)return r;throw a}}function hg(i,e){for(const[r,a]of Object.entries(e)){const u=r.split("."),p=a.split("."),m=new Set;let v=-1;for(let y=0;y<u.length;y++)if(u[y]==="*"){v=y;break}if(v!==-1&&p.length>v)for(let y=v;y<p.length;y++){const T=p[y];T!=="*"&&!T.endsWith("[]")&&!T.endsWith("[0]")&&m.add(T)}ic(i,u,p,0,m)}}function ic(i,e,r,a,u){if(a>=e.length||typeof i!="object"||i===null)return;const p=e[a];if(p.endsWith("[]")){const m=p.slice(0,-2),v=i;if(m in v&&Array.isArray(v[m]))for(const y of v[m])ic(y,e,r,a+1,u)}else if(p==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,v=Object.keys(m).filter(T=>!T.startsWith("_")&&!u.has(T)),y={};for(const T of v)y[T]=m[T];for(const[T,C]of Object.entries(y)){const S=[];for(const N of r.slice(a))N==="*"?S.push(T):S.push(N);d(m,S,C)}for(const T of v)delete m[T]}}else{const m=i;p in m&&ic(m[p],e,r,a+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cc(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pg(i){const e={},r=c(i,["operationName"]);r!=null&&d(e,["operationName"],r);const a=c(i,["resourceName"]);return a!=null&&d(e,["_url","resourceName"],a),e}function mg(i){const e={},r=c(i,["name"]);r!=null&&d(e,["name"],r);const a=c(i,["metadata"]);a!=null&&d(e,["metadata"],a);const u=c(i,["done"]);u!=null&&d(e,["done"],u);const p=c(i,["error"]);p!=null&&d(e,["error"],p);const m=c(i,["response","generateVideoResponse"]);return m!=null&&d(e,["response"],_g(m)),e}function gg(i){const e={},r=c(i,["name"]);r!=null&&d(e,["name"],r);const a=c(i,["metadata"]);a!=null&&d(e,["metadata"],a);const u=c(i,["done"]);u!=null&&d(e,["done"],u);const p=c(i,["error"]);p!=null&&d(e,["error"],p);const m=c(i,["response"]);return m!=null&&d(e,["response"],vg(m)),e}function _g(i){const e={},r=c(i,["generatedSamples"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>yg(m))),d(e,["generatedVideos"],p)}const a=c(i,["raiMediaFilteredCount"]);a!=null&&d(e,["raiMediaFilteredCount"],a);const u=c(i,["raiMediaFilteredReasons"]);return u!=null&&d(e,["raiMediaFilteredReasons"],u),e}function vg(i){const e={},r=c(i,["videos"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>Tg(m))),d(e,["generatedVideos"],p)}const a=c(i,["raiMediaFilteredCount"]);a!=null&&d(e,["raiMediaFilteredCount"],a);const u=c(i,["raiMediaFilteredReasons"]);return u!=null&&d(e,["raiMediaFilteredReasons"],u),e}function yg(i){const e={},r=c(i,["video"]);return r!=null&&d(e,["video"],Pg(r)),e}function Tg(i){const e={},r=c(i,["_self"]);return r!=null&&d(e,["video"],Ig(r)),e}function wg(i){const e={},r=c(i,["operationName"]);return r!=null&&d(e,["_url","operationName"],r),e}function Cg(i){const e={},r=c(i,["operationName"]);return r!=null&&d(e,["_url","operationName"],r),e}function xg(i){const e={},r=c(i,["name"]);r!=null&&d(e,["name"],r);const a=c(i,["metadata"]);a!=null&&d(e,["metadata"],a);const u=c(i,["done"]);u!=null&&d(e,["done"],u);const p=c(i,["error"]);p!=null&&d(e,["error"],p);const m=c(i,["response"]);return m!=null&&d(e,["response"],Sg(m)),e}function Sg(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["parent"]);a!=null&&d(e,["parent"],a);const u=c(i,["documentName"]);return u!=null&&d(e,["documentName"],u),e}function np(i){const e={},r=c(i,["name"]);r!=null&&d(e,["name"],r);const a=c(i,["metadata"]);a!=null&&d(e,["metadata"],a);const u=c(i,["done"]);u!=null&&d(e,["done"],u);const p=c(i,["error"]);p!=null&&d(e,["error"],p);const m=c(i,["response"]);return m!=null&&d(e,["response"],Eg(m)),e}function Eg(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["parent"]);a!=null&&d(e,["parent"],a);const u=c(i,["documentName"]);return u!=null&&d(e,["documentName"],u),e}function Pg(i){const e={},r=c(i,["uri"]);r!=null&&d(e,["uri"],r);const a=c(i,["encodedVideo"]);a!=null&&d(e,["videoBytes"],Cc(a));const u=c(i,["encoding"]);return u!=null&&d(e,["mimeType"],u),e}function Ig(i){const e={},r=c(i,["gcsUri"]);r!=null&&d(e,["uri"],r);const a=c(i,["bytesBase64Encoded"]);a!=null&&d(e,["videoBytes"],Cc(a));const u=c(i,["mimeType"]);return u!=null&&d(e,["mimeType"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yf;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(yf||(yf={}));var Tf;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Tf||(Tf={}));var wf;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(wf||(wf={}));var Dt;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Dt||(Dt={}));var Cf;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Cf||(Cf={}));var xf;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(xf||(xf={}));var Sf;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Sf||(Sf={}));var Ef;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Ef||(Ef={}));var Pf;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Pf||(Pf={}));var If;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(If||(If={}));var Nf;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Nf||(Nf={}));var kf;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(kf||(kf={}));var Af;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(Af||(Af={}));var Mf;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Mf||(Mf={}));var Rf;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Rf||(Rf={}));var Lf;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Lf||(Lf={}));var Df;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Df||(Df={}));var Ff;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ff||(Ff={}));var hl;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(hl||(hl={}));var Uf;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Uf||(Uf={}));var Bf;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Bf||(Bf={}));var zf;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(zf||(zf={}));var oc;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(oc||(oc={}));var Vf;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Vf||(Vf={}));var Hf;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Hf||(Hf={}));var bf;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(bf||(bf={}));var Gf;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Gf||(Gf={}));var qf;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(qf||(qf={}));var Of;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Of||(Of={}));var Wf;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Wf||(Wf={}));var Zf;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Zf||(Zf={}));var Jf;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Jf||(Jf={}));var Kf;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Kf||(Kf={}));var Yf;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Yf||(Yf={}));var $f;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})($f||($f={}));var Qf;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Qf||(Qf={}));var Xf;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Xf||(Xf={}));var jf;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(jf||(jf={}));var eh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(eh||(eh={}));var th;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(th||(th={}));var nh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(nh||(nh={}));var ih;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(ih||(ih={}));var oh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(oh||(oh={}));var rh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(rh||(rh={}));var sh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(sh||(sh={}));var ah;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(ah||(ah={}));var lh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(lh||(lh={}));var uh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(uh||(uh={}));var ch;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(ch||(ch={}));var dh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(dh||(dh={}));var fh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(fh||(fh={}));var hh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(hh||(hh={}));var Cr;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Cr||(Cr={}));class rc{constructor(e){const r={};for(const a of e.headers.entries())r[a[0]]=a[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ms{get text(){var e,r,a,u,p,m,v,y;if(((u=(a=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let T="",C=!1;const S=[];for(const N of(y=(v=(m=(p=this.candidates)===null||p===void 0?void 0:p[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)!==null&&y!==void 0?y:[]){for(const[M,q]of Object.entries(N))M!=="text"&&M!=="thought"&&(q!==null||q!==void 0)&&S.push(M);if(typeof N.text=="string"){if(typeof N.thought=="boolean"&&N.thought)continue;C=!0,T+=N.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),C?T:void 0}get data(){var e,r,a,u,p,m,v,y;if(((u=(a=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let T="";const C=[];for(const S of(y=(v=(m=(p=this.candidates)===null||p===void 0?void 0:p[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)!==null&&y!==void 0?y:[]){for(const[N,M]of Object.entries(S))N!=="inlineData"&&(M!==null||M!==void 0)&&C.push(N);S.inlineData&&typeof S.inlineData.data=="string"&&(T+=atob(S.inlineData.data))}return C.length>0&&console.warn(`there are non-data parts ${C} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),T.length>0?btoa(T):void 0}get functionCalls(){var e,r,a,u,p,m,v,y;if(((u=(a=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const T=(y=(v=(m=(p=this.candidates)===null||p===void 0?void 0:p[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)===null||y===void 0?void 0:y.filter(C=>C.functionCall).map(C=>C.functionCall).filter(C=>C!==void 0);if((T==null?void 0:T.length)!==0)return T}get executableCode(){var e,r,a,u,p,m,v,y,T;if(((u=(a=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const C=(y=(v=(m=(p=this.candidates)===null||p===void 0?void 0:p[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((C==null?void 0:C.length)!==0)return(T=C==null?void 0:C[0])===null||T===void 0?void 0:T.code}get codeExecutionResult(){var e,r,a,u,p,m,v,y,T;if(((u=(a=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const C=(y=(v=(m=(p=this.candidates)===null||p===void 0?void 0:p[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((C==null?void 0:C.length)!==0)return(T=C==null?void 0:C[0])===null||T===void 0?void 0:T.output}}class ph{}class mh{}class Ng{}class kg{}class Ag{}class Mg{}class gh{}class _h{}class vh{}class Rg{}class pl{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const a=new pl;let u;const p=e;return r?u=gg(p):u=mg(p),Object.assign(a,u),a}}class yh{}class Th{}class wh{}class Lg{}class Dg{}class Fg{}class xc{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const a=new xc,p=xg(e);return Object.assign(a,p),a}}class Ug{}class Bg{}class zg{}class Ch{}class Vg{get text(){var e,r,a;let u="",p=!1;const m=[];for(const v of(a=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&a!==void 0?a:[]){for(const[y,T]of Object.entries(v))y!=="text"&&y!=="thought"&&T!==null&&m.push(y);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;p=!0,u+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?u:void 0}get data(){var e,r,a;let u="";const p=[];for(const m of(a=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&a!==void 0?a:[]){for(const[v,y]of Object.entries(m))v!=="inlineData"&&y!==null&&p.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(u+=atob(m.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class Hg{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Sc{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const a=new Sc,p=np(e);return Object.assign(a,p),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qe(i,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(i.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ip(i,e){const r=qe(i,e);return r?r.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${r}`:r.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${r}`:r:""}function op(i){return Array.isArray(i)?i.map(e=>ml(e)):[ml(i)]}function ml(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function rp(i){const e=ml(i);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function sp(i){const e=ml(i);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function xh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function ap(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(e=>xh(e)):[xh(i)]}function sc(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Sh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Eh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Nt(i){if(i==null)throw new Error("ContentUnion is required");return sc(i)?i:{role:"user",parts:ap(i)}}function Ec(i,e){if(!e)return[];if(i.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const a=Nt(r);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const r=Nt(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>Nt(r)):[Nt(e)]}function hn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Sh(i)||Eh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Nt(i)]}const e=[],r=[],a=sc(i[0]);for(const u of i){const p=sc(u);if(p!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(p)e.push(u);else{if(Sh(u)||Eh(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(u)}}return a||e.push({role:"user",parts:ap(r)}),e}function bg(i,e){i.includes("null")&&(e.nullable=!0);const r=i.filter(a=>a!=="null");if(r.length===1)e.type=Object.values(Dt).includes(r[0].toUpperCase())?r[0].toUpperCase():Dt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const a of r)e.anyOf.push({type:Object.values(Dt).includes(a.toUpperCase())?a.toUpperCase():Dt.TYPE_UNSPECIFIED})}}function xr(i){const e={},r=["items"],a=["anyOf"],u=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const p=i.anyOf;p!=null&&p.length==2&&(p[0].type==="null"?(e.nullable=!0,i=p[1]):p[1].type==="null"&&(e.nullable=!0,i=p[0])),i.type instanceof Array&&bg(i.type,e);for(const[m,v]of Object.entries(i))if(v!=null)if(m=="type"){if(v==="null")throw new Error("type: null can not be the only possible type for the field.");if(v instanceof Array)continue;e.type=Object.values(Dt).includes(v.toUpperCase())?v.toUpperCase():Dt.TYPE_UNSPECIFIED}else if(r.includes(m))e[m]=xr(v);else if(a.includes(m)){const y=[];for(const T of v){if(T.type=="null"){e.nullable=!0;continue}y.push(xr(T))}e[m]=y}else if(u.includes(m)){const y={};for(const[T,C]of Object.entries(v))y[T]=xr(C);e[m]=y}else{if(m==="additionalProperties")continue;e[m]=v}return e}function Pc(i){return xr(i)}function Ic(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Nc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Ir(i){if(i.functionDeclarations)for(const e of i.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=xr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=xr(e.response));return i}function Nr(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of i)e.push(r);return e}function Gg(i,e,r,a=1){const u=!e.startsWith(`${r}/`)&&e.split("/").length===a;return i.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${i.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${e}`:u?`projects/${i.getProject()}/locations/${i.getLocation()}/${r}/${e}`:e:u?`${r}/${e}`:e}function ci(i,e){if(typeof e!="string")throw new Error("name must be a string");return Gg(i,e,"cachedContents")}function lp(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function $i(i){return Cc(i)}function qg(i){return i!=null&&typeof i=="object"&&"name"in i}function Og(i){return i!=null&&typeof i=="object"&&"video"in i}function Wg(i){return i!=null&&typeof i=="object"&&"uri"in i}function up(i){var e;let r;if(qg(i)&&(r=i.name),!(Wg(i)&&(r=i.uri,r===void 0))&&!(Og(i)&&(r=(e=i.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof i=="string"&&(r=i),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const u=r.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${r}`);r=u[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function cp(i,e){let r;return i.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function dp(i){for(const e of["models","tunedModels","publisherModels"])if(Zg(i,e))return i[e];return[]}function Zg(i,e){return i!==null&&typeof i=="object"&&e in i}function Jg(i,e={}){const r=i,a={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(a.responseJsonSchema=r.outputSchema),e.behavior&&(a.behavior=e.behavior),{functionDeclarations:[a]}}function Kg(i,e={}){const r=[],a=new Set;for(const u of i){const p=u.name;if(a.has(p))throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);a.add(p);const m=Jg(u,e);m.functionDeclarations&&r.push(...m.functionDeclarations)}return{functionDeclarations:r}}function fp(i,e){let r;if(typeof e=="string")if(i.isVertexAI())if(e.startsWith("gs://"))r={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))r={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))r={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:e}}else r=e;const a=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,u=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(i.isVertexAI()){if(u>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function Yg(i){if(typeof i!="string")return i;const e=i;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function hp(i){if(typeof i!="object"||i===null)return{};const e=i,r=e.inlinedResponses;if(typeof r!="object"||r===null)return i;const u=r.inlinedResponses;if(!Array.isArray(u)||u.length===0)return i;let p=!1;for(const m of u){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){p=!0;break}}return p&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),i}function kr(i,e){const r=e;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function pp(i){const e=i;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $g(i){const e={},r=c(i,["responsesFile"]);r!=null&&d(e,["fileName"],r);const a=c(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>I_(m))),d(e,["inlinedResponses"],p)}const u=c(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(m=>m)),d(e,["inlinedEmbedContentResponses"],p)}return e}function Qg(i){const e={},r=c(i,["predictionsFormat"]);r!=null&&d(e,["format"],r);const a=c(i,["gcsDestination","outputUriPrefix"]);a!=null&&d(e,["gcsUri"],a);const u=c(i,["bigqueryDestination","outputUri"]);return u!=null&&d(e,["bigqueryUri"],u),e}function Xg(i){const e={},r=c(i,["format"]);r!=null&&d(e,["predictionsFormat"],r);const a=c(i,["gcsUri"]);a!=null&&d(e,["gcsDestination","outputUriPrefix"],a);const u=c(i,["bigqueryUri"]);if(u!=null&&d(e,["bigqueryDestination","outputUri"],u),c(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function cl(i){const e={},r=c(i,["name"]);r!=null&&d(e,["name"],r);const a=c(i,["metadata","displayName"]);a!=null&&d(e,["displayName"],a);const u=c(i,["metadata","state"]);u!=null&&d(e,["state"],pp(u));const p=c(i,["metadata","createTime"]);p!=null&&d(e,["createTime"],p);const m=c(i,["metadata","endTime"]);m!=null&&d(e,["endTime"],m);const v=c(i,["metadata","updateTime"]);v!=null&&d(e,["updateTime"],v);const y=c(i,["metadata","model"]);y!=null&&d(e,["model"],y);const T=c(i,["metadata","output"]);return T!=null&&d(e,["dest"],$g(hp(T))),e}function ac(i){const e={},r=c(i,["name"]);r!=null&&d(e,["name"],r);const a=c(i,["displayName"]);a!=null&&d(e,["displayName"],a);const u=c(i,["state"]);u!=null&&d(e,["state"],pp(u));const p=c(i,["error"]);p!=null&&d(e,["error"],p);const m=c(i,["createTime"]);m!=null&&d(e,["createTime"],m);const v=c(i,["startTime"]);v!=null&&d(e,["startTime"],v);const y=c(i,["endTime"]);y!=null&&d(e,["endTime"],y);const T=c(i,["updateTime"]);T!=null&&d(e,["updateTime"],T);const C=c(i,["model"]);C!=null&&d(e,["model"],C);const S=c(i,["inputConfig"]);S!=null&&d(e,["src"],jg(S));const N=c(i,["outputConfig"]);N!=null&&d(e,["dest"],Qg(hp(N)));const M=c(i,["completionStats"]);return M!=null&&d(e,["completionStats"],M),e}function jg(i){const e={},r=c(i,["instancesFormat"]);r!=null&&d(e,["format"],r);const a=c(i,["gcsSource","uris"]);a!=null&&d(e,["gcsUri"],a);const u=c(i,["bigquerySource","inputUri"]);return u!=null&&d(e,["bigqueryUri"],u),e}function e_(i,e){const r={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=c(e,["fileName"]);a!=null&&d(r,["fileName"],a);const u=c(e,["inlinedRequests"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(m=>P_(i,m))),d(r,["requests","requests"],p)}return r}function t_(i){const e={},r=c(i,["format"]);r!=null&&d(e,["instancesFormat"],r);const a=c(i,["gcsUri"]);a!=null&&d(e,["gcsSource","uris"],a);const u=c(i,["bigqueryUri"]);if(u!=null&&d(e,["bigquerySource","inputUri"],u),c(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function n_(i){const e={},r=c(i,["data"]);if(r!=null&&d(e,["data"],r),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(i,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function i_(i,e){const r={},a=c(e,["name"]);return a!=null&&d(r,["_url","name"],kr(i,a)),r}function o_(i,e){const r={},a=c(e,["name"]);return a!=null&&d(r,["_url","name"],kr(i,a)),r}function r_(i){const e={},r=c(i,["content"]);r!=null&&d(e,["content"],r);const a=c(i,["citationMetadata"]);a!=null&&d(e,["citationMetadata"],s_(a));const u=c(i,["tokenCount"]);u!=null&&d(e,["tokenCount"],u);const p=c(i,["finishReason"]);p!=null&&d(e,["finishReason"],p);const m=c(i,["avgLogprobs"]);m!=null&&d(e,["avgLogprobs"],m);const v=c(i,["groundingMetadata"]);v!=null&&d(e,["groundingMetadata"],v);const y=c(i,["index"]);y!=null&&d(e,["index"],y);const T=c(i,["logprobsResult"]);T!=null&&d(e,["logprobsResult"],T);const C=c(i,["safetyRatings"]);if(C!=null){let N=C;Array.isArray(N)&&(N=N.map(M=>M)),d(e,["safetyRatings"],N)}const S=c(i,["urlContextMetadata"]);return S!=null&&d(e,["urlContextMetadata"],S),e}function s_(i){const e={},r=c(i,["citationSources"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),d(e,["citations"],a)}return e}function mp(i){const e={},r=c(i,["parts"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(p=>D_(p))),d(e,["parts"],u)}const a=c(i,["role"]);return a!=null&&d(e,["role"],a),e}function a_(i,e){const r={},a=c(i,["displayName"]);if(e!==void 0&&a!=null&&d(e,["batch","displayName"],a),c(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function l_(i,e){const r={},a=c(i,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const u=c(i,["dest"]);return e!==void 0&&u!=null&&d(e,["outputConfig"],Xg(Yg(u))),r}function Ph(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],qe(i,a));const u=c(e,["src"]);u!=null&&d(r,["batch","inputConfig"],e_(i,fp(i,u)));const p=c(e,["config"]);return p!=null&&a_(p,r),r}function u_(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["model"],qe(i,a));const u=c(e,["src"]);u!=null&&d(r,["inputConfig"],t_(fp(i,u)));const p=c(e,["config"]);return p!=null&&l_(p,r),r}function c_(i,e){const r={},a=c(i,["displayName"]);return e!==void 0&&a!=null&&d(e,["batch","displayName"],a),r}function d_(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],qe(i,a));const u=c(e,["src"]);u!=null&&d(r,["batch","inputConfig"],v_(i,u));const p=c(e,["config"]);return p!=null&&c_(p,r),r}function f_(i,e){const r={},a=c(e,["name"]);return a!=null&&d(r,["_url","name"],kr(i,a)),r}function h_(i,e){const r={},a=c(e,["name"]);return a!=null&&d(r,["_url","name"],kr(i,a)),r}function p_(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["name"]);a!=null&&d(e,["name"],a);const u=c(i,["done"]);u!=null&&d(e,["done"],u);const p=c(i,["error"]);return p!=null&&d(e,["error"],p),e}function m_(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["name"]);a!=null&&d(e,["name"],a);const u=c(i,["done"]);u!=null&&d(e,["done"],u);const p=c(i,["error"]);return p!=null&&d(e,["error"],p),e}function g_(i,e){const r={},a=c(e,["contents"]);if(a!=null){let p=Ec(i,a);Array.isArray(p)&&(p=p.map(m=>m)),d(r,["requests[]","request","content"],p)}const u=c(e,["config"]);return u!=null&&(d(r,["_self"],__(u,r)),hg(r,{"requests[].*":"requests[].request.*"})),r}function __(i,e){const r={},a=c(i,["taskType"]);e!==void 0&&a!=null&&d(e,["requests[]","taskType"],a);const u=c(i,["title"]);e!==void 0&&u!=null&&d(e,["requests[]","title"],u);const p=c(i,["outputDimensionality"]);if(e!==void 0&&p!=null&&d(e,["requests[]","outputDimensionality"],p),c(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function v_(i,e){const r={},a=c(e,["fileName"]);a!=null&&d(r,["file_name"],a);const u=c(e,["inlinedRequests"]);return u!=null&&d(r,["requests"],g_(i,u)),r}function y_(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(i,["fileUri"]);r!=null&&d(e,["fileUri"],r);const a=c(i,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function T_(i,e,r){const a={},u=c(e,["systemInstruction"]);r!==void 0&&u!=null&&d(r,["systemInstruction"],mp(Nt(u)));const p=c(e,["temperature"]);p!=null&&d(a,["temperature"],p);const m=c(e,["topP"]);m!=null&&d(a,["topP"],m);const v=c(e,["topK"]);v!=null&&d(a,["topK"],v);const y=c(e,["candidateCount"]);y!=null&&d(a,["candidateCount"],y);const T=c(e,["maxOutputTokens"]);T!=null&&d(a,["maxOutputTokens"],T);const C=c(e,["stopSequences"]);C!=null&&d(a,["stopSequences"],C);const S=c(e,["responseLogprobs"]);S!=null&&d(a,["responseLogprobs"],S);const N=c(e,["logprobs"]);N!=null&&d(a,["logprobs"],N);const M=c(e,["presencePenalty"]);M!=null&&d(a,["presencePenalty"],M);const q=c(e,["frequencyPenalty"]);q!=null&&d(a,["frequencyPenalty"],q);const B=c(e,["seed"]);B!=null&&d(a,["seed"],B);const J=c(e,["responseMimeType"]);J!=null&&d(a,["responseMimeType"],J);const Y=c(e,["responseSchema"]);Y!=null&&d(a,["responseSchema"],Pc(Y));const te=c(e,["responseJsonSchema"]);if(te!=null&&d(a,["responseJsonSchema"],te),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=c(e,["safetySettings"]);if(r!==void 0&&j!=null){let Q=j;Array.isArray(Q)&&(Q=Q.map(ue=>F_(ue))),d(r,["safetySettings"],Q)}const oe=c(e,["tools"]);if(r!==void 0&&oe!=null){let Q=Nr(oe);Array.isArray(Q)&&(Q=Q.map(ue=>U_(Ir(ue)))),d(r,["tools"],Q)}const pe=c(e,["toolConfig"]);if(r!==void 0&&pe!=null&&d(r,["toolConfig"],pe),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const he=c(e,["cachedContent"]);r!==void 0&&he!=null&&d(r,["cachedContent"],ci(i,he));const se=c(e,["responseModalities"]);se!=null&&d(a,["responseModalities"],se);const Le=c(e,["mediaResolution"]);Le!=null&&d(a,["mediaResolution"],Le);const de=c(e,["speechConfig"]);if(de!=null&&d(a,["speechConfig"],Ic(de)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Se=c(e,["thinkingConfig"]);Se!=null&&d(a,["thinkingConfig"],Se);const Ie=c(e,["imageConfig"]);return Ie!=null&&d(a,["imageConfig"],Ie),a}function w_(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(T=>r_(T))),d(e,["candidates"],y)}const u=c(i,["modelVersion"]);u!=null&&d(e,["modelVersion"],u);const p=c(i,["promptFeedback"]);p!=null&&d(e,["promptFeedback"],p);const m=c(i,["responseId"]);m!=null&&d(e,["responseId"],m);const v=c(i,["usageMetadata"]);return v!=null&&d(e,["usageMetadata"],v),e}function C_(i,e){const r={},a=c(e,["name"]);return a!=null&&d(r,["_url","name"],kr(i,a)),r}function x_(i,e){const r={},a=c(e,["name"]);return a!=null&&d(r,["_url","name"],kr(i,a)),r}function S_(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=c(i,["enableWidget"]);return r!=null&&d(e,["enableWidget"],r),e}function E_(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=c(i,["timeRangeFilter"]);return r!=null&&d(e,["timeRangeFilter"],r),e}function P_(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["request","model"],qe(i,a));const u=c(e,["contents"]);if(u!=null){let v=hn(u);Array.isArray(v)&&(v=v.map(y=>mp(y))),d(r,["request","contents"],v)}const p=c(e,["metadata"]);p!=null&&d(r,["metadata"],p);const m=c(e,["config"]);return m!=null&&d(r,["request","generationConfig"],T_(i,m,c(r,["request"],{}))),r}function I_(i){const e={},r=c(i,["response"]);r!=null&&d(e,["response"],w_(r));const a=c(i,["error"]);return a!=null&&d(e,["error"],a),e}function N_(i,e){const r={},a=c(i,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const u=c(i,["pageToken"]);if(e!==void 0&&u!=null&&d(e,["_query","pageToken"],u),c(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function k_(i,e){const r={},a=c(i,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const u=c(i,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const p=c(i,["filter"]);return e!==void 0&&p!=null&&d(e,["_query","filter"],p),r}function A_(i){const e={},r=c(i,["config"]);return r!=null&&N_(r,e),e}function M_(i){const e={},r=c(i,["config"]);return r!=null&&k_(r,e),e}function R_(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["nextPageToken"]);a!=null&&d(e,["nextPageToken"],a);const u=c(i,["operations"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(m=>cl(m))),d(e,["batchJobs"],p)}return e}function L_(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["nextPageToken"]);a!=null&&d(e,["nextPageToken"],a);const u=c(i,["batchPredictionJobs"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(m=>ac(m))),d(e,["batchJobs"],p)}return e}function D_(i){const e={},r=c(i,["functionCall"]);r!=null&&d(e,["functionCall"],r);const a=c(i,["codeExecutionResult"]);a!=null&&d(e,["codeExecutionResult"],a);const u=c(i,["executableCode"]);u!=null&&d(e,["executableCode"],u);const p=c(i,["fileData"]);p!=null&&d(e,["fileData"],y_(p));const m=c(i,["functionResponse"]);m!=null&&d(e,["functionResponse"],m);const v=c(i,["inlineData"]);v!=null&&d(e,["inlineData"],n_(v));const y=c(i,["text"]);y!=null&&d(e,["text"],y);const T=c(i,["thought"]);T!=null&&d(e,["thought"],T);const C=c(i,["thoughtSignature"]);C!=null&&d(e,["thoughtSignature"],C);const S=c(i,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function F_(i){const e={},r=c(i,["category"]);if(r!=null&&d(e,["category"],r),c(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=c(i,["threshold"]);return a!=null&&d(e,["threshold"],a),e}function U_(i){const e={},r=c(i,["functionDeclarations"]);if(r!=null){let C=r;Array.isArray(C)&&(C=C.map(S=>S)),d(e,["functionDeclarations"],C)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=c(i,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],a);const u=c(i,["computerUse"]);u!=null&&d(e,["computerUse"],u);const p=c(i,["fileSearch"]);p!=null&&d(e,["fileSearch"],p);const m=c(i,["codeExecution"]);if(m!=null&&d(e,["codeExecution"],m),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const v=c(i,["googleMaps"]);v!=null&&d(e,["googleMaps"],S_(v));const y=c(i,["googleSearch"]);y!=null&&d(e,["googleSearch"],E_(y));const T=c(i,["urlContext"]);return T!=null&&d(e,["urlContext"],T),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var li;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(li||(li={}));class ko{constructor(e,r,a,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,a,u)}init(e,r,a){var u,p;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!a||Object.keys(a).length===0?m={config:{}}:typeof a=="object"?m=Object.assign({},a):m=a,m.config&&(m.config.pageToken=r.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(p=(u=m.config)===null||u===void 0?void 0:u.pageSize)!==null&&p!==void 0?p:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B_ extends ui{constructor(e){super(),this.apiClient=e,this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)},this.list=async(r={})=>new ko(li.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(r),r)}createInlinedGenerateContentRequest(e){const r=Ph(this.apiClient,e),a=r._url,u=ae("{model}:batchGenerateContent",a),v=r.batch.inputConfig.requests,y=v.requests,T=[];for(const C of y){const S=Object.assign({},C);if(S.systemInstruction){const N=S.systemInstruction;delete S.systemInstruction;const M=S.request;M.systemInstruction=N,S.request=M}T.push(S)}return v.requests=T,delete r.config,delete r._url,delete r._query,{path:u,body:r}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,r){const a=r?Object.assign({},r):{},u=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${u}`),a.dest===void 0){const p=this.getGcsUri(e),m=this.getBigqueryUri(e);if(p)p.endsWith(".jsonl")?a.dest=`${p.slice(0,-6)}/dest`:a.dest=`${p}_dest_${u}`;else if(m)a.dest=`${m}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=u_(this.apiClient,e);return v=ae("batchPredictionJobs",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json()),m.then(C=>ac(C))}else{const T=Ph(this.apiClient,e);return v=ae("{model}:batchGenerateContent",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json()),m.then(C=>cl(C))}}async createEmbeddingsInternal(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=d_(this.apiClient,e);return p=ae("{model}:asyncBatchEmbedContent",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>cl(y))}}async get(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=x_(this.apiClient,e);return v=ae("batchPredictionJobs/{name}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json()),m.then(C=>ac(C))}else{const T=C_(this.apiClient,e);return v=ae("batches/{name}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json()),m.then(C=>cl(C))}}async cancel(e){var r,a,u,p;let m="",v={};if(this.apiClient.isVertexAI()){const y=o_(this.apiClient,e);m=ae("batchPredictionJobs/{name}:cancel",y._url),v=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=i_(this.apiClient,e);m=ae("batches/{name}:cancel",y._url),v=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal})}}async listInternal(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=M_(e);return v=ae("batchPredictionJobs",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=L_(C),N=new Ch;return Object.assign(N,S),N})}else{const T=A_(e);return v=ae("batches",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=R_(C),N=new Ch;return Object.assign(N,S),N})}}async delete(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=h_(this.apiClient,e);return v=ae("batchPredictionJobs/{name}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>m_(C))}else{const T=f_(this.apiClient,e);return v=ae("batches/{name}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>p_(C))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z_(i){const e={},r=c(i,["data"]);if(r!=null&&d(e,["data"],r),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(i,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function Ih(i){const e={},r=c(i,["parts"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(p=>rv(p))),d(e,["parts"],u)}const a=c(i,["role"]);return a!=null&&d(e,["role"],a),e}function V_(i,e){const r={},a=c(i,["ttl"]);e!==void 0&&a!=null&&d(e,["ttl"],a);const u=c(i,["expireTime"]);e!==void 0&&u!=null&&d(e,["expireTime"],u);const p=c(i,["displayName"]);e!==void 0&&p!=null&&d(e,["displayName"],p);const m=c(i,["contents"]);if(e!==void 0&&m!=null){let C=hn(m);Array.isArray(C)&&(C=C.map(S=>Ih(S))),d(e,["contents"],C)}const v=c(i,["systemInstruction"]);e!==void 0&&v!=null&&d(e,["systemInstruction"],Ih(Nt(v)));const y=c(i,["tools"]);if(e!==void 0&&y!=null){let C=y;Array.isArray(C)&&(C=C.map(S=>sv(S))),d(e,["tools"],C)}const T=c(i,["toolConfig"]);if(e!==void 0&&T!=null&&d(e,["toolConfig"],T),c(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function H_(i,e){const r={},a=c(i,["ttl"]);e!==void 0&&a!=null&&d(e,["ttl"],a);const u=c(i,["expireTime"]);e!==void 0&&u!=null&&d(e,["expireTime"],u);const p=c(i,["displayName"]);e!==void 0&&p!=null&&d(e,["displayName"],p);const m=c(i,["contents"]);if(e!==void 0&&m!=null){let S=hn(m);Array.isArray(S)&&(S=S.map(N=>N)),d(e,["contents"],S)}const v=c(i,["systemInstruction"]);e!==void 0&&v!=null&&d(e,["systemInstruction"],Nt(v));const y=c(i,["tools"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(N=>av(N))),d(e,["tools"],S)}const T=c(i,["toolConfig"]);e!==void 0&&T!=null&&d(e,["toolConfig"],T);const C=c(i,["kmsKeyName"]);return e!==void 0&&C!=null&&d(e,["encryption_spec","kmsKeyName"],C),r}function b_(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["model"],ip(i,a));const u=c(e,["config"]);return u!=null&&V_(u,r),r}function G_(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["model"],ip(i,a));const u=c(e,["config"]);return u!=null&&H_(u,r),r}function q_(i,e){const r={},a=c(e,["name"]);return a!=null&&d(r,["_url","name"],ci(i,a)),r}function O_(i,e){const r={},a=c(e,["name"]);return a!=null&&d(r,["_url","name"],ci(i,a)),r}function W_(i){const e={},r=c(i,["sdkHttpResponse"]);return r!=null&&d(e,["sdkHttpResponse"],r),e}function Z_(i){const e={},r=c(i,["sdkHttpResponse"]);return r!=null&&d(e,["sdkHttpResponse"],r),e}function J_(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(i,["fileUri"]);r!=null&&d(e,["fileUri"],r);const a=c(i,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function K_(i){const e={};if(c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=c(i,["description"]);r!=null&&d(e,["description"],r);const a=c(i,["name"]);a!=null&&d(e,["name"],a);const u=c(i,["parameters"]);u!=null&&d(e,["parameters"],u);const p=c(i,["parametersJsonSchema"]);p!=null&&d(e,["parametersJsonSchema"],p);const m=c(i,["response"]);m!=null&&d(e,["response"],m);const v=c(i,["responseJsonSchema"]);return v!=null&&d(e,["responseJsonSchema"],v),e}function Y_(i,e){const r={},a=c(e,["name"]);return a!=null&&d(r,["_url","name"],ci(i,a)),r}function $_(i,e){const r={},a=c(e,["name"]);return a!=null&&d(r,["_url","name"],ci(i,a)),r}function Q_(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=c(i,["enableWidget"]);return r!=null&&d(e,["enableWidget"],r),e}function X_(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=c(i,["timeRangeFilter"]);return r!=null&&d(e,["timeRangeFilter"],r),e}function j_(i,e){const r={},a=c(i,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const u=c(i,["pageToken"]);return e!==void 0&&u!=null&&d(e,["_query","pageToken"],u),r}function ev(i,e){const r={},a=c(i,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const u=c(i,["pageToken"]);return e!==void 0&&u!=null&&d(e,["_query","pageToken"],u),r}function tv(i){const e={},r=c(i,["config"]);return r!=null&&j_(r,e),e}function nv(i){const e={},r=c(i,["config"]);return r!=null&&ev(r,e),e}function iv(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["nextPageToken"]);a!=null&&d(e,["nextPageToken"],a);const u=c(i,["cachedContents"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(m=>m)),d(e,["cachedContents"],p)}return e}function ov(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["nextPageToken"]);a!=null&&d(e,["nextPageToken"],a);const u=c(i,["cachedContents"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(m=>m)),d(e,["cachedContents"],p)}return e}function rv(i){const e={},r=c(i,["functionCall"]);r!=null&&d(e,["functionCall"],r);const a=c(i,["codeExecutionResult"]);a!=null&&d(e,["codeExecutionResult"],a);const u=c(i,["executableCode"]);u!=null&&d(e,["executableCode"],u);const p=c(i,["fileData"]);p!=null&&d(e,["fileData"],J_(p));const m=c(i,["functionResponse"]);m!=null&&d(e,["functionResponse"],m);const v=c(i,["inlineData"]);v!=null&&d(e,["inlineData"],z_(v));const y=c(i,["text"]);y!=null&&d(e,["text"],y);const T=c(i,["thought"]);T!=null&&d(e,["thought"],T);const C=c(i,["thoughtSignature"]);C!=null&&d(e,["thoughtSignature"],C);const S=c(i,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function sv(i){const e={},r=c(i,["functionDeclarations"]);if(r!=null){let C=r;Array.isArray(C)&&(C=C.map(S=>S)),d(e,["functionDeclarations"],C)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=c(i,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],a);const u=c(i,["computerUse"]);u!=null&&d(e,["computerUse"],u);const p=c(i,["fileSearch"]);p!=null&&d(e,["fileSearch"],p);const m=c(i,["codeExecution"]);if(m!=null&&d(e,["codeExecution"],m),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const v=c(i,["googleMaps"]);v!=null&&d(e,["googleMaps"],Q_(v));const y=c(i,["googleSearch"]);y!=null&&d(e,["googleSearch"],X_(y));const T=c(i,["urlContext"]);return T!=null&&d(e,["urlContext"],T),e}function av(i){const e={},r=c(i,["functionDeclarations"]);if(r!=null){let S=r;Array.isArray(S)&&(S=S.map(N=>K_(N))),d(e,["functionDeclarations"],S)}const a=c(i,["retrieval"]);a!=null&&d(e,["retrieval"],a);const u=c(i,["googleSearchRetrieval"]);u!=null&&d(e,["googleSearchRetrieval"],u);const p=c(i,["computerUse"]);if(p!=null&&d(e,["computerUse"],p),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=c(i,["codeExecution"]);m!=null&&d(e,["codeExecution"],m);const v=c(i,["enterpriseWebSearch"]);v!=null&&d(e,["enterpriseWebSearch"],v);const y=c(i,["googleMaps"]);y!=null&&d(e,["googleMaps"],y);const T=c(i,["googleSearch"]);T!=null&&d(e,["googleSearch"],T);const C=c(i,["urlContext"]);return C!=null&&d(e,["urlContext"],C),e}function lv(i,e){const r={},a=c(i,["ttl"]);e!==void 0&&a!=null&&d(e,["ttl"],a);const u=c(i,["expireTime"]);return e!==void 0&&u!=null&&d(e,["expireTime"],u),r}function uv(i,e){const r={},a=c(i,["ttl"]);e!==void 0&&a!=null&&d(e,["ttl"],a);const u=c(i,["expireTime"]);return e!==void 0&&u!=null&&d(e,["expireTime"],u),r}function cv(i,e){const r={},a=c(e,["name"]);a!=null&&d(r,["_url","name"],ci(i,a));const u=c(e,["config"]);return u!=null&&lv(u,r),r}function dv(i,e){const r={},a=c(e,["name"]);a!=null&&d(r,["_url","name"],ci(i,a));const u=c(e,["config"]);return u!=null&&uv(u,r),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fv extends ui{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new ko(li.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(r),r)}async create(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=G_(this.apiClient,e);return v=ae("cachedContents",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json()),m.then(C=>C)}else{const T=b_(this.apiClient,e);return v=ae("cachedContents",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json()),m.then(C=>C)}}async get(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=$_(this.apiClient,e);return v=ae("{name}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json()),m.then(C=>C)}else{const T=Y_(this.apiClient,e);return v=ae("{name}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json()),m.then(C=>C)}}async delete(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=O_(this.apiClient,e);return v=ae("{name}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=Z_(C),N=new Th;return Object.assign(N,S),N})}else{const T=q_(this.apiClient,e);return v=ae("{name}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=W_(C),N=new Th;return Object.assign(N,S),N})}}async update(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=dv(this.apiClient,e);return v=ae("{name}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json()),m.then(C=>C)}else{const T=cv(this.apiClient,e);return v=ae("{name}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"PATCH",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json()),m.then(C=>C)}}async listInternal(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=nv(e);return v=ae("cachedContents",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=ov(C),N=new wh;return Object.assign(N,S),N})}else{const T=tv(e);return v=ae("cachedContents",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=iv(C),N=new wh;return Object.assign(N,S),N})}}}function Nh(i){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&i[e],a=0;if(r)return r.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xe(i){return this instanceof Xe?(this.v=i,this):new Xe(i)}function Sr(i,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(i,e||[]),u,p=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),v("next"),v("throw"),v("return",m),u[Symbol.asyncIterator]=function(){return this},u;function m(M){return function(q){return Promise.resolve(q).then(M,S)}}function v(M,q){a[M]&&(u[M]=function(B){return new Promise(function(J,Y){p.push([M,B,J,Y])>1||y(M,B)})},q&&(u[M]=q(u[M])))}function y(M,q){try{T(a[M](q))}catch(B){N(p[0][3],B)}}function T(M){M.value instanceof Xe?Promise.resolve(M.value.v).then(C,S):N(p[0][2],M)}function C(M){y("next",M)}function S(M){y("throw",M)}function N(M,q){M(q),p.shift(),p.length&&y(p[0][0],p[0][1])}}function Ds(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],r;return e?e.call(i):(i=typeof Nh=="function"?Nh(i):i[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(p){r[p]=i[p]&&function(m){return new Promise(function(v,y){m=i[p](m),u(v,y,m.done,m.value)})}}function u(p,m,v,y){Promise.resolve(y).then(function(T){p({value:T,done:v})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hv(i){var e;if(i.candidates==null||i.candidates.length===0)return!1;const r=(e=i.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:gp(r)}function gp(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const e of i.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function pv(i){if(i.length!==0){for(const e of i)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function kh(i){if(i===void 0||i.length===0)return[];const e=[],r=i.length;let a=0;for(;a<r;)if(i[a].role==="user")e.push(i[a]),a++;else{const u=[];let p=!0;for(;a<r&&i[a].role==="model";)u.push(i[a]),p&&!gp(i[a])&&(p=!1),a++;p?e.push(...u):e.pop()}return e}class mv{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new gv(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class gv{constructor(e,r,a,u={},p=[]){this.apiClient=e,this.modelsModule=r,this.model=a,this.config=u,this.history=p,this.sendPromise=Promise.resolve(),pv(p)}async sendMessage(e){var r;await this.sendPromise;const a=Nt(e.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var p,m,v;const y=await u,T=(m=(p=y.candidates)===null||p===void 0?void 0:p[0])===null||m===void 0?void 0:m.content,C=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let N=[];C!=null&&(N=(v=C.slice(S))!==null&&v!==void 0?v:[]);const M=T?[T]:[];this.recordHistory(a,M,N)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(e){var r;await this.sendPromise;const a=Nt(e.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const p=await u;return this.processStreamResponse(p,a)}getHistory(e=!1){const r=e?kh(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){var a,u;return Sr(this,arguments,function*(){var m,v,y,T;const C=[];try{for(var S=!0,N=Ds(e),M;M=yield Xe(N.next()),m=M.done,!m;S=!0){T=M.value,S=!1;const q=T;if(hv(q)){const B=(u=(a=q.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content;B!==void 0&&C.push(B)}yield yield Xe(q)}}catch(q){v={error:q}}finally{try{!S&&!m&&(y=N.return)&&(yield Xe(y.call(N)))}finally{if(v)throw v.error}}this.recordHistory(r,C)})}recordHistory(e,r,a){let u=[];r.length>0&&r.every(p=>p.role!==void 0)?u=r:u.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...kh(a)):this.history.push(e),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,yl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _v(i){const e={},r=c(i,["file"]);return r!=null&&d(e,["file"],r),e}function vv(i){const e={},r=c(i,["sdkHttpResponse"]);return r!=null&&d(e,["sdkHttpResponse"],r),e}function yv(i){const e={},r=c(i,["name"]);return r!=null&&d(e,["_url","file"],up(r)),e}function Tv(i){const e={},r=c(i,["sdkHttpResponse"]);return r!=null&&d(e,["sdkHttpResponse"],r),e}function wv(i){const e={},r=c(i,["name"]);return r!=null&&d(e,["_url","file"],up(r)),e}function Cv(i,e){const r={},a=c(i,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const u=c(i,["pageToken"]);return e!==void 0&&u!=null&&d(e,["_query","pageToken"],u),r}function xv(i){const e={},r=c(i,["config"]);return r!=null&&Cv(r,e),e}function Sv(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["nextPageToken"]);a!=null&&d(e,["nextPageToken"],a);const u=c(i,["files"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(m=>m)),d(e,["files"],p)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ev extends ui{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new ko(li.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>r)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=xv(e);return p=ae("files",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:y.headers},C})),u.then(y=>{const T=Sv(y),C=new Ug;return Object.assign(C,T),C})}}async createInternal(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=_v(e);return p=ae("upload/v1beta/files",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const T=vv(y),C=new Bg;return Object.assign(C,T),C})}}async get(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=wv(e);return p=ae("files/{file}",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=yv(e);return p=ae("files/{file}",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:y.headers},C})),u.then(y=>{const T=Tv(y),C=new zg;return Object.assign(C,T),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dl(i){const e={},r=c(i,["data"]);if(r!=null&&d(e,["data"],r),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(i,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function Pv(i){const e={},r=c(i,["parts"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(p=>bv(p))),d(e,["parts"],u)}const a=c(i,["role"]);return a!=null&&d(e,["role"],a),e}function Iv(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(i,["fileUri"]);r!=null&&d(e,["fileUri"],r);const a=c(i,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function Nv(i){const e={};if(c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=c(i,["description"]);r!=null&&d(e,["description"],r);const a=c(i,["name"]);a!=null&&d(e,["name"],a);const u=c(i,["parameters"]);u!=null&&d(e,["parameters"],u);const p=c(i,["parametersJsonSchema"]);p!=null&&d(e,["parametersJsonSchema"],p);const m=c(i,["response"]);m!=null&&d(e,["response"],m);const v=c(i,["responseJsonSchema"]);return v!=null&&d(e,["responseJsonSchema"],v),e}function kv(i){const e={},r=c(i,["modelSelectionConfig"]);r!=null&&d(e,["modelConfig"],r);const a=c(i,["responseJsonSchema"]);a!=null&&d(e,["responseJsonSchema"],a);const u=c(i,["audioTimestamp"]);u!=null&&d(e,["audioTimestamp"],u);const p=c(i,["candidateCount"]);p!=null&&d(e,["candidateCount"],p);const m=c(i,["enableAffectiveDialog"]);m!=null&&d(e,["enableAffectiveDialog"],m);const v=c(i,["frequencyPenalty"]);v!=null&&d(e,["frequencyPenalty"],v);const y=c(i,["logprobs"]);y!=null&&d(e,["logprobs"],y);const T=c(i,["maxOutputTokens"]);T!=null&&d(e,["maxOutputTokens"],T);const C=c(i,["mediaResolution"]);C!=null&&d(e,["mediaResolution"],C);const S=c(i,["presencePenalty"]);S!=null&&d(e,["presencePenalty"],S);const N=c(i,["responseLogprobs"]);N!=null&&d(e,["responseLogprobs"],N);const M=c(i,["responseMimeType"]);M!=null&&d(e,["responseMimeType"],M);const q=c(i,["responseModalities"]);q!=null&&d(e,["responseModalities"],q);const B=c(i,["responseSchema"]);B!=null&&d(e,["responseSchema"],B);const J=c(i,["routingConfig"]);J!=null&&d(e,["routingConfig"],J);const Y=c(i,["seed"]);Y!=null&&d(e,["seed"],Y);const te=c(i,["speechConfig"]);te!=null&&d(e,["speechConfig"],_p(te));const j=c(i,["stopSequences"]);j!=null&&d(e,["stopSequences"],j);const oe=c(i,["temperature"]);oe!=null&&d(e,["temperature"],oe);const pe=c(i,["thinkingConfig"]);pe!=null&&d(e,["thinkingConfig"],pe);const he=c(i,["topK"]);he!=null&&d(e,["topK"],he);const se=c(i,["topP"]);if(se!=null&&d(e,["topP"],se),c(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Av(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=c(i,["enableWidget"]);return r!=null&&d(e,["enableWidget"],r),e}function Mv(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=c(i,["timeRangeFilter"]);return r!=null&&d(e,["timeRangeFilter"],r),e}function Rv(i,e){const r={},a=c(i,["generationConfig"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig"],a);const u=c(i,["responseModalities"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","responseModalities"],u);const p=c(i,["temperature"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","temperature"],p);const m=c(i,["topP"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","topP"],m);const v=c(i,["topK"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","topK"],v);const y=c(i,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const T=c(i,["mediaResolution"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","mediaResolution"],T);const C=c(i,["seed"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","seed"],C);const S=c(i,["speechConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","speechConfig"],Nc(S));const N=c(i,["thinkingConfig"]);e!==void 0&&N!=null&&d(e,["setup","generationConfig","thinkingConfig"],N);const M=c(i,["enableAffectiveDialog"]);e!==void 0&&M!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],M);const q=c(i,["systemInstruction"]);e!==void 0&&q!=null&&d(e,["setup","systemInstruction"],Pv(Nt(q)));const B=c(i,["tools"]);if(e!==void 0&&B!=null){let he=Nr(B);Array.isArray(he)&&(he=he.map(se=>qv(Ir(se)))),d(e,["setup","tools"],he)}const J=c(i,["sessionResumption"]);e!==void 0&&J!=null&&d(e,["setup","sessionResumption"],Gv(J));const Y=c(i,["inputAudioTranscription"]);e!==void 0&&Y!=null&&d(e,["setup","inputAudioTranscription"],Y);const te=c(i,["outputAudioTranscription"]);e!==void 0&&te!=null&&d(e,["setup","outputAudioTranscription"],te);const j=c(i,["realtimeInputConfig"]);e!==void 0&&j!=null&&d(e,["setup","realtimeInputConfig"],j);const oe=c(i,["contextWindowCompression"]);e!==void 0&&oe!=null&&d(e,["setup","contextWindowCompression"],oe);const pe=c(i,["proactivity"]);return e!==void 0&&pe!=null&&d(e,["setup","proactivity"],pe),r}function Lv(i,e){const r={},a=c(i,["generationConfig"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig"],kv(a));const u=c(i,["responseModalities"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","responseModalities"],u);const p=c(i,["temperature"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","temperature"],p);const m=c(i,["topP"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","topP"],m);const v=c(i,["topK"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","topK"],v);const y=c(i,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const T=c(i,["mediaResolution"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","mediaResolution"],T);const C=c(i,["seed"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","seed"],C);const S=c(i,["speechConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","speechConfig"],_p(Nc(S)));const N=c(i,["thinkingConfig"]);e!==void 0&&N!=null&&d(e,["setup","generationConfig","thinkingConfig"],N);const M=c(i,["enableAffectiveDialog"]);e!==void 0&&M!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],M);const q=c(i,["systemInstruction"]);e!==void 0&&q!=null&&d(e,["setup","systemInstruction"],Nt(q));const B=c(i,["tools"]);if(e!==void 0&&B!=null){let he=Nr(B);Array.isArray(he)&&(he=he.map(se=>Ov(Ir(se)))),d(e,["setup","tools"],he)}const J=c(i,["sessionResumption"]);e!==void 0&&J!=null&&d(e,["setup","sessionResumption"],J);const Y=c(i,["inputAudioTranscription"]);e!==void 0&&Y!=null&&d(e,["setup","inputAudioTranscription"],Y);const te=c(i,["outputAudioTranscription"]);e!==void 0&&te!=null&&d(e,["setup","outputAudioTranscription"],te);const j=c(i,["realtimeInputConfig"]);e!==void 0&&j!=null&&d(e,["setup","realtimeInputConfig"],j);const oe=c(i,["contextWindowCompression"]);e!==void 0&&oe!=null&&d(e,["setup","contextWindowCompression"],oe);const pe=c(i,["proactivity"]);return e!==void 0&&pe!=null&&d(e,["setup","proactivity"],pe),r}function Dv(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["setup","model"],qe(i,a));const u=c(e,["config"]);return u!=null&&d(r,["config"],Rv(u,r)),r}function Fv(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["setup","model"],qe(i,a));const u=c(e,["config"]);return u!=null&&d(r,["config"],Lv(u,r)),r}function Uv(i){const e={},r=c(i,["musicGenerationConfig"]);return r!=null&&d(e,["musicGenerationConfig"],r),e}function Bv(i){const e={},r=c(i,["weightedPrompts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),d(e,["weightedPrompts"],a)}return e}function zv(i){const e={},r=c(i,["media"]);if(r!=null){let T=op(r);Array.isArray(T)&&(T=T.map(C=>dl(C))),d(e,["mediaChunks"],T)}const a=c(i,["audio"]);a!=null&&d(e,["audio"],dl(sp(a)));const u=c(i,["audioStreamEnd"]);u!=null&&d(e,["audioStreamEnd"],u);const p=c(i,["video"]);p!=null&&d(e,["video"],dl(rp(p)));const m=c(i,["text"]);m!=null&&d(e,["text"],m);const v=c(i,["activityStart"]);v!=null&&d(e,["activityStart"],v);const y=c(i,["activityEnd"]);return y!=null&&d(e,["activityEnd"],y),e}function Vv(i){const e={},r=c(i,["media"]);if(r!=null){let T=op(r);Array.isArray(T)&&(T=T.map(C=>C)),d(e,["mediaChunks"],T)}const a=c(i,["audio"]);a!=null&&d(e,["audio"],sp(a));const u=c(i,["audioStreamEnd"]);u!=null&&d(e,["audioStreamEnd"],u);const p=c(i,["video"]);p!=null&&d(e,["video"],rp(p));const m=c(i,["text"]);m!=null&&d(e,["text"],m);const v=c(i,["activityStart"]);v!=null&&d(e,["activityStart"],v);const y=c(i,["activityEnd"]);return y!=null&&d(e,["activityEnd"],y),e}function Hv(i){const e={},r=c(i,["setupComplete"]);r!=null&&d(e,["setupComplete"],r);const a=c(i,["serverContent"]);a!=null&&d(e,["serverContent"],a);const u=c(i,["toolCall"]);u!=null&&d(e,["toolCall"],u);const p=c(i,["toolCallCancellation"]);p!=null&&d(e,["toolCallCancellation"],p);const m=c(i,["usageMetadata"]);m!=null&&d(e,["usageMetadata"],Wv(m));const v=c(i,["goAway"]);v!=null&&d(e,["goAway"],v);const y=c(i,["sessionResumptionUpdate"]);return y!=null&&d(e,["sessionResumptionUpdate"],y),e}function bv(i){const e={},r=c(i,["functionCall"]);r!=null&&d(e,["functionCall"],r);const a=c(i,["codeExecutionResult"]);a!=null&&d(e,["codeExecutionResult"],a);const u=c(i,["executableCode"]);u!=null&&d(e,["executableCode"],u);const p=c(i,["fileData"]);p!=null&&d(e,["fileData"],Iv(p));const m=c(i,["functionResponse"]);m!=null&&d(e,["functionResponse"],m);const v=c(i,["inlineData"]);v!=null&&d(e,["inlineData"],dl(v));const y=c(i,["text"]);y!=null&&d(e,["text"],y);const T=c(i,["thought"]);T!=null&&d(e,["thought"],T);const C=c(i,["thoughtSignature"]);C!=null&&d(e,["thoughtSignature"],C);const S=c(i,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function Gv(i){const e={},r=c(i,["handle"]);if(r!=null&&d(e,["handle"],r),c(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _p(i){const e={},r=c(i,["languageCode"]);r!=null&&d(e,["languageCode"],r);const a=c(i,["voiceConfig"]);if(a!=null&&d(e,["voiceConfig"],a),c(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function qv(i){const e={},r=c(i,["functionDeclarations"]);if(r!=null){let C=r;Array.isArray(C)&&(C=C.map(S=>S)),d(e,["functionDeclarations"],C)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=c(i,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],a);const u=c(i,["computerUse"]);u!=null&&d(e,["computerUse"],u);const p=c(i,["fileSearch"]);p!=null&&d(e,["fileSearch"],p);const m=c(i,["codeExecution"]);if(m!=null&&d(e,["codeExecution"],m),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const v=c(i,["googleMaps"]);v!=null&&d(e,["googleMaps"],Av(v));const y=c(i,["googleSearch"]);y!=null&&d(e,["googleSearch"],Mv(y));const T=c(i,["urlContext"]);return T!=null&&d(e,["urlContext"],T),e}function Ov(i){const e={},r=c(i,["functionDeclarations"]);if(r!=null){let S=r;Array.isArray(S)&&(S=S.map(N=>Nv(N))),d(e,["functionDeclarations"],S)}const a=c(i,["retrieval"]);a!=null&&d(e,["retrieval"],a);const u=c(i,["googleSearchRetrieval"]);u!=null&&d(e,["googleSearchRetrieval"],u);const p=c(i,["computerUse"]);if(p!=null&&d(e,["computerUse"],p),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=c(i,["codeExecution"]);m!=null&&d(e,["codeExecution"],m);const v=c(i,["enterpriseWebSearch"]);v!=null&&d(e,["enterpriseWebSearch"],v);const y=c(i,["googleMaps"]);y!=null&&d(e,["googleMaps"],y);const T=c(i,["googleSearch"]);T!=null&&d(e,["googleSearch"],T);const C=c(i,["urlContext"]);return C!=null&&d(e,["urlContext"],C),e}function Wv(i){const e={},r=c(i,["promptTokenCount"]);r!=null&&d(e,["promptTokenCount"],r);const a=c(i,["cachedContentTokenCount"]);a!=null&&d(e,["cachedContentTokenCount"],a);const u=c(i,["candidatesTokenCount"]);u!=null&&d(e,["responseTokenCount"],u);const p=c(i,["toolUsePromptTokenCount"]);p!=null&&d(e,["toolUsePromptTokenCount"],p);const m=c(i,["thoughtsTokenCount"]);m!=null&&d(e,["thoughtsTokenCount"],m);const v=c(i,["totalTokenCount"]);v!=null&&d(e,["totalTokenCount"],v);const y=c(i,["promptTokensDetails"]);if(y!=null){let M=y;Array.isArray(M)&&(M=M.map(q=>q)),d(e,["promptTokensDetails"],M)}const T=c(i,["cacheTokensDetails"]);if(T!=null){let M=T;Array.isArray(M)&&(M=M.map(q=>q)),d(e,["cacheTokensDetails"],M)}const C=c(i,["candidatesTokensDetails"]);if(C!=null){let M=C;Array.isArray(M)&&(M=M.map(q=>q)),d(e,["responseTokensDetails"],M)}const S=c(i,["toolUsePromptTokensDetails"]);if(S!=null){let M=S;Array.isArray(M)&&(M=M.map(q=>q)),d(e,["toolUsePromptTokensDetails"],M)}const N=c(i,["trafficType"]);return N!=null&&d(e,["trafficType"],N),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zv(i){const e={},r=c(i,["data"]);if(r!=null&&d(e,["data"],r),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(i,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function Jv(i){const e={},r=c(i,["content"]);r!=null&&d(e,["content"],r);const a=c(i,["citationMetadata"]);a!=null&&d(e,["citationMetadata"],Kv(a));const u=c(i,["tokenCount"]);u!=null&&d(e,["tokenCount"],u);const p=c(i,["finishReason"]);p!=null&&d(e,["finishReason"],p);const m=c(i,["avgLogprobs"]);m!=null&&d(e,["avgLogprobs"],m);const v=c(i,["groundingMetadata"]);v!=null&&d(e,["groundingMetadata"],v);const y=c(i,["index"]);y!=null&&d(e,["index"],y);const T=c(i,["logprobsResult"]);T!=null&&d(e,["logprobsResult"],T);const C=c(i,["safetyRatings"]);if(C!=null){let N=C;Array.isArray(N)&&(N=N.map(M=>M)),d(e,["safetyRatings"],N)}const S=c(i,["urlContextMetadata"]);return S!=null&&d(e,["urlContextMetadata"],S),e}function Kv(i){const e={},r=c(i,["citationSources"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),d(e,["citations"],a)}return e}function Yv(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],qe(i,a));const u=c(e,["contents"]);if(u!=null){let p=hn(u);Array.isArray(p)&&(p=p.map(m=>m)),d(r,["contents"],p)}return r}function $v(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["tokensInfo"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(p=>p)),d(e,["tokensInfo"],u)}return e}function Qv(i){const e={},r=c(i,["values"]);r!=null&&d(e,["values"],r);const a=c(i,["statistics"]);return a!=null&&d(e,["statistics"],Xv(a)),e}function Xv(i){const e={},r=c(i,["truncated"]);r!=null&&d(e,["truncated"],r);const a=c(i,["token_count"]);return a!=null&&d(e,["tokenCount"],a),e}function Tl(i){const e={},r=c(i,["parts"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(p=>i0(p))),d(e,["parts"],u)}const a=c(i,["role"]);return a!=null&&d(e,["role"],a),e}function jv(i){const e={},r=c(i,["controlType"]);r!=null&&d(e,["controlType"],r);const a=c(i,["enableControlImageComputation"]);return a!=null&&d(e,["computeControl"],a),e}function ey(i){const e={};if(c(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function ty(i,e){const r={},a=c(i,["systemInstruction"]);e!==void 0&&a!=null&&d(e,["systemInstruction"],Nt(a));const u=c(i,["tools"]);if(e!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(v=>Cp(v))),d(e,["tools"],m)}const p=c(i,["generationConfig"]);return e!==void 0&&p!=null&&d(e,["generationConfig"],Oy(p)),r}function ny(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],qe(i,a));const u=c(e,["contents"]);if(u!=null){let m=hn(u);Array.isArray(m)&&(m=m.map(v=>Tl(v))),d(r,["contents"],m)}const p=c(e,["config"]);return p!=null&&ey(p),r}function iy(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],qe(i,a));const u=c(e,["contents"]);if(u!=null){let m=hn(u);Array.isArray(m)&&(m=m.map(v=>v)),d(r,["contents"],m)}const p=c(e,["config"]);return p!=null&&ty(p,r),r}function oy(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["totalTokens"]);a!=null&&d(e,["totalTokens"],a);const u=c(i,["cachedContentTokenCount"]);return u!=null&&d(e,["cachedContentTokenCount"],u),e}function ry(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["totalTokens"]);return a!=null&&d(e,["totalTokens"],a),e}function sy(i,e){const r={},a=c(e,["model"]);return a!=null&&d(r,["_url","name"],qe(i,a)),r}function ay(i,e){const r={},a=c(e,["model"]);return a!=null&&d(r,["_url","name"],qe(i,a)),r}function ly(i){const e={},r=c(i,["sdkHttpResponse"]);return r!=null&&d(e,["sdkHttpResponse"],r),e}function uy(i){const e={},r=c(i,["sdkHttpResponse"]);return r!=null&&d(e,["sdkHttpResponse"],r),e}function cy(i,e){const r={},a=c(i,["outputGcsUri"]);e!==void 0&&a!=null&&d(e,["parameters","storageUri"],a);const u=c(i,["negativePrompt"]);e!==void 0&&u!=null&&d(e,["parameters","negativePrompt"],u);const p=c(i,["numberOfImages"]);e!==void 0&&p!=null&&d(e,["parameters","sampleCount"],p);const m=c(i,["aspectRatio"]);e!==void 0&&m!=null&&d(e,["parameters","aspectRatio"],m);const v=c(i,["guidanceScale"]);e!==void 0&&v!=null&&d(e,["parameters","guidanceScale"],v);const y=c(i,["seed"]);e!==void 0&&y!=null&&d(e,["parameters","seed"],y);const T=c(i,["safetyFilterLevel"]);e!==void 0&&T!=null&&d(e,["parameters","safetySetting"],T);const C=c(i,["personGeneration"]);e!==void 0&&C!=null&&d(e,["parameters","personGeneration"],C);const S=c(i,["includeSafetyAttributes"]);e!==void 0&&S!=null&&d(e,["parameters","includeSafetyAttributes"],S);const N=c(i,["includeRaiReason"]);e!==void 0&&N!=null&&d(e,["parameters","includeRaiReason"],N);const M=c(i,["language"]);e!==void 0&&M!=null&&d(e,["parameters","language"],M);const q=c(i,["outputMimeType"]);e!==void 0&&q!=null&&d(e,["parameters","outputOptions","mimeType"],q);const B=c(i,["outputCompressionQuality"]);e!==void 0&&B!=null&&d(e,["parameters","outputOptions","compressionQuality"],B);const J=c(i,["addWatermark"]);e!==void 0&&J!=null&&d(e,["parameters","addWatermark"],J);const Y=c(i,["labels"]);e!==void 0&&Y!=null&&d(e,["labels"],Y);const te=c(i,["editMode"]);e!==void 0&&te!=null&&d(e,["parameters","editMode"],te);const j=c(i,["baseSteps"]);return e!==void 0&&j!=null&&d(e,["parameters","editConfig","baseSteps"],j),r}function dy(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],qe(i,a));const u=c(e,["prompt"]);u!=null&&d(r,["instances[0]","prompt"],u);const p=c(e,["referenceImages"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(y=>u0(y))),d(r,["instances[0]","referenceImages"],v)}const m=c(e,["config"]);return m!=null&&cy(m,r),r}function fy(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(p=>wl(p))),d(e,["generatedImages"],u)}return e}function hy(i,e){const r={},a=c(i,["taskType"]);e!==void 0&&a!=null&&d(e,["requests[]","taskType"],a);const u=c(i,["title"]);e!==void 0&&u!=null&&d(e,["requests[]","title"],u);const p=c(i,["outputDimensionality"]);if(e!==void 0&&p!=null&&d(e,["requests[]","outputDimensionality"],p),c(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function py(i,e){const r={},a=c(i,["taskType"]);e!==void 0&&a!=null&&d(e,["instances[]","task_type"],a);const u=c(i,["title"]);e!==void 0&&u!=null&&d(e,["instances[]","title"],u);const p=c(i,["outputDimensionality"]);e!==void 0&&p!=null&&d(e,["parameters","outputDimensionality"],p);const m=c(i,["mimeType"]);e!==void 0&&m!=null&&d(e,["instances[]","mimeType"],m);const v=c(i,["autoTruncate"]);return e!==void 0&&v!=null&&d(e,["parameters","autoTruncate"],v),r}function my(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],qe(i,a));const u=c(e,["contents"]);if(u!=null){let v=Ec(i,u);Array.isArray(v)&&(v=v.map(y=>y)),d(r,["requests[]","content"],v)}const p=c(e,["config"]);p!=null&&hy(p,r);const m=c(e,["model"]);return m!==void 0&&d(r,["requests[]","model"],qe(i,m)),r}function gy(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],qe(i,a));const u=c(e,["contents"]);if(u!=null){let m=Ec(i,u);Array.isArray(m)&&(m=m.map(v=>v)),d(r,["instances[]","content"],m)}const p=c(e,["config"]);return p!=null&&py(p,r),r}function _y(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["embeddings"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>m)),d(e,["embeddings"],p)}const u=c(i,["metadata"]);return u!=null&&d(e,["metadata"],u),e}function vy(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["predictions[]","embeddings"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>Qv(m))),d(e,["embeddings"],p)}const u=c(i,["metadata"]);return u!=null&&d(e,["metadata"],u),e}function yy(i){const e={},r=c(i,["endpoint"]);r!=null&&d(e,["name"],r);const a=c(i,["deployedModelId"]);return a!=null&&d(e,["deployedModelId"],a),e}function Ty(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(i,["fileUri"]);r!=null&&d(e,["fileUri"],r);const a=c(i,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function wy(i){const e={};if(c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=c(i,["description"]);r!=null&&d(e,["description"],r);const a=c(i,["name"]);a!=null&&d(e,["name"],a);const u=c(i,["parameters"]);u!=null&&d(e,["parameters"],u);const p=c(i,["parametersJsonSchema"]);p!=null&&d(e,["parametersJsonSchema"],p);const m=c(i,["response"]);m!=null&&d(e,["response"],m);const v=c(i,["responseJsonSchema"]);return v!=null&&d(e,["responseJsonSchema"],v),e}function Cy(i,e,r){const a={},u=c(e,["systemInstruction"]);r!==void 0&&u!=null&&d(r,["systemInstruction"],Tl(Nt(u)));const p=c(e,["temperature"]);p!=null&&d(a,["temperature"],p);const m=c(e,["topP"]);m!=null&&d(a,["topP"],m);const v=c(e,["topK"]);v!=null&&d(a,["topK"],v);const y=c(e,["candidateCount"]);y!=null&&d(a,["candidateCount"],y);const T=c(e,["maxOutputTokens"]);T!=null&&d(a,["maxOutputTokens"],T);const C=c(e,["stopSequences"]);C!=null&&d(a,["stopSequences"],C);const S=c(e,["responseLogprobs"]);S!=null&&d(a,["responseLogprobs"],S);const N=c(e,["logprobs"]);N!=null&&d(a,["logprobs"],N);const M=c(e,["presencePenalty"]);M!=null&&d(a,["presencePenalty"],M);const q=c(e,["frequencyPenalty"]);q!=null&&d(a,["frequencyPenalty"],q);const B=c(e,["seed"]);B!=null&&d(a,["seed"],B);const J=c(e,["responseMimeType"]);J!=null&&d(a,["responseMimeType"],J);const Y=c(e,["responseSchema"]);Y!=null&&d(a,["responseSchema"],Pc(Y));const te=c(e,["responseJsonSchema"]);if(te!=null&&d(a,["responseJsonSchema"],te),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=c(e,["safetySettings"]);if(r!==void 0&&j!=null){let Q=j;Array.isArray(Q)&&(Q=Q.map(ue=>c0(ue))),d(r,["safetySettings"],Q)}const oe=c(e,["tools"]);if(r!==void 0&&oe!=null){let Q=Nr(oe);Array.isArray(Q)&&(Q=Q.map(ue=>g0(Ir(ue)))),d(r,["tools"],Q)}const pe=c(e,["toolConfig"]);if(r!==void 0&&pe!=null&&d(r,["toolConfig"],pe),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const he=c(e,["cachedContent"]);r!==void 0&&he!=null&&d(r,["cachedContent"],ci(i,he));const se=c(e,["responseModalities"]);se!=null&&d(a,["responseModalities"],se);const Le=c(e,["mediaResolution"]);Le!=null&&d(a,["mediaResolution"],Le);const de=c(e,["speechConfig"]);if(de!=null&&d(a,["speechConfig"],Ic(de)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Se=c(e,["thinkingConfig"]);Se!=null&&d(a,["thinkingConfig"],Se);const Ie=c(e,["imageConfig"]);return Ie!=null&&d(a,["imageConfig"],Ie),a}function xy(i,e,r){const a={},u=c(e,["systemInstruction"]);r!==void 0&&u!=null&&d(r,["systemInstruction"],Nt(u));const p=c(e,["temperature"]);p!=null&&d(a,["temperature"],p);const m=c(e,["topP"]);m!=null&&d(a,["topP"],m);const v=c(e,["topK"]);v!=null&&d(a,["topK"],v);const y=c(e,["candidateCount"]);y!=null&&d(a,["candidateCount"],y);const T=c(e,["maxOutputTokens"]);T!=null&&d(a,["maxOutputTokens"],T);const C=c(e,["stopSequences"]);C!=null&&d(a,["stopSequences"],C);const S=c(e,["responseLogprobs"]);S!=null&&d(a,["responseLogprobs"],S);const N=c(e,["logprobs"]);N!=null&&d(a,["logprobs"],N);const M=c(e,["presencePenalty"]);M!=null&&d(a,["presencePenalty"],M);const q=c(e,["frequencyPenalty"]);q!=null&&d(a,["frequencyPenalty"],q);const B=c(e,["seed"]);B!=null&&d(a,["seed"],B);const J=c(e,["responseMimeType"]);J!=null&&d(a,["responseMimeType"],J);const Y=c(e,["responseSchema"]);Y!=null&&d(a,["responseSchema"],Pc(Y));const te=c(e,["responseJsonSchema"]);te!=null&&d(a,["responseJsonSchema"],te);const j=c(e,["routingConfig"]);j!=null&&d(a,["routingConfig"],j);const oe=c(e,["modelSelectionConfig"]);oe!=null&&d(a,["modelConfig"],oe);const pe=c(e,["safetySettings"]);if(r!==void 0&&pe!=null){let Re=pe;Array.isArray(Re)&&(Re=Re.map(me=>me)),d(r,["safetySettings"],Re)}const he=c(e,["tools"]);if(r!==void 0&&he!=null){let Re=Nr(he);Array.isArray(Re)&&(Re=Re.map(me=>Cp(Ir(me)))),d(r,["tools"],Re)}const se=c(e,["toolConfig"]);r!==void 0&&se!=null&&d(r,["toolConfig"],se);const Le=c(e,["labels"]);r!==void 0&&Le!=null&&d(r,["labels"],Le);const de=c(e,["cachedContent"]);r!==void 0&&de!=null&&d(r,["cachedContent"],ci(i,de));const Se=c(e,["responseModalities"]);Se!=null&&d(a,["responseModalities"],Se);const Ie=c(e,["mediaResolution"]);Ie!=null&&d(a,["mediaResolution"],Ie);const Q=c(e,["speechConfig"]);Q!=null&&d(a,["speechConfig"],wp(Ic(Q)));const ue=c(e,["audioTimestamp"]);ue!=null&&d(a,["audioTimestamp"],ue);const Fe=c(e,["thinkingConfig"]);Fe!=null&&d(a,["thinkingConfig"],Fe);const je=c(e,["imageConfig"]);return je!=null&&d(a,["imageConfig"],je),a}function Ah(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],qe(i,a));const u=c(e,["contents"]);if(u!=null){let m=hn(u);Array.isArray(m)&&(m=m.map(v=>Tl(v))),d(r,["contents"],m)}const p=c(e,["config"]);return p!=null&&d(r,["generationConfig"],Cy(i,p,r)),r}function Mh(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],qe(i,a));const u=c(e,["contents"]);if(u!=null){let m=hn(u);Array.isArray(m)&&(m=m.map(v=>v)),d(r,["contents"],m)}const p=c(e,["config"]);return p!=null&&d(r,["generationConfig"],xy(i,p,r)),r}function Rh(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(T=>Jv(T))),d(e,["candidates"],y)}const u=c(i,["modelVersion"]);u!=null&&d(e,["modelVersion"],u);const p=c(i,["promptFeedback"]);p!=null&&d(e,["promptFeedback"],p);const m=c(i,["responseId"]);m!=null&&d(e,["responseId"],m);const v=c(i,["usageMetadata"]);return v!=null&&d(e,["usageMetadata"],v),e}function Lh(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["candidates"]);if(a!=null){let T=a;Array.isArray(T)&&(T=T.map(C=>C)),d(e,["candidates"],T)}const u=c(i,["createTime"]);u!=null&&d(e,["createTime"],u);const p=c(i,["modelVersion"]);p!=null&&d(e,["modelVersion"],p);const m=c(i,["promptFeedback"]);m!=null&&d(e,["promptFeedback"],m);const v=c(i,["responseId"]);v!=null&&d(e,["responseId"],v);const y=c(i,["usageMetadata"]);return y!=null&&d(e,["usageMetadata"],y),e}function Sy(i,e){const r={};if(c(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=c(i,["numberOfImages"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const u=c(i,["aspectRatio"]);e!==void 0&&u!=null&&d(e,["parameters","aspectRatio"],u);const p=c(i,["guidanceScale"]);if(e!==void 0&&p!=null&&d(e,["parameters","guidanceScale"],p),c(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=c(i,["safetyFilterLevel"]);e!==void 0&&m!=null&&d(e,["parameters","safetySetting"],m);const v=c(i,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const y=c(i,["includeSafetyAttributes"]);e!==void 0&&y!=null&&d(e,["parameters","includeSafetyAttributes"],y);const T=c(i,["includeRaiReason"]);e!==void 0&&T!=null&&d(e,["parameters","includeRaiReason"],T);const C=c(i,["language"]);e!==void 0&&C!=null&&d(e,["parameters","language"],C);const S=c(i,["outputMimeType"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","mimeType"],S);const N=c(i,["outputCompressionQuality"]);if(e!==void 0&&N!=null&&d(e,["parameters","outputOptions","compressionQuality"],N),c(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=c(i,["imageSize"]);if(e!==void 0&&M!=null&&d(e,["parameters","sampleImageSize"],M),c(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Ey(i,e){const r={},a=c(i,["outputGcsUri"]);e!==void 0&&a!=null&&d(e,["parameters","storageUri"],a);const u=c(i,["negativePrompt"]);e!==void 0&&u!=null&&d(e,["parameters","negativePrompt"],u);const p=c(i,["numberOfImages"]);e!==void 0&&p!=null&&d(e,["parameters","sampleCount"],p);const m=c(i,["aspectRatio"]);e!==void 0&&m!=null&&d(e,["parameters","aspectRatio"],m);const v=c(i,["guidanceScale"]);e!==void 0&&v!=null&&d(e,["parameters","guidanceScale"],v);const y=c(i,["seed"]);e!==void 0&&y!=null&&d(e,["parameters","seed"],y);const T=c(i,["safetyFilterLevel"]);e!==void 0&&T!=null&&d(e,["parameters","safetySetting"],T);const C=c(i,["personGeneration"]);e!==void 0&&C!=null&&d(e,["parameters","personGeneration"],C);const S=c(i,["includeSafetyAttributes"]);e!==void 0&&S!=null&&d(e,["parameters","includeSafetyAttributes"],S);const N=c(i,["includeRaiReason"]);e!==void 0&&N!=null&&d(e,["parameters","includeRaiReason"],N);const M=c(i,["language"]);e!==void 0&&M!=null&&d(e,["parameters","language"],M);const q=c(i,["outputMimeType"]);e!==void 0&&q!=null&&d(e,["parameters","outputOptions","mimeType"],q);const B=c(i,["outputCompressionQuality"]);e!==void 0&&B!=null&&d(e,["parameters","outputOptions","compressionQuality"],B);const J=c(i,["addWatermark"]);e!==void 0&&J!=null&&d(e,["parameters","addWatermark"],J);const Y=c(i,["labels"]);e!==void 0&&Y!=null&&d(e,["labels"],Y);const te=c(i,["imageSize"]);e!==void 0&&te!=null&&d(e,["parameters","sampleImageSize"],te);const j=c(i,["enhancePrompt"]);return e!==void 0&&j!=null&&d(e,["parameters","enhancePrompt"],j),r}function Py(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],qe(i,a));const u=c(e,["prompt"]);u!=null&&d(r,["instances[0]","prompt"],u);const p=c(e,["config"]);return p!=null&&Sy(p,r),r}function Iy(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],qe(i,a));const u=c(e,["prompt"]);u!=null&&d(r,["instances[0]","prompt"],u);const p=c(e,["config"]);return p!=null&&Ey(p,r),r}function Ny(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["predictions"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>Hy(m))),d(e,["generatedImages"],p)}const u=c(i,["positivePromptSafetyAttributes"]);return u!=null&&d(e,["positivePromptSafetyAttributes"],yp(u)),e}function ky(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["predictions"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>wl(m))),d(e,["generatedImages"],p)}const u=c(i,["positivePromptSafetyAttributes"]);return u!=null&&d(e,["positivePromptSafetyAttributes"],Tp(u)),e}function Ay(i,e){const r={},a=c(i,["numberOfVideos"]);if(e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a),c(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=c(i,["durationSeconds"]);if(e!==void 0&&u!=null&&d(e,["parameters","durationSeconds"],u),c(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=c(i,["aspectRatio"]);e!==void 0&&p!=null&&d(e,["parameters","aspectRatio"],p);const m=c(i,["resolution"]);e!==void 0&&m!=null&&d(e,["parameters","resolution"],m);const v=c(i,["personGeneration"]);if(e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v),c(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(i,["negativePrompt"]);e!==void 0&&y!=null&&d(e,["parameters","negativePrompt"],y);const T=c(i,["enhancePrompt"]);if(e!==void 0&&T!=null&&d(e,["parameters","enhancePrompt"],T),c(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const C=c(i,["lastFrame"]);e!==void 0&&C!=null&&d(e,["instances[0]","lastFrame"],Cl(C));const S=c(i,["referenceImages"]);if(e!==void 0&&S!=null){let N=S;Array.isArray(N)&&(N=N.map(M=>k0(M))),d(e,["instances[0]","referenceImages"],N)}if(c(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function My(i,e){const r={},a=c(i,["numberOfVideos"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const u=c(i,["outputGcsUri"]);e!==void 0&&u!=null&&d(e,["parameters","storageUri"],u);const p=c(i,["fps"]);e!==void 0&&p!=null&&d(e,["parameters","fps"],p);const m=c(i,["durationSeconds"]);e!==void 0&&m!=null&&d(e,["parameters","durationSeconds"],m);const v=c(i,["seed"]);e!==void 0&&v!=null&&d(e,["parameters","seed"],v);const y=c(i,["aspectRatio"]);e!==void 0&&y!=null&&d(e,["parameters","aspectRatio"],y);const T=c(i,["resolution"]);e!==void 0&&T!=null&&d(e,["parameters","resolution"],T);const C=c(i,["personGeneration"]);e!==void 0&&C!=null&&d(e,["parameters","personGeneration"],C);const S=c(i,["pubsubTopic"]);e!==void 0&&S!=null&&d(e,["parameters","pubsubTopic"],S);const N=c(i,["negativePrompt"]);e!==void 0&&N!=null&&d(e,["parameters","negativePrompt"],N);const M=c(i,["enhancePrompt"]);e!==void 0&&M!=null&&d(e,["parameters","enhancePrompt"],M);const q=c(i,["generateAudio"]);e!==void 0&&q!=null&&d(e,["parameters","generateAudio"],q);const B=c(i,["lastFrame"]);e!==void 0&&B!=null&&d(e,["instances[0]","lastFrame"],En(B));const J=c(i,["referenceImages"]);if(e!==void 0&&J!=null){let j=J;Array.isArray(j)&&(j=j.map(oe=>A0(oe))),d(e,["instances[0]","referenceImages"],j)}const Y=c(i,["mask"]);e!==void 0&&Y!=null&&d(e,["instances[0]","mask"],N0(Y));const te=c(i,["compressionQuality"]);return e!==void 0&&te!=null&&d(e,["parameters","compressionQuality"],te),r}function Ry(i){const e={},r=c(i,["name"]);r!=null&&d(e,["name"],r);const a=c(i,["metadata"]);a!=null&&d(e,["metadata"],a);const u=c(i,["done"]);u!=null&&d(e,["done"],u);const p=c(i,["error"]);p!=null&&d(e,["error"],p);const m=c(i,["response","generateVideoResponse"]);return m!=null&&d(e,["response"],Uy(m)),e}function Ly(i){const e={},r=c(i,["name"]);r!=null&&d(e,["name"],r);const a=c(i,["metadata"]);a!=null&&d(e,["metadata"],a);const u=c(i,["done"]);u!=null&&d(e,["done"],u);const p=c(i,["error"]);p!=null&&d(e,["error"],p);const m=c(i,["response"]);return m!=null&&d(e,["response"],By(m)),e}function Dy(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],qe(i,a));const u=c(e,["prompt"]);u!=null&&d(r,["instances[0]","prompt"],u);const p=c(e,["image"]);p!=null&&d(r,["instances[0]","image"],Cl(p));const m=c(e,["video"]);m!=null&&d(r,["instances[0]","video"],xp(m));const v=c(e,["source"]);v!=null&&zy(v,r);const y=c(e,["config"]);return y!=null&&Ay(y,r),r}function Fy(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],qe(i,a));const u=c(e,["prompt"]);u!=null&&d(r,["instances[0]","prompt"],u);const p=c(e,["image"]);p!=null&&d(r,["instances[0]","image"],En(p));const m=c(e,["video"]);m!=null&&d(r,["instances[0]","video"],Sp(m));const v=c(e,["source"]);v!=null&&Vy(v,r);const y=c(e,["config"]);return y!=null&&My(y,r),r}function Uy(i){const e={},r=c(i,["generatedSamples"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>Gy(m))),d(e,["generatedVideos"],p)}const a=c(i,["raiMediaFilteredCount"]);a!=null&&d(e,["raiMediaFilteredCount"],a);const u=c(i,["raiMediaFilteredReasons"]);return u!=null&&d(e,["raiMediaFilteredReasons"],u),e}function By(i){const e={},r=c(i,["videos"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>qy(m))),d(e,["generatedVideos"],p)}const a=c(i,["raiMediaFilteredCount"]);a!=null&&d(e,["raiMediaFilteredCount"],a);const u=c(i,["raiMediaFilteredReasons"]);return u!=null&&d(e,["raiMediaFilteredReasons"],u),e}function zy(i,e){const r={},a=c(i,["prompt"]);e!==void 0&&a!=null&&d(e,["instances[0]","prompt"],a);const u=c(i,["image"]);e!==void 0&&u!=null&&d(e,["instances[0]","image"],Cl(u));const p=c(i,["video"]);return e!==void 0&&p!=null&&d(e,["instances[0]","video"],xp(p)),r}function Vy(i,e){const r={},a=c(i,["prompt"]);e!==void 0&&a!=null&&d(e,["instances[0]","prompt"],a);const u=c(i,["image"]);e!==void 0&&u!=null&&d(e,["instances[0]","image"],En(u));const p=c(i,["video"]);return e!==void 0&&p!=null&&d(e,["instances[0]","video"],Sp(p)),r}function Hy(i){const e={},r=c(i,["_self"]);r!=null&&d(e,["image"],Yy(r));const a=c(i,["raiFilteredReason"]);a!=null&&d(e,["raiFilteredReason"],a);const u=c(i,["_self"]);return u!=null&&d(e,["safetyAttributes"],yp(u)),e}function wl(i){const e={},r=c(i,["_self"]);r!=null&&d(e,["image"],vp(r));const a=c(i,["raiFilteredReason"]);a!=null&&d(e,["raiFilteredReason"],a);const u=c(i,["_self"]);u!=null&&d(e,["safetyAttributes"],Tp(u));const p=c(i,["prompt"]);return p!=null&&d(e,["enhancedPrompt"],p),e}function by(i){const e={},r=c(i,["_self"]);r!=null&&d(e,["mask"],vp(r));const a=c(i,["labels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(p=>p)),d(e,["labels"],u)}return e}function Gy(i){const e={},r=c(i,["video"]);return r!=null&&d(e,["video"],P0(r)),e}function qy(i){const e={},r=c(i,["_self"]);return r!=null&&d(e,["video"],I0(r)),e}function Oy(i){const e={},r=c(i,["modelSelectionConfig"]);r!=null&&d(e,["modelConfig"],r);const a=c(i,["responseJsonSchema"]);a!=null&&d(e,["responseJsonSchema"],a);const u=c(i,["audioTimestamp"]);u!=null&&d(e,["audioTimestamp"],u);const p=c(i,["candidateCount"]);p!=null&&d(e,["candidateCount"],p);const m=c(i,["enableAffectiveDialog"]);m!=null&&d(e,["enableAffectiveDialog"],m);const v=c(i,["frequencyPenalty"]);v!=null&&d(e,["frequencyPenalty"],v);const y=c(i,["logprobs"]);y!=null&&d(e,["logprobs"],y);const T=c(i,["maxOutputTokens"]);T!=null&&d(e,["maxOutputTokens"],T);const C=c(i,["mediaResolution"]);C!=null&&d(e,["mediaResolution"],C);const S=c(i,["presencePenalty"]);S!=null&&d(e,["presencePenalty"],S);const N=c(i,["responseLogprobs"]);N!=null&&d(e,["responseLogprobs"],N);const M=c(i,["responseMimeType"]);M!=null&&d(e,["responseMimeType"],M);const q=c(i,["responseModalities"]);q!=null&&d(e,["responseModalities"],q);const B=c(i,["responseSchema"]);B!=null&&d(e,["responseSchema"],B);const J=c(i,["routingConfig"]);J!=null&&d(e,["routingConfig"],J);const Y=c(i,["seed"]);Y!=null&&d(e,["seed"],Y);const te=c(i,["speechConfig"]);te!=null&&d(e,["speechConfig"],wp(te));const j=c(i,["stopSequences"]);j!=null&&d(e,["stopSequences"],j);const oe=c(i,["temperature"]);oe!=null&&d(e,["temperature"],oe);const pe=c(i,["thinkingConfig"]);pe!=null&&d(e,["thinkingConfig"],pe);const he=c(i,["topK"]);he!=null&&d(e,["topK"],he);const se=c(i,["topP"]);if(se!=null&&d(e,["topP"],se),c(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Wy(i,e){const r={},a=c(e,["model"]);return a!=null&&d(r,["_url","name"],qe(i,a)),r}function Zy(i,e){const r={},a=c(e,["model"]);return a!=null&&d(r,["_url","name"],qe(i,a)),r}function Jy(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=c(i,["enableWidget"]);return r!=null&&d(e,["enableWidget"],r),e}function Ky(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=c(i,["timeRangeFilter"]);return r!=null&&d(e,["timeRangeFilter"],r),e}function Yy(i){const e={},r=c(i,["bytesBase64Encoded"]);r!=null&&d(e,["imageBytes"],$i(r));const a=c(i,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function vp(i){const e={},r=c(i,["gcsUri"]);r!=null&&d(e,["gcsUri"],r);const a=c(i,["bytesBase64Encoded"]);a!=null&&d(e,["imageBytes"],$i(a));const u=c(i,["mimeType"]);return u!=null&&d(e,["mimeType"],u),e}function Cl(i){const e={};if(c(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=c(i,["imageBytes"]);r!=null&&d(e,["bytesBase64Encoded"],$i(r));const a=c(i,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function En(i){const e={},r=c(i,["gcsUri"]);r!=null&&d(e,["gcsUri"],r);const a=c(i,["imageBytes"]);a!=null&&d(e,["bytesBase64Encoded"],$i(a));const u=c(i,["mimeType"]);return u!=null&&d(e,["mimeType"],u),e}function $y(i,e,r){const a={},u=c(e,["pageSize"]);r!==void 0&&u!=null&&d(r,["_query","pageSize"],u);const p=c(e,["pageToken"]);r!==void 0&&p!=null&&d(r,["_query","pageToken"],p);const m=c(e,["filter"]);r!==void 0&&m!=null&&d(r,["_query","filter"],m);const v=c(e,["queryBase"]);return r!==void 0&&v!=null&&d(r,["_url","models_url"],cp(i,v)),a}function Qy(i,e,r){const a={},u=c(e,["pageSize"]);r!==void 0&&u!=null&&d(r,["_query","pageSize"],u);const p=c(e,["pageToken"]);r!==void 0&&p!=null&&d(r,["_query","pageToken"],p);const m=c(e,["filter"]);r!==void 0&&m!=null&&d(r,["_query","filter"],m);const v=c(e,["queryBase"]);return r!==void 0&&v!=null&&d(r,["_url","models_url"],cp(i,v)),a}function Xy(i,e){const r={},a=c(e,["config"]);return a!=null&&$y(i,a,r),r}function jy(i,e){const r={},a=c(e,["config"]);return a!=null&&Qy(i,a,r),r}function e0(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["nextPageToken"]);a!=null&&d(e,["nextPageToken"],a);const u=c(i,["_self"]);if(u!=null){let p=dp(u);Array.isArray(p)&&(p=p.map(m=>lc(m))),d(e,["models"],p)}return e}function t0(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["nextPageToken"]);a!=null&&d(e,["nextPageToken"],a);const u=c(i,["_self"]);if(u!=null){let p=dp(u);Array.isArray(p)&&(p=p.map(m=>uc(m))),d(e,["models"],p)}return e}function n0(i){const e={},r=c(i,["maskMode"]);r!=null&&d(e,["maskMode"],r);const a=c(i,["segmentationClasses"]);a!=null&&d(e,["maskClasses"],a);const u=c(i,["maskDilation"]);return u!=null&&d(e,["dilation"],u),e}function lc(i){const e={},r=c(i,["name"]);r!=null&&d(e,["name"],r);const a=c(i,["displayName"]);a!=null&&d(e,["displayName"],a);const u=c(i,["description"]);u!=null&&d(e,["description"],u);const p=c(i,["version"]);p!=null&&d(e,["version"],p);const m=c(i,["_self"]);m!=null&&d(e,["tunedModelInfo"],_0(m));const v=c(i,["inputTokenLimit"]);v!=null&&d(e,["inputTokenLimit"],v);const y=c(i,["outputTokenLimit"]);y!=null&&d(e,["outputTokenLimit"],y);const T=c(i,["supportedGenerationMethods"]);return T!=null&&d(e,["supportedActions"],T),e}function uc(i){const e={},r=c(i,["name"]);r!=null&&d(e,["name"],r);const a=c(i,["displayName"]);a!=null&&d(e,["displayName"],a);const u=c(i,["description"]);u!=null&&d(e,["description"],u);const p=c(i,["versionId"]);p!=null&&d(e,["version"],p);const m=c(i,["deployedModels"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(N=>yy(N))),d(e,["endpoints"],S)}const v=c(i,["labels"]);v!=null&&d(e,["labels"],v);const y=c(i,["_self"]);y!=null&&d(e,["tunedModelInfo"],v0(y));const T=c(i,["defaultCheckpointId"]);T!=null&&d(e,["defaultCheckpointId"],T);const C=c(i,["checkpoints"]);if(C!=null){let S=C;Array.isArray(S)&&(S=S.map(N=>N)),d(e,["checkpoints"],S)}return e}function i0(i){const e={},r=c(i,["functionCall"]);r!=null&&d(e,["functionCall"],r);const a=c(i,["codeExecutionResult"]);a!=null&&d(e,["codeExecutionResult"],a);const u=c(i,["executableCode"]);u!=null&&d(e,["executableCode"],u);const p=c(i,["fileData"]);p!=null&&d(e,["fileData"],Ty(p));const m=c(i,["functionResponse"]);m!=null&&d(e,["functionResponse"],m);const v=c(i,["inlineData"]);v!=null&&d(e,["inlineData"],Zv(v));const y=c(i,["text"]);y!=null&&d(e,["text"],y);const T=c(i,["thought"]);T!=null&&d(e,["thought"],T);const C=c(i,["thoughtSignature"]);C!=null&&d(e,["thoughtSignature"],C);const S=c(i,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function o0(i){const e={},r=c(i,["productImage"]);return r!=null&&d(e,["image"],En(r)),e}function r0(i,e){const r={},a=c(i,["numberOfImages"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const u=c(i,["baseSteps"]);e!==void 0&&u!=null&&d(e,["parameters","editConfig","baseSteps"],u);const p=c(i,["outputGcsUri"]);e!==void 0&&p!=null&&d(e,["parameters","storageUri"],p);const m=c(i,["seed"]);e!==void 0&&m!=null&&d(e,["parameters","seed"],m);const v=c(i,["safetyFilterLevel"]);e!==void 0&&v!=null&&d(e,["parameters","safetySetting"],v);const y=c(i,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const T=c(i,["addWatermark"]);e!==void 0&&T!=null&&d(e,["parameters","addWatermark"],T);const C=c(i,["outputMimeType"]);e!==void 0&&C!=null&&d(e,["parameters","outputOptions","mimeType"],C);const S=c(i,["outputCompressionQuality"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","compressionQuality"],S);const N=c(i,["enhancePrompt"]);e!==void 0&&N!=null&&d(e,["parameters","enhancePrompt"],N);const M=c(i,["labels"]);return e!==void 0&&M!=null&&d(e,["labels"],M),r}function s0(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],qe(i,a));const u=c(e,["source"]);u!=null&&l0(u,r);const p=c(e,["config"]);return p!=null&&r0(p,r),r}function a0(i){const e={},r=c(i,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>wl(u))),d(e,["generatedImages"],a)}return e}function l0(i,e){const r={},a=c(i,["prompt"]);e!==void 0&&a!=null&&d(e,["instances[0]","prompt"],a);const u=c(i,["personImage"]);e!==void 0&&u!=null&&d(e,["instances[0]","personImage","image"],En(u));const p=c(i,["productImages"]);if(e!==void 0&&p!=null){let m=p;Array.isArray(m)&&(m=m.map(v=>o0(v))),d(e,["instances[0]","productImages"],m)}return r}function u0(i){const e={},r=c(i,["referenceImage"]);r!=null&&d(e,["referenceImage"],En(r));const a=c(i,["referenceId"]);a!=null&&d(e,["referenceId"],a);const u=c(i,["referenceType"]);u!=null&&d(e,["referenceType"],u);const p=c(i,["maskImageConfig"]);p!=null&&d(e,["maskImageConfig"],n0(p));const m=c(i,["controlImageConfig"]);m!=null&&d(e,["controlImageConfig"],jv(m));const v=c(i,["styleImageConfig"]);v!=null&&d(e,["styleImageConfig"],v);const y=c(i,["subjectImageConfig"]);return y!=null&&d(e,["subjectImageConfig"],y),e}function yp(i){const e={},r=c(i,["safetyAttributes","categories"]);r!=null&&d(e,["categories"],r);const a=c(i,["safetyAttributes","scores"]);a!=null&&d(e,["scores"],a);const u=c(i,["contentType"]);return u!=null&&d(e,["contentType"],u),e}function Tp(i){const e={},r=c(i,["safetyAttributes","categories"]);r!=null&&d(e,["categories"],r);const a=c(i,["safetyAttributes","scores"]);a!=null&&d(e,["scores"],a);const u=c(i,["contentType"]);return u!=null&&d(e,["contentType"],u),e}function c0(i){const e={},r=c(i,["category"]);if(r!=null&&d(e,["category"],r),c(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=c(i,["threshold"]);return a!=null&&d(e,["threshold"],a),e}function d0(i){const e={},r=c(i,["image"]);return r!=null&&d(e,["image"],En(r)),e}function f0(i,e){const r={},a=c(i,["mode"]);e!==void 0&&a!=null&&d(e,["parameters","mode"],a);const u=c(i,["maxPredictions"]);e!==void 0&&u!=null&&d(e,["parameters","maxPredictions"],u);const p=c(i,["confidenceThreshold"]);e!==void 0&&p!=null&&d(e,["parameters","confidenceThreshold"],p);const m=c(i,["maskDilation"]);e!==void 0&&m!=null&&d(e,["parameters","maskDilation"],m);const v=c(i,["binaryColorThreshold"]);e!==void 0&&v!=null&&d(e,["parameters","binaryColorThreshold"],v);const y=c(i,["labels"]);return e!==void 0&&y!=null&&d(e,["labels"],y),r}function h0(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],qe(i,a));const u=c(e,["source"]);u!=null&&m0(u,r);const p=c(e,["config"]);return p!=null&&f0(p,r),r}function p0(i){const e={},r=c(i,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>by(u))),d(e,["generatedMasks"],a)}return e}function m0(i,e){const r={},a=c(i,["prompt"]);e!==void 0&&a!=null&&d(e,["instances[0]","prompt"],a);const u=c(i,["image"]);e!==void 0&&u!=null&&d(e,["instances[0]","image"],En(u));const p=c(i,["scribbleImage"]);return e!==void 0&&p!=null&&d(e,["instances[0]","scribble"],d0(p)),r}function wp(i){const e={},r=c(i,["languageCode"]);r!=null&&d(e,["languageCode"],r);const a=c(i,["voiceConfig"]);if(a!=null&&d(e,["voiceConfig"],a),c(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function g0(i){const e={},r=c(i,["functionDeclarations"]);if(r!=null){let C=r;Array.isArray(C)&&(C=C.map(S=>S)),d(e,["functionDeclarations"],C)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=c(i,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],a);const u=c(i,["computerUse"]);u!=null&&d(e,["computerUse"],u);const p=c(i,["fileSearch"]);p!=null&&d(e,["fileSearch"],p);const m=c(i,["codeExecution"]);if(m!=null&&d(e,["codeExecution"],m),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const v=c(i,["googleMaps"]);v!=null&&d(e,["googleMaps"],Jy(v));const y=c(i,["googleSearch"]);y!=null&&d(e,["googleSearch"],Ky(y));const T=c(i,["urlContext"]);return T!=null&&d(e,["urlContext"],T),e}function Cp(i){const e={},r=c(i,["functionDeclarations"]);if(r!=null){let S=r;Array.isArray(S)&&(S=S.map(N=>wy(N))),d(e,["functionDeclarations"],S)}const a=c(i,["retrieval"]);a!=null&&d(e,["retrieval"],a);const u=c(i,["googleSearchRetrieval"]);u!=null&&d(e,["googleSearchRetrieval"],u);const p=c(i,["computerUse"]);if(p!=null&&d(e,["computerUse"],p),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=c(i,["codeExecution"]);m!=null&&d(e,["codeExecution"],m);const v=c(i,["enterpriseWebSearch"]);v!=null&&d(e,["enterpriseWebSearch"],v);const y=c(i,["googleMaps"]);y!=null&&d(e,["googleMaps"],y);const T=c(i,["googleSearch"]);T!=null&&d(e,["googleSearch"],T);const C=c(i,["urlContext"]);return C!=null&&d(e,["urlContext"],C),e}function _0(i){const e={},r=c(i,["baseModel"]);r!=null&&d(e,["baseModel"],r);const a=c(i,["createTime"]);a!=null&&d(e,["createTime"],a);const u=c(i,["updateTime"]);return u!=null&&d(e,["updateTime"],u),e}function v0(i){const e={},r=c(i,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&d(e,["baseModel"],r);const a=c(i,["createTime"]);a!=null&&d(e,["createTime"],a);const u=c(i,["updateTime"]);return u!=null&&d(e,["updateTime"],u),e}function y0(i,e){const r={},a=c(i,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const u=c(i,["description"]);e!==void 0&&u!=null&&d(e,["description"],u);const p=c(i,["defaultCheckpointId"]);return e!==void 0&&p!=null&&d(e,["defaultCheckpointId"],p),r}function T0(i,e){const r={},a=c(i,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const u=c(i,["description"]);e!==void 0&&u!=null&&d(e,["description"],u);const p=c(i,["defaultCheckpointId"]);return e!==void 0&&p!=null&&d(e,["defaultCheckpointId"],p),r}function w0(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","name"],qe(i,a));const u=c(e,["config"]);return u!=null&&y0(u,r),r}function C0(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],qe(i,a));const u=c(e,["config"]);return u!=null&&T0(u,r),r}function x0(i,e){const r={},a=c(i,["outputGcsUri"]);e!==void 0&&a!=null&&d(e,["parameters","storageUri"],a);const u=c(i,["safetyFilterLevel"]);e!==void 0&&u!=null&&d(e,["parameters","safetySetting"],u);const p=c(i,["personGeneration"]);e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p);const m=c(i,["includeRaiReason"]);e!==void 0&&m!=null&&d(e,["parameters","includeRaiReason"],m);const v=c(i,["outputMimeType"]);e!==void 0&&v!=null&&d(e,["parameters","outputOptions","mimeType"],v);const y=c(i,["outputCompressionQuality"]);e!==void 0&&y!=null&&d(e,["parameters","outputOptions","compressionQuality"],y);const T=c(i,["enhanceInputImage"]);e!==void 0&&T!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],T);const C=c(i,["imagePreservationFactor"]);e!==void 0&&C!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],C);const S=c(i,["labels"]);e!==void 0&&S!=null&&d(e,["labels"],S);const N=c(i,["numberOfImages"]);e!==void 0&&N!=null&&d(e,["parameters","sampleCount"],N);const M=c(i,["mode"]);return e!==void 0&&M!=null&&d(e,["parameters","mode"],M),r}function S0(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],qe(i,a));const u=c(e,["image"]);u!=null&&d(r,["instances[0]","image"],En(u));const p=c(e,["upscaleFactor"]);p!=null&&d(r,["parameters","upscaleConfig","upscaleFactor"],p);const m=c(e,["config"]);return m!=null&&x0(m,r),r}function E0(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(p=>wl(p))),d(e,["generatedImages"],u)}return e}function P0(i){const e={},r=c(i,["uri"]);r!=null&&d(e,["uri"],r);const a=c(i,["encodedVideo"]);a!=null&&d(e,["videoBytes"],$i(a));const u=c(i,["encoding"]);return u!=null&&d(e,["mimeType"],u),e}function I0(i){const e={},r=c(i,["gcsUri"]);r!=null&&d(e,["uri"],r);const a=c(i,["bytesBase64Encoded"]);a!=null&&d(e,["videoBytes"],$i(a));const u=c(i,["mimeType"]);return u!=null&&d(e,["mimeType"],u),e}function N0(i){const e={},r=c(i,["image"]);r!=null&&d(e,["_self"],En(r));const a=c(i,["maskMode"]);return a!=null&&d(e,["maskMode"],a),e}function k0(i){const e={},r=c(i,["image"]);r!=null&&d(e,["image"],Cl(r));const a=c(i,["referenceType"]);return a!=null&&d(e,["referenceType"],a),e}function A0(i){const e={},r=c(i,["image"]);r!=null&&d(e,["image"],En(r));const a=c(i,["referenceType"]);return a!=null&&d(e,["referenceType"],a),e}function xp(i){const e={},r=c(i,["uri"]);r!=null&&d(e,["uri"],r);const a=c(i,["videoBytes"]);a!=null&&d(e,["encodedVideo"],$i(a));const u=c(i,["mimeType"]);return u!=null&&d(e,["encoding"],u),e}function Sp(i){const e={},r=c(i,["uri"]);r!=null&&d(e,["gcsUri"],r);const a=c(i,["videoBytes"]);a!=null&&d(e,["bytesBase64Encoded"],$i(a));const u=c(i,["mimeType"]);return u!=null&&d(e,["mimeType"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M0="Content-Type",R0="X-Server-Timeout",L0="User-Agent",cc="x-goog-api-client",D0="1.29.0",F0=`google-genai-sdk/${D0}`,U0="v1beta1",B0="v1beta",Dh=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class z0{constructor(e){var r,a;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:U0,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:B0,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&a.push(e.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,a){const u=[this.getRequestUrlInternal(r)];return a&&u.push(this.getBaseResourcePath()),e!==""&&u.push(e),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),u=this.constructUrl(e.path,r,a);if(e.queryParams)for(const[m,v]of Object.entries(e.queryParams))u.searchParams.append(m,String(v));let p={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else p.body=e.body;return p=await this.includeExtraHttpOptionsToRequestInit(p,r,u.toString(),e.abortSignal),this.unaryApiCall(u,p,e.httpMethod)}patchHttpOptions(e,r){const a=JSON.parse(JSON.stringify(e));for(const[u,p]of Object.entries(r))typeof p=="object"?a[u]=Object.assign(Object.assign({},a[u]),p):p!==void 0&&(a[u]=p);return a}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),u=this.constructUrl(e.path,r,a);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let p={};return p.body=e.body,p=await this.includeExtraHttpOptionsToRequestInit(p,r,u.toString(),e.abortSignal),this.streamApiCall(u,p,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,a,u){if(r&&r.timeout||u){const p=new AbortController,m=p.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const v=setTimeout(()=>p.abort(),r.timeout);v&&typeof v.unref=="function"&&v.unref()}u&&u.addEventListener("abort",()=>{p.abort()}),e.signal=m}return r&&r.extraBody!==null&&V0(e,r.extraBody),e.headers=await this.getHeadersInternal(r,a),e}async unaryApiCall(e,r,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:a})).then(async u=>(await Fh(u),new rc(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(e,r,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:a})).then(async u=>(await Fh(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(e){var r;return Sr(this,arguments,function*(){const u=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),p=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let m="";for(;;){const{done:v,value:y}=yield Xe(u.read());if(v){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=p.decode(y,{stream:!0});try{const S=JSON.parse(T);if("error"in S){const N=JSON.parse(JSON.stringify(S.error)),M=N.status,q=N.code,B=`got status: ${M}. ${JSON.stringify(S)}`;if(q>=400&&q<600)throw new yl({message:B,status:q})}}catch(S){if(S.name==="ApiError")throw S}m+=T;let C=m.match(Dh);for(;C;){const S=C[1];try{const N=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Xe(new rc(N)),m=m.slice(C[0].length),C=m.match(Dh)}catch(N){throw new Error(`exception parsing stream chunk ${S}. ${N}`)}}}}finally{u.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const e={},r=F0+" "+this.clientOptions.userAgentExtra;return e[L0]=r,e[cc]=r,e[M0]="application/json",e}async getHeadersInternal(e,r){const a=new Headers;if(e&&e.headers){for(const[u,p]of Object.entries(e.headers))a.append(u,p);e.timeout&&e.timeout>0&&a.append(R0,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,r),a}getFileName(e){var r;let a="";return typeof e=="string"&&(a=e.replace(/[/\\]+$/,""),a=(r=a.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),a}async uploadFile(e,r){var a;const u={};r!=null&&(u.mimeType=r.mimeType,u.name=r.name,u.displayName=r.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const p=this.clientOptions.uploader,m=await p.stat(e);u.sizeBytes=String(m.size);const v=(a=r==null?void 0:r.mimeType)!==null&&a!==void 0?a:m.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=v;const y={file:u},T=this.getFileName(e),C=ae("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(C,u.sizeBytes,u.mimeType,T,y,r==null?void 0:r.httpOptions);return p.upload(e,S,this)}async uploadFileToFileSearchStore(e,r,a){var u;const p=this.clientOptions.uploader,m=await p.stat(r),v=String(m.size),y=(u=a==null?void 0:a.mimeType)!==null&&u!==void 0?u:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const T=`upload/v1beta/${e}:uploadToFileSearchStore`,C=this.getFileName(r),S={};a!=null&&a.customMetadata&&(S.customMetadata=a.customMetadata),a!=null&&a.chunkingConfig&&(S.chunkingConfig=a.chunkingConfig);const N=await this.fetchUploadUrl(T,v,y,C,S,a==null?void 0:a.httpOptions);return p.uploadToFileSearchStore(r,N,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r,a,u,p,m){var v;let y={};m?y=m:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${a}`},u?{"X-Goog-Upload-File-Name":u}:{})};const T=await this.request({path:e,body:JSON.stringify(p),httpMethod:"POST",httpOptions:y});if(!T||!(T!=null&&T.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const C=(v=T==null?void 0:T.headers)===null||v===void 0?void 0:v["x-goog-upload-url"];if(C===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return C}}async function Fh(i){var e;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const r=i.status;let a;!((e=i.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const u=JSON.stringify(a);throw r>=400&&r<600?new yl({message:u,status:r}):new Error(u)}}function V0(i,e){if(!e||Object.keys(e).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof i.body=="string"&&i.body.length>0)try{const p=JSON.parse(i.body);if(typeof p=="object"&&p!==null&&!Array.isArray(p))r=p;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(p,m){const v=Object.assign({},p);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const T=m[y],C=v[y];T&&typeof T=="object"&&!Array.isArray(T)&&C&&typeof C=="object"&&!Array.isArray(C)?v[y]=a(C,T):(C&&T&&typeof C!=typeof T&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof C}, New type: ${typeof T}. Overwriting.`),v[y]=T)}return v}const u=a(r,e);i.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H0="mcp_used/unknown";let b0=!1;function Ep(i){for(const e of i)if(G0(e)||typeof e=="object"&&"inputSchema"in e)return!0;return b0}function Pp(i){var e;const r=(e=i[cc])!==null&&e!==void 0?e:"";i[cc]=(r+` ${H0}`).trimStart()}function G0(i){return i!==null&&typeof i=="object"&&i instanceof kc}function q0(i,e=100){return Sr(this,arguments,function*(){let a,u=0;for(;u<e;){const p=yield Xe(i.listTools({cursor:a}));for(const m of p.tools)yield yield Xe(m),u++;if(!p.nextCursor)break;a=p.nextCursor}})}class kc{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new kc(e,r)}async initialize(){var e,r,a,u;if(this.mcpTools.length>0)return;const p={},m=[];for(const C of this.mcpClients)try{for(var v=!0,y=(r=void 0,Ds(q0(C))),T;T=await y.next(),e=T.done,!e;v=!0){u=T.value,v=!1;const S=u;m.push(S);const N=S.name;if(p[N])throw new Error(`Duplicate function name ${N} found in MCP tools. Please ensure function names are unique.`);p[N]=C}}catch(S){r={error:S}}finally{try{!v&&!e&&(a=y.return)&&await a.call(y)}finally{if(r)throw r.error}}this.mcpTools=m,this.functionNameToMcpClient=p}async tool(){return await this.initialize(),Kg(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const a of e)if(a.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[a.name];let p;this.config.timeout&&(p={timeout:this.config.timeout});const m=await u.callTool({name:a.name,arguments:a.args},void 0,p);r.push({functionResponse:{name:a.name,response:m.isError?{error:m}:m}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function O0(i,e,r){const a=new Hg;let u;r.data instanceof Blob?u=JSON.parse(await r.data.text()):u=JSON.parse(r.data),Object.assign(a,u),e(a)}class W0{constructor(e,r,a){this.apiClient=e,this.auth=r,this.webSocketFactory=a}async connect(e){var r,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion(),m=K0(this.apiClient.getDefaultHeaders()),v=this.apiClient.getApiKey(),y=`${u}/ws/google.ai.generativelanguage.${p}.GenerativeService.BidiGenerateMusic?key=${v}`;let T=()=>{};const C=new Promise(j=>{T=j}),S=e.callbacks,N=function(){T({})},M=this.apiClient,q={onopen:N,onmessage:j=>{O0(M,S.onmessage,j)},onerror:(r=S==null?void 0:S.onerror)!==null&&r!==void 0?r:function(j){},onclose:(a=S==null?void 0:S.onclose)!==null&&a!==void 0?a:function(j){}},B=this.webSocketFactory.create(y,J0(m),q);B.connect(),await C;const te={setup:{model:qe(this.apiClient,e.model)}};return B.send(JSON.stringify(te)),new Z0(B,this.apiClient)}}class Z0{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=Bv(e);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=Uv(e);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const r={playbackControl:e};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Cr.PLAY)}pause(){this.sendPlaybackControl(Cr.PAUSE)}stop(){this.sendPlaybackControl(Cr.STOP)}resetContext(){this.sendPlaybackControl(Cr.RESET_CONTEXT)}close(){this.conn.close()}}function J0(i){const e={};return i.forEach((r,a)=>{e[a]=r}),e}function K0(i){const e=new Headers;for(const[r,a]of Object.entries(i))e.append(r,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y0="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function $0(i,e,r){const a=new Vg;let u;r.data instanceof Blob?u=await r.data.text():r.data instanceof ArrayBuffer?u=new TextDecoder().decode(r.data):u=r.data;const p=JSON.parse(u);if(i.isVertexAI()){const m=Hv(p);Object.assign(a,m)}else Object.assign(a,p);e(a)}class Q0{constructor(e,r,a){this.apiClient=e,this.auth=r,this.webSocketFactory=a,this.music=new W0(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,a,u,p,m,v;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),T=this.apiClient.getApiVersion();let C;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&Ep(e.config.tools)&&Pp(S);const N=tT(S);if(this.apiClient.isVertexAI())C=`${y}/ws/google.cloud.aiplatform.${T}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(N,C);else{const de=this.apiClient.getApiKey();let Se="BidiGenerateContent",Ie="key";de!=null&&de.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),T!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Se="BidiGenerateContentConstrained",Ie="access_token"),C=`${y}/ws/google.ai.generativelanguage.${T}.GenerativeService.${Se}?${Ie}=${de}`}let M=()=>{};const q=new Promise(de=>{M=de}),B=e.callbacks,J=function(){var de;(de=B==null?void 0:B.onopen)===null||de===void 0||de.call(B),M({})},Y=this.apiClient,te={onopen:J,onmessage:de=>{$0(Y,B.onmessage,de)},onerror:(r=B==null?void 0:B.onerror)!==null&&r!==void 0?r:function(de){},onclose:(a=B==null?void 0:B.onclose)!==null&&a!==void 0?a:function(de){}},j=this.webSocketFactory.create(C,eT(N),te);j.connect(),await q;let oe=qe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&oe.startsWith("publishers/")){const de=this.apiClient.getProject(),Se=this.apiClient.getLocation();oe=`projects/${de}/locations/${Se}/`+oe}let pe={};this.apiClient.isVertexAI()&&((u=e.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[hl.AUDIO]}:e.config.responseModalities=[hl.AUDIO]),!((p=e.config)===null||p===void 0)&&p.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const he=(v=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&v!==void 0?v:[],se=[];for(const de of he)if(this.isCallableTool(de)){const Se=de;se.push(await Se.tool())}else se.push(de);se.length>0&&(e.config.tools=se);const Le={model:oe,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?pe=Fv(this.apiClient,Le):pe=Dv(this.apiClient,Le),delete pe.config,j.send(JSON.stringify(pe)),new j0(j,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const X0={turnComplete:!0};class j0{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let a=[];try{a=hn(r.turns),e.isVertexAI()||(a=a.map(u=>Tl(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:a,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let a=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?a=r.functionResponses:a=[r.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const p of a){if(typeof p!="object"||p===null||!("name"in p)||!("response"in p))throw new Error(`Could not parse function response, type '${typeof p}'.`);if(!e.isVertexAI()&&!("id"in p))throw new Error(Y0)}return{toolResponse:{functionResponses:a}}}sendClientContent(e){e=Object.assign(Object.assign({},X0),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:Vv(e)}:r={realtimeInput:zv(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function eT(i){const e={};return i.forEach((r,a)=>{e[a]=r}),e}function tT(i){const e=new Headers;for(const[r,a]of Object.entries(i))e.append(r,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uh=10;function Bh(i){var e,r,a;if(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let u=!1;for(const m of(r=i==null?void 0:i.tools)!==null&&r!==void 0?r:[])if(Er(m)){u=!0;break}if(!u)return!0;const p=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return p&&(p<0||!Number.isInteger(p))||p==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",p),!0):!1}function Er(i){return"callTool"in i&&typeof i.callTool=="function"}function nT(i){var e,r,a;return(a=(r=(e=i.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(u=>Er(u)))!==null&&a!==void 0?a:!1}function zh(i){var e;const r=[];return!((e=i==null?void 0:i.config)===null||e===void 0)&&e.tools&&i.config.tools.forEach((a,u)=>{if(Er(a))return;const p=a;p.functionDeclarations&&p.functionDeclarations.length>0&&r.push(u)}),r}function Vh(i){var e;return!(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iT extends ui{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var a,u,p,m,v;const y=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!nT(r)||Bh(r.config))return await this.generateContentInternal(y);const T=zh(r);if(T.length>0){const B=T.map(J=>`tools[${J}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${B}.`)}let C,S;const N=hn(y.contents),M=(p=(u=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&p!==void 0?p:Uh;let q=0;for(;q<M&&(C=await this.generateContentInternal(y),!(!C.functionCalls||C.functionCalls.length===0));){const B=C.candidates[0].content,J=[];for(const Y of(v=(m=r.config)===null||m===void 0?void 0:m.tools)!==null&&v!==void 0?v:[])if(Er(Y)){const j=await Y.callTool(C.functionCalls);J.push(...j)}q++,S={role:"user",parts:J},y.contents=hn(y.contents),y.contents.push(B),y.contents.push(S),Vh(y.config)&&(N.push(B),N.push(S))}return Vh(y.config)&&(C.automaticFunctionCallingHistory=N),C},this.generateContentStream=async r=>{if(this.maybeMoveToResponseJsonSchem(r),Bh(r.config)){const u=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(u)}const a=zh(r);if(a.length>0){const u=a.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${u}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(a=>{var u;let p;const m=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((u=y==null?void 0:y.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?p=y==null?void 0:y.safetyAttributes:m.push(y);let v;return p?v={generatedImages:m,positivePromptSafetyAttributes:p,sdkHttpResponse:a.sdkHttpResponse}:v={generatedImages:m,sdkHttpResponse:a.sdkHttpResponse},v}),this.list=async r=>{var a;const m={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((a=m.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new ko(li.PAGED_ITEM_MODELS,v=>this.listInternal(v),await this.listInternal(m),m)},this.editImage=async r=>{const a={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(a.referenceImages=r.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async r=>{let a={numberOfImages:1,mode:"upscale"};r.config&&(a=Object.assign(Object.assign({},a),r.config));const u={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:a};return await this.upscaleImageInternal(u)},this.generateVideos=async r=>{var a,u,p,m,v,y;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=r.video)===null||a===void 0)&&a.uri&&(!((u=r.video)===null||u===void 0)&&u.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((m=(p=r.source)===null||p===void 0?void 0:p.video)===null||m===void 0)&&m.uri&&(!((y=(v=r.source)===null||v===void 0?void 0:v.video)===null||y===void 0)&&y.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,a,u;const p=(r=e.config)===null||r===void 0?void 0:r.tools;if(!p)return e;const m=await Promise.all(p.map(async y=>Er(y)?await y.tool():y)),v={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(v.config.tools=m,e.config&&e.config.tools&&Ep(e.config.tools)){const y=(u=(a=e.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&u!==void 0?u:{};let T=Object.assign({},y);Object.keys(T).length===0&&(T=this.apiClient.getDefaultHeaders()),Pp(T),v.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:T})}return v}async initAfcToolsMap(e){var r,a,u;const p=new Map;for(const m of(a=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&a!==void 0?a:[])if(Er(m)){const v=m,y=await v.tool();for(const T of(u=y.functionDeclarations)!==null&&u!==void 0?u:[]){if(!T.name)throw new Error("Function declaration name is required.");if(p.has(T.name))throw new Error(`Duplicate tool declaration name: ${T.name}`);p.set(T.name,v)}}return p}async processAfcStream(e){var r,a,u;const p=(u=(a=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:Uh;let m=!1,v=0;const y=await this.initAfcToolsMap(e);return(function(T,C,S){var N,M;return Sr(this,arguments,function*(){for(var q,B,J,Y;v<p;){m&&(v++,m=!1);const pe=yield Xe(T.processParamsMaybeAddMcpUsage(S)),he=yield Xe(T.generateContentStreamInternal(pe)),se=[],Le=[];try{for(var te=!0,j=(B=void 0,Ds(he)),oe;oe=yield Xe(j.next()),q=oe.done,!q;te=!0){Y=oe.value,te=!1;const de=Y;if(yield yield Xe(de),de.candidates&&(!((N=de.candidates[0])===null||N===void 0)&&N.content)){Le.push(de.candidates[0].content);for(const Se of(M=de.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(v<p&&Se.functionCall){if(!Se.functionCall.name)throw new Error("Function call name was not returned by the model.");if(C.has(Se.functionCall.name)){const Ie=yield Xe(C.get(Se.functionCall.name).callTool([Se.functionCall]));se.push(...Ie)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${C.keys()}, mising tool: ${Se.functionCall.name}`)}}}}catch(de){B={error:de}}finally{try{!te&&!q&&(J=j.return)&&(yield Xe(J.call(j)))}finally{if(B)throw B.error}}if(se.length>0){m=!0;const de=new Ms;de.candidates=[{content:{role:"user",parts:se}}],yield yield Xe(de);const Se=[];Se.push(...Le),Se.push({role:"user",parts:se});const Ie=hn(S.contents).concat(Se);S.contents=Ie}else break}})})(this,y,e)}async generateContentInternal(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=Mh(this.apiClient,e);return v=ae("{model}:generateContent",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=Lh(C),N=new Ms;return Object.assign(N,S),N})}else{const T=Ah(this.apiClient,e);return v=ae("{model}:generateContent",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=Rh(C),N=new Ms;return Object.assign(N,S),N})}}async generateContentStreamInternal(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=Mh(this.apiClient,e);return v=ae("{model}:streamGenerateContent?alt=sse",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.requestStream({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),m.then(function(S){return Sr(this,arguments,function*(){var N,M,q,B;try{for(var J=!0,Y=Ds(S),te;te=yield Xe(Y.next()),N=te.done,!N;J=!0){B=te.value,J=!1;const j=B,oe=Lh(yield Xe(j.json()));oe.sdkHttpResponse={headers:j.headers};const pe=new Ms;Object.assign(pe,oe),yield yield Xe(pe)}}catch(j){M={error:j}}finally{try{!J&&!N&&(q=Y.return)&&(yield Xe(q.call(Y)))}finally{if(M)throw M.error}}})})}else{const T=Ah(this.apiClient,e);return v=ae("{model}:streamGenerateContent?alt=sse",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.requestStream({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}),m.then(function(S){return Sr(this,arguments,function*(){var N,M,q,B;try{for(var J=!0,Y=Ds(S),te;te=yield Xe(Y.next()),N=te.done,!N;J=!0){B=te.value,J=!1;const j=B,oe=Rh(yield Xe(j.json()));oe.sdkHttpResponse={headers:j.headers};const pe=new Ms;Object.assign(pe,oe),yield yield Xe(pe)}}catch(j){M={error:j}}finally{try{!J&&!N&&(q=Y.return)&&(yield Xe(q.call(Y)))}finally{if(M)throw M.error}}})})}}async embedContent(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=gy(this.apiClient,e);return v=ae("{model}:predict",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=vy(C),N=new ph;return Object.assign(N,S),N})}else{const T=my(this.apiClient,e);return v=ae("{model}:batchEmbedContents",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=_y(C),N=new ph;return Object.assign(N,S),N})}}async generateImagesInternal(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=Iy(this.apiClient,e);return v=ae("{model}:predict",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=ky(C),N=new mh;return Object.assign(N,S),N})}else{const T=Py(this.apiClient,e);return v=ae("{model}:predict",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=Ny(C),N=new mh;return Object.assign(N,S),N})}}async editImageInternal(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI()){const v=dy(this.apiClient,e);return p=ae("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:y.headers},C})),u.then(y=>{const T=fy(y),C=new Ng;return Object.assign(C,T),C})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI()){const v=S0(this.apiClient,e);return p=ae("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:y.headers},C})),u.then(y=>{const T=E0(y),C=new kg;return Object.assign(C,T),C})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI()){const v=s0(this.apiClient,e);return p=ae("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const T=a0(y),C=new Ag;return Object.assign(C,T),C})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI()){const v=h0(this.apiClient,e);return p=ae("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const T=p0(y),C=new Mg;return Object.assign(C,T),C})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=Zy(this.apiClient,e);return v=ae("{name}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json()),m.then(C=>uc(C))}else{const T=Wy(this.apiClient,e);return v=ae("{name}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json()),m.then(C=>lc(C))}}async listInternal(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=jy(this.apiClient,e);return v=ae("{models_url}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=t0(C),N=new gh;return Object.assign(N,S),N})}else{const T=Xy(this.apiClient,e);return v=ae("{models_url}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=e0(C),N=new gh;return Object.assign(N,S),N})}}async update(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=C0(this.apiClient,e);return v=ae("{model}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json()),m.then(C=>uc(C))}else{const T=w0(this.apiClient,e);return v=ae("{name}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"PATCH",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json()),m.then(C=>lc(C))}}async delete(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=ay(this.apiClient,e);return v=ae("{name}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=uy(C),N=new _h;return Object.assign(N,S),N})}else{const T=sy(this.apiClient,e);return v=ae("{name}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=ly(C),N=new _h;return Object.assign(N,S),N})}}async countTokens(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=iy(this.apiClient,e);return v=ae("{model}:countTokens",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=ry(C),N=new vh;return Object.assign(N,S),N})}else{const T=ny(this.apiClient,e);return v=ae("{model}:countTokens",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=oy(C),N=new vh;return Object.assign(N,S),N})}}async computeTokens(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI()){const v=Yv(this.apiClient,e);return p=ae("{model}:computeTokens",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:y.headers},C})),u.then(y=>{const T=$v(y),C=new Rg;return Object.assign(C,T),C})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=Fy(this.apiClient,e);return v=ae("{model}:predictLongRunning",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json()),m.then(C=>{const S=Ly(C),N=new pl;return Object.assign(N,S),N})}else{const T=Dy(this.apiClient,e);return v=ae("{model}:predictLongRunning",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json()),m.then(C=>{const S=Ry(C),N=new pl;return Object.assign(N,S),N})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oT extends ui{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,a=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=r.name.split("/operations/")[0];let p;a&&"httpOptions"in a&&(p=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:u,config:{httpOptions:p}});return r._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:r.name,config:a});return r._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async get(e){const r=e.operation,a=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=r.name.split("/operations/")[0];let p;a&&"httpOptions"in a&&(p=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:u,config:{httpOptions:p}});return r._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:r.name,config:a});return r._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async getVideosOperationInternal(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=Cg(e);return v=ae("{operationName}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json()),m}else{const T=wg(e);return v=ae("{operationName}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json()),m}}async fetchPredictVideosOperationInternal(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI()){const v=pg(e);return p=ae("{resourceName}:fetchPredictOperation",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rT(i){const e={},r=c(i,["data"]);if(r!=null&&d(e,["data"],r),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(i,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function sT(i){const e={},r=c(i,["parts"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(p=>pT(p))),d(e,["parts"],u)}const a=c(i,["role"]);return a!=null&&d(e,["role"],a),e}function aT(i,e,r){const a={},u=c(e,["expireTime"]);r!==void 0&&u!=null&&d(r,["expireTime"],u);const p=c(e,["newSessionExpireTime"]);r!==void 0&&p!=null&&d(r,["newSessionExpireTime"],p);const m=c(e,["uses"]);r!==void 0&&m!=null&&d(r,["uses"],m);const v=c(e,["liveConnectConstraints"]);r!==void 0&&v!=null&&d(r,["bidiGenerateContentSetup"],hT(i,v));const y=c(e,["lockAdditionalFields"]);return r!==void 0&&y!=null&&d(r,["fieldMask"],y),a}function lT(i,e){const r={},a=c(e,["config"]);return a!=null&&d(r,["config"],aT(i,a,r)),r}function uT(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(i,["fileUri"]);r!=null&&d(e,["fileUri"],r);const a=c(i,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function cT(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=c(i,["enableWidget"]);return r!=null&&d(e,["enableWidget"],r),e}function dT(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=c(i,["timeRangeFilter"]);return r!=null&&d(e,["timeRangeFilter"],r),e}function fT(i,e){const r={},a=c(i,["generationConfig"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig"],a);const u=c(i,["responseModalities"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","responseModalities"],u);const p=c(i,["temperature"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","temperature"],p);const m=c(i,["topP"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","topP"],m);const v=c(i,["topK"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","topK"],v);const y=c(i,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const T=c(i,["mediaResolution"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","mediaResolution"],T);const C=c(i,["seed"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","seed"],C);const S=c(i,["speechConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","speechConfig"],Nc(S));const N=c(i,["thinkingConfig"]);e!==void 0&&N!=null&&d(e,["setup","generationConfig","thinkingConfig"],N);const M=c(i,["enableAffectiveDialog"]);e!==void 0&&M!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],M);const q=c(i,["systemInstruction"]);e!==void 0&&q!=null&&d(e,["setup","systemInstruction"],sT(Nt(q)));const B=c(i,["tools"]);if(e!==void 0&&B!=null){let he=Nr(B);Array.isArray(he)&&(he=he.map(se=>gT(Ir(se)))),d(e,["setup","tools"],he)}const J=c(i,["sessionResumption"]);e!==void 0&&J!=null&&d(e,["setup","sessionResumption"],mT(J));const Y=c(i,["inputAudioTranscription"]);e!==void 0&&Y!=null&&d(e,["setup","inputAudioTranscription"],Y);const te=c(i,["outputAudioTranscription"]);e!==void 0&&te!=null&&d(e,["setup","outputAudioTranscription"],te);const j=c(i,["realtimeInputConfig"]);e!==void 0&&j!=null&&d(e,["setup","realtimeInputConfig"],j);const oe=c(i,["contextWindowCompression"]);e!==void 0&&oe!=null&&d(e,["setup","contextWindowCompression"],oe);const pe=c(i,["proactivity"]);return e!==void 0&&pe!=null&&d(e,["setup","proactivity"],pe),r}function hT(i,e){const r={},a=c(e,["model"]);a!=null&&d(r,["setup","model"],qe(i,a));const u=c(e,["config"]);return u!=null&&d(r,["config"],fT(u,r)),r}function pT(i){const e={},r=c(i,["functionCall"]);r!=null&&d(e,["functionCall"],r);const a=c(i,["codeExecutionResult"]);a!=null&&d(e,["codeExecutionResult"],a);const u=c(i,["executableCode"]);u!=null&&d(e,["executableCode"],u);const p=c(i,["fileData"]);p!=null&&d(e,["fileData"],uT(p));const m=c(i,["functionResponse"]);m!=null&&d(e,["functionResponse"],m);const v=c(i,["inlineData"]);v!=null&&d(e,["inlineData"],rT(v));const y=c(i,["text"]);y!=null&&d(e,["text"],y);const T=c(i,["thought"]);T!=null&&d(e,["thought"],T);const C=c(i,["thoughtSignature"]);C!=null&&d(e,["thoughtSignature"],C);const S=c(i,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function mT(i){const e={},r=c(i,["handle"]);if(r!=null&&d(e,["handle"],r),c(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function gT(i){const e={},r=c(i,["functionDeclarations"]);if(r!=null){let C=r;Array.isArray(C)&&(C=C.map(S=>S)),d(e,["functionDeclarations"],C)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=c(i,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],a);const u=c(i,["computerUse"]);u!=null&&d(e,["computerUse"],u);const p=c(i,["fileSearch"]);p!=null&&d(e,["fileSearch"],p);const m=c(i,["codeExecution"]);if(m!=null&&d(e,["codeExecution"],m),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const v=c(i,["googleMaps"]);v!=null&&d(e,["googleMaps"],cT(v));const y=c(i,["googleSearch"]);y!=null&&d(e,["googleSearch"],dT(y));const T=c(i,["urlContext"]);return T!=null&&d(e,["urlContext"],T),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _T(i){const e=[];for(const r in i)if(Object.prototype.hasOwnProperty.call(i,r)){const a=i[r];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const u=Object.keys(a).map(p=>`${r}.${p}`);e.push(...u)}else e.push(r)}return e.join(",")}function vT(i,e){let r=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const p=a.setup;typeof p=="object"&&p!==null?(i.bidiGenerateContentSetup=p,r=p):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const u=i.fieldMask;if(r){const p=_T(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)p?i.fieldMask=p:delete i.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let v=[];u.length>0&&(v=u.map(T=>m.includes(T)?`generationConfig.${T}`:T));const y=[];p&&y.push(p),v.length>0&&y.push(...v),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?i.fieldMask=u.join(","):delete i.fieldMask;return i}class yT extends ui{constructor(e){super(),this.apiClient=e}async create(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const v=lT(this.apiClient,e);p=ae("auth_tokens",v._url),m=v._query,delete v.config,delete v._url,delete v._query;const y=vT(v,e.config);return u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),u.then(T=>T)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TT(i,e){const r={},a=c(i,["displayName"]);return e!==void 0&&a!=null&&d(e,["displayName"],a),r}function wT(i){const e={},r=c(i,["config"]);return r!=null&&TT(r,e),e}function CT(i,e){const r={},a=c(i,["force"]);return e!==void 0&&a!=null&&d(e,["_query","force"],a),r}function xT(i){const e={},r=c(i,["name"]);r!=null&&d(e,["_url","name"],r);const a=c(i,["config"]);return a!=null&&CT(a,e),e}function ST(i){const e={},r=c(i,["name"]);return r!=null&&d(e,["_url","name"],r),e}function ET(i,e){const r={},a=c(i,["customMetadata"]);if(e!==void 0&&a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>m)),d(e,["customMetadata"],p)}const u=c(i,["chunkingConfig"]);return e!==void 0&&u!=null&&d(e,["chunkingConfig"],u),r}function PT(i){const e={},r=c(i,["name"]);r!=null&&d(e,["name"],r);const a=c(i,["metadata"]);a!=null&&d(e,["metadata"],a);const u=c(i,["done"]);u!=null&&d(e,["done"],u);const p=c(i,["error"]);p!=null&&d(e,["error"],p);const m=c(i,["response"]);return m!=null&&d(e,["response"],NT(m)),e}function IT(i){const e={},r=c(i,["fileSearchStoreName"]);r!=null&&d(e,["_url","file_search_store_name"],r);const a=c(i,["fileName"]);a!=null&&d(e,["fileName"],a);const u=c(i,["config"]);return u!=null&&ET(u,e),e}function NT(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["parent"]);a!=null&&d(e,["parent"],a);const u=c(i,["documentName"]);return u!=null&&d(e,["documentName"],u),e}function kT(i,e){const r={},a=c(i,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const u=c(i,["pageToken"]);return e!==void 0&&u!=null&&d(e,["_query","pageToken"],u),r}function AT(i){const e={},r=c(i,["config"]);return r!=null&&kT(r,e),e}function MT(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["nextPageToken"]);a!=null&&d(e,["nextPageToken"],a);const u=c(i,["fileSearchStores"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(m=>m)),d(e,["fileSearchStores"],p)}return e}function RT(i,e){const r={},a=c(i,["mimeType"]);e!==void 0&&a!=null&&d(e,["mimeType"],a);const u=c(i,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const p=c(i,["customMetadata"]);if(e!==void 0&&p!=null){let v=p;Array.isArray(v)&&(v=v.map(y=>y)),d(e,["customMetadata"],v)}const m=c(i,["chunkingConfig"]);return e!==void 0&&m!=null&&d(e,["chunkingConfig"],m),r}function LT(i){const e={},r=c(i,["fileSearchStoreName"]);r!=null&&d(e,["_url","file_search_store_name"],r);const a=c(i,["config"]);return a!=null&&RT(a,e),e}function DT(i){const e={},r=c(i,["sdkHttpResponse"]);return r!=null&&d(e,["sdkHttpResponse"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FT(i,e){const r={},a=c(i,["force"]);return e!==void 0&&a!=null&&d(e,["_query","force"],a),r}function UT(i){const e={},r=c(i,["name"]);r!=null&&d(e,["_url","name"],r);const a=c(i,["config"]);return a!=null&&FT(a,e),e}function BT(i){const e={},r=c(i,["name"]);return r!=null&&d(e,["_url","name"],r),e}function zT(i,e){const r={},a=c(i,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const u=c(i,["pageToken"]);return e!==void 0&&u!=null&&d(e,["_query","pageToken"],u),r}function VT(i){const e={},r=c(i,["parent"]);r!=null&&d(e,["_url","parent"],r);const a=c(i,["config"]);return a!=null&&zT(a,e),e}function HT(i){const e={},r=c(i,["sdkHttpResponse"]);r!=null&&d(e,["sdkHttpResponse"],r);const a=c(i,["nextPageToken"]);a!=null&&d(e,["nextPageToken"],a);const u=c(i,["documents"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(m=>m)),d(e,["documents"],p)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bT extends ui{constructor(e){super(),this.apiClient=e,this.list=async r=>new ko(li.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:r.parent,config:a.config}),await this.listInternal(r),r)}async get(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=BT(e);return p=ae("{name}",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(e){var r,a;let u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=UT(e);u=ae("{name}",m._url),p=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=VT(e);return p=ae("{parent}/documents",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const T=HT(y),C=new Lg;return Object.assign(C,T),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GT extends ui{constructor(e,r=new bT(e)){super(),this.apiClient=e,this.documents=r,this.list=async(a={})=>new ko(li.PAGED_ITEM_FILE_SEARCH_STORES,u=>this.listInternal(u),await this.listInternal(a),a)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=wT(e);return p=ae("fileSearchStores",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async get(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=ST(e);return p=ae("{name}",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(e){var r,a;let u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=xT(e);u=ae("{name}",m._url),p=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=AT(e);return p=ae("fileSearchStores",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const T=MT(y),C=new Dg;return Object.assign(C,T),C})}}async uploadToFileSearchStoreInternal(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=LT(e);return p=ae("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const T=DT(y),C=new Fg;return Object.assign(C,T),C})}}async importFile(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=IT(e);return p=ae("{file_search_store_name}:importFile",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const T=PT(y),C=new xc;return Object.assign(C,T),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qT(i,e){const r={},a=c(i,["name"]);return a!=null&&d(r,["_url","name"],a),r}function OT(i,e){const r={},a=c(i,["name"]);return a!=null&&d(r,["_url","name"],a),r}function WT(i,e,r){const a={};if(c(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=c(i,["tunedModelDisplayName"]);if(e!==void 0&&u!=null&&d(e,["displayName"],u),c(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const p=c(i,["epochCount"]);e!==void 0&&p!=null&&d(e,["tuningTask","hyperparameters","epochCount"],p);const m=c(i,["learningRateMultiplier"]);if(m!=null&&d(a,["tuningTask","hyperparameters","learningRateMultiplier"],m),c(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const v=c(i,["batchSize"]);e!==void 0&&v!=null&&d(e,["tuningTask","hyperparameters","batchSize"],v);const y=c(i,["learningRate"]);if(e!==void 0&&y!=null&&d(e,["tuningTask","hyperparameters","learningRate"],y),c(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function ZT(i,e,r){const a={};let u=c(r,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const M=c(i,["validationDataset"]);e!==void 0&&M!=null&&d(e,["supervisedTuningSpec"],Hh(M))}else if(u==="PREFERENCE_TUNING"){const M=c(i,["validationDataset"]);e!==void 0&&M!=null&&d(e,["preferenceOptimizationSpec"],Hh(M))}const p=c(i,["tunedModelDisplayName"]);e!==void 0&&p!=null&&d(e,["tunedModelDisplayName"],p);const m=c(i,["description"]);e!==void 0&&m!=null&&d(e,["description"],m);let v=c(r,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const M=c(i,["epochCount"]);e!==void 0&&M!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],M)}else if(v==="PREFERENCE_TUNING"){const M=c(i,["epochCount"]);e!==void 0&&M!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],M)}let y=c(r,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const M=c(i,["learningRateMultiplier"]);e!==void 0&&M!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],M)}else if(y==="PREFERENCE_TUNING"){const M=c(i,["learningRateMultiplier"]);e!==void 0&&M!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],M)}let T=c(r,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const M=c(i,["exportLastCheckpointOnly"]);e!==void 0&&M!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],M)}else if(T==="PREFERENCE_TUNING"){const M=c(i,["exportLastCheckpointOnly"]);e!==void 0&&M!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],M)}let C=c(r,["config","method"]);if(C===void 0&&(C="SUPERVISED_FINE_TUNING"),C==="SUPERVISED_FINE_TUNING"){const M=c(i,["adapterSize"]);e!==void 0&&M!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],M)}else if(C==="PREFERENCE_TUNING"){const M=c(i,["adapterSize"]);e!==void 0&&M!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],M)}if(c(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=c(i,["labels"]);e!==void 0&&S!=null&&d(e,["labels"],S);const N=c(i,["beta"]);return e!==void 0&&N!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],N),a}function JT(i,e){const r={},a=c(i,["baseModel"]);a!=null&&d(r,["baseModel"],a);const u=c(i,["preTunedModel"]);u!=null&&d(r,["preTunedModel"],u);const p=c(i,["trainingDataset"]);p!=null&&ow(p);const m=c(i,["config"]);return m!=null&&WT(m,r),r}function KT(i,e){const r={},a=c(i,["baseModel"]);a!=null&&d(r,["baseModel"],a);const u=c(i,["preTunedModel"]);u!=null&&d(r,["preTunedModel"],u);const p=c(i,["trainingDataset"]);p!=null&&rw(p,r,e);const m=c(i,["config"]);return m!=null&&ZT(m,r,e),r}function YT(i,e){const r={},a=c(i,["name"]);return a!=null&&d(r,["_url","name"],a),r}function $T(i,e){const r={},a=c(i,["name"]);return a!=null&&d(r,["_url","name"],a),r}function QT(i,e,r){const a={},u=c(i,["pageSize"]);e!==void 0&&u!=null&&d(e,["_query","pageSize"],u);const p=c(i,["pageToken"]);e!==void 0&&p!=null&&d(e,["_query","pageToken"],p);const m=c(i,["filter"]);return e!==void 0&&m!=null&&d(e,["_query","filter"],m),a}function XT(i,e,r){const a={},u=c(i,["pageSize"]);e!==void 0&&u!=null&&d(e,["_query","pageSize"],u);const p=c(i,["pageToken"]);e!==void 0&&p!=null&&d(e,["_query","pageToken"],p);const m=c(i,["filter"]);return e!==void 0&&m!=null&&d(e,["_query","filter"],m),a}function jT(i,e){const r={},a=c(i,["config"]);return a!=null&&QT(a,r),r}function ew(i,e){const r={},a=c(i,["config"]);return a!=null&&XT(a,r),r}function tw(i,e){const r={},a=c(i,["sdkHttpResponse"]);a!=null&&d(r,["sdkHttpResponse"],a);const u=c(i,["nextPageToken"]);u!=null&&d(r,["nextPageToken"],u);const p=c(i,["tunedModels"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(v=>Ip(v))),d(r,["tuningJobs"],m)}return r}function nw(i,e){const r={},a=c(i,["sdkHttpResponse"]);a!=null&&d(r,["sdkHttpResponse"],a);const u=c(i,["nextPageToken"]);u!=null&&d(r,["nextPageToken"],u);const p=c(i,["tuningJobs"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(v=>dc(v))),d(r,["tuningJobs"],m)}return r}function iw(i,e){const r={},a=c(i,["name"]);a!=null&&d(r,["model"],a);const u=c(i,["name"]);return u!=null&&d(r,["endpoint"],u),r}function ow(i,e){const r={};if(c(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=c(i,["examples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(p=>p)),d(r,["examples","examples"],u)}return r}function rw(i,e,r){const a={};let u=c(r,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=c(i,["gcsUri"]);e!==void 0&&m!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(u==="PREFERENCE_TUNING"){const m=c(i,["gcsUri"]);e!==void 0&&m!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let p=c(r,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const m=c(i,["vertexDatasetResource"]);e!==void 0&&m!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(p==="PREFERENCE_TUNING"){const m=c(i,["vertexDatasetResource"]);e!==void 0&&m!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(c(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Ip(i,e){const r={},a=c(i,["sdkHttpResponse"]);a!=null&&d(r,["sdkHttpResponse"],a);const u=c(i,["name"]);u!=null&&d(r,["name"],u);const p=c(i,["state"]);p!=null&&d(r,["state"],lp(p));const m=c(i,["createTime"]);m!=null&&d(r,["createTime"],m);const v=c(i,["tuningTask","startTime"]);v!=null&&d(r,["startTime"],v);const y=c(i,["tuningTask","completeTime"]);y!=null&&d(r,["endTime"],y);const T=c(i,["updateTime"]);T!=null&&d(r,["updateTime"],T);const C=c(i,["description"]);C!=null&&d(r,["description"],C);const S=c(i,["baseModel"]);S!=null&&d(r,["baseModel"],S);const N=c(i,["_self"]);return N!=null&&d(r,["tunedModel"],iw(N)),r}function dc(i,e){const r={},a=c(i,["sdkHttpResponse"]);a!=null&&d(r,["sdkHttpResponse"],a);const u=c(i,["name"]);u!=null&&d(r,["name"],u);const p=c(i,["state"]);p!=null&&d(r,["state"],lp(p));const m=c(i,["createTime"]);m!=null&&d(r,["createTime"],m);const v=c(i,["startTime"]);v!=null&&d(r,["startTime"],v);const y=c(i,["endTime"]);y!=null&&d(r,["endTime"],y);const T=c(i,["updateTime"]);T!=null&&d(r,["updateTime"],T);const C=c(i,["error"]);C!=null&&d(r,["error"],C);const S=c(i,["description"]);S!=null&&d(r,["description"],S);const N=c(i,["baseModel"]);N!=null&&d(r,["baseModel"],N);const M=c(i,["tunedModel"]);M!=null&&d(r,["tunedModel"],M);const q=c(i,["preTunedModel"]);q!=null&&d(r,["preTunedModel"],q);const B=c(i,["supervisedTuningSpec"]);B!=null&&d(r,["supervisedTuningSpec"],B);const J=c(i,["preferenceOptimizationSpec"]);J!=null&&d(r,["preferenceOptimizationSpec"],J);const Y=c(i,["tuningDataStats"]);Y!=null&&d(r,["tuningDataStats"],Y);const te=c(i,["encryptionSpec"]);te!=null&&d(r,["encryptionSpec"],te);const j=c(i,["partnerModelTuningSpec"]);j!=null&&d(r,["partnerModelTuningSpec"],j);const oe=c(i,["customBaseModel"]);oe!=null&&d(r,["customBaseModel"],oe);const pe=c(i,["experiment"]);pe!=null&&d(r,["experiment"],pe);const he=c(i,["labels"]);he!=null&&d(r,["labels"],he);const se=c(i,["outputUri"]);se!=null&&d(r,["outputUri"],se);const Le=c(i,["pipelineJob"]);Le!=null&&d(r,["pipelineJob"],Le);const de=c(i,["serviceAccount"]);de!=null&&d(r,["serviceAccount"],de);const Se=c(i,["tunedModelDisplayName"]);Se!=null&&d(r,["tunedModelDisplayName"],Se);const Ie=c(i,["veoTuningSpec"]);return Ie!=null&&d(r,["veoTuningSpec"],Ie),r}function sw(i,e){const r={},a=c(i,["sdkHttpResponse"]);a!=null&&d(r,["sdkHttpResponse"],a);const u=c(i,["name"]);u!=null&&d(r,["name"],u);const p=c(i,["metadata"]);p!=null&&d(r,["metadata"],p);const m=c(i,["done"]);m!=null&&d(r,["done"],m);const v=c(i,["error"]);return v!=null&&d(r,["error"],v),r}function Hh(i,e){const r={},a=c(i,["gcsUri"]);a!=null&&d(r,["validationDatasetUri"],a);const u=c(i,["vertexDatasetResource"]);return u!=null&&d(r,["validationDatasetUri"],u),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aw extends ui{constructor(e){super(),this.apiClient=e,this.get=async r=>await this.getInternal(r),this.list=async(r={})=>new ko(li.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(r),r),this.tune=async r=>{var a;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const u={tunedModelName:r.baseModel};!((a=r.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(u.checkpointId=r.config.preTunedModelCheckpointId);const p=Object.assign(Object.assign({},r),{preTunedModel:u});return p.baseModel=void 0,await this.tuneInternal(p)}else{const u=Object.assign({},r);return await this.tuneInternal(u)}else{const u=Object.assign({},r),p=await this.tuneMldevInternal(u);let m="";return p.metadata!==void 0&&p.metadata.tunedModel!==void 0?m=p.metadata.tunedModel:p.name!==void 0&&p.name.includes("/operations/")&&(m=p.name.split("/operations/")[0]),{name:m,state:oc.JOB_STATE_QUEUED}}}}async getInternal(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=$T(e);return v=ae("{name}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>dc(C))}else{const T=YT(e);return v=ae("{name}",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>Ip(C))}}async listInternal(e){var r,a,u,p;let m,v="",y={};if(this.apiClient.isVertexAI()){const T=ew(e);return v=ae("tuningJobs",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=nw(C),N=new yh;return Object.assign(N,S),N})}else{const T=jT(e);return v=ae("tunedModels",T._url),y=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(S=>{const N=S;return N.sdkHttpResponse={headers:C.headers},N})),m.then(C=>{const S=tw(C),N=new yh;return Object.assign(N,S),N})}}async cancel(e){var r,a,u,p;let m="",v={};if(this.apiClient.isVertexAI()){const y=OT(e);m=ae("{name}:cancel",y._url),v=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=qT(e);m=ae("{name}:cancel",y._url),v=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal})}}async tuneInternal(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI()){const v=KT(e,e);return p=ae("tuningJobs",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:y.headers},C})),u.then(y=>dc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,a;let u,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=JT(e);return p=ae("tunedModels",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:y.headers},C})),u.then(y=>sw(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lw{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const uw=1024*1024*8,cw=3,dw=1e3,fw=2,gl="x-goog-upload-status";async function hw(i,e,r){var a;const u=await Np(i,e,r),p=await(u==null?void 0:u.json());if(((a=u==null?void 0:u.headers)===null||a===void 0?void 0:a[gl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return p.file}async function pw(i,e,r){var a;const u=await Np(i,e,r),p=await(u==null?void 0:u.json());if(((a=u==null?void 0:u.headers)===null||a===void 0?void 0:a[gl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=np(p),v=new Sc;return Object.assign(v,m),v}async function Np(i,e,r){var a,u;let p=0,m=0,v=new rc(new Response),y="upload";for(p=i.size;m<p;){const T=Math.min(uw,p-m),C=i.slice(m,m+T);m+T>=p&&(y+=", finalize");let S=0,N=dw;for(;S<cw&&(v=await r.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(m),"Content-Length":String(T)}}}),!(!((a=v==null?void 0:v.headers)===null||a===void 0)&&a[gl]));)S++,await gw(N),N=N*fw;if(m+=T,((u=v==null?void 0:v.headers)===null||u===void 0?void 0:u[gl])!=="active")break;if(p<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return v}async function mw(i){return{size:i.size,type:i.type}}function gw(i){return new Promise(e=>setTimeout(e,i))}class _w{async upload(e,r,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await hw(e,r,a)}async uploadToFileSearchStore(e,r,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await pw(e,r,a)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await mw(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vw{create(e,r,a){return new yw(e,r,a)}}class yw{constructor(e,r,a){this.url=e,this.headers=r,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bh="x-goog-api-key";class Tw{constructor(e){this.apiKey=e}async addAuthHeaders(e,r){if(e.get(bh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(bh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ww="gl-node/";class Cw{constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const a=fg(e.httpOptions,e.vertexai,void 0,void 0);a&&(e.httpOptions?e.httpOptions.baseUrl=a:e.httpOptions={baseUrl:a}),this.apiVersion=e.apiVersion;const u=new Tw(this.apiKey);this.apiClient=new z0({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:ww+"web",uploader:new _w,downloader:new lw}),this.models=new iT(this.apiClient),this.live=new Q0(this.apiClient,u,new vw),this.batches=new B_(this.apiClient),this.chats=new mv(this.models,this.apiClient),this.caches=new fv(this.apiClient),this.files=new Ev(this.apiClient),this.operations=new oT(this.apiClient),this.authTokens=new yT(this.apiClient),this.tunings=new aw(this.apiClient),this.fileSearchStores=new GT(this.apiClient)}}var Gh={};let ul=null;const qh=new Map,xw=new Map;let Ls=!1;const fl=[],Sw=1500,Xu=5,Ew=1e4,Pw=()=>ul||(Gh.API_KEY?(ul=new Cw({apiKey:Gh.API_KEY}),ul):(console.warn("Gemini API key not found. AI features will be disabled."),null)),fc=async()=>{if(Ls||fl.length===0)return;Ls=!0;const i=fl.shift(),e=Pw();if(!e){console.error("Gemini client not available for queued request, returning fallback."),i.resolve(i.fallback),Ls=!1,fl.length>0&&fc();return}let r=0,a=null;for(;r<Xu;)try{const u=await e.models.generateContent({model:"gemini-2.5-flash",...i.params}),p=i.processResponse(u.text);i.resolve(p),a=null;break}catch(u){a=u;const p=JSON.stringify(u)||"";if(p.includes("429")||p.includes("RESOURCE_EXHAUSTED")){if(r++,r>=Xu){console.error(`Max retries reached for rate-limited request ${i.id}.`);break}const m=Ew*Math.pow(2,r-1)+Math.random()*1e3;console.warn(`Rate limit hit for ${i.id}. Retrying in ${Math.round(m/1e3)}s... (Attempt ${r}/${Xu})`),await new Promise(v=>setTimeout(v,m))}else{console.error(`Non-retryable error processing request ${i.id}:`,u);break}}a&&(console.error(`Request ${i.id} failed in queue, returning fallback.`,a),i.resolve(i.fallback)),setTimeout(()=>{Ls=!1,fc()},Sw)},hc=(i,e,r,a,u)=>{if(e.has(i))return e.get(i);const p=new Promise((m,v)=>{fl.push({id:i,params:r,resolve:m,reject:v,processResponse:a,fallback:u}),Ls||fc()}).catch(m=>(console.error(`Request ${i} failed in queue, returning fallback.`,m),e.delete(i),u));return e.set(i,p),p},Iw={type:Dt.OBJECT,properties:{summary:{type:Dt.STRING,description:"A concise and engaging summary of the historical site, under 70 words, in Vietnamese. Use markdown for bolding the site name, e.g. **Cu Rng**."},funFacts:{type:Dt.ARRAY,description:"A list of 3 interesting, lesser-known fun facts about the site, in Vietnamese.",items:{type:Dt.STRING}}},required:["summary","funFacts"]},Nw={type:Dt.OBJECT,properties:{funFacts:{type:Dt.ARRAY,description:"A list of 3 interesting, lesser-known fun facts about the site, in Vietnamese.",items:{type:Dt.STRING}}},required:["funFacts"]},kw=i=>{var r;const e=(r=i.events)==null?void 0:r.map(a=>`- ${a.event_name}: ${a.description}`).join(`
`);return`Provide a structured JSON response about the historical site "${i.site_name}" in Da Nang, Vietnam.
The site is a ${i.site_type}.
Key information includes:
${e}

The JSON object must conform to the provided schema.
- The 'summary' should be a concise, engaging overview for tourists, under 70 words, in Vietnamese. Use markdown for bolding the site name.
- The 'funFacts' should be an array of 3 interesting, lesser-known facts about the site, in Vietnamese.`},Aw=i=>{var r;const e=(r=i.events)==null?void 0:r.map(a=>`- ${a.event_name}: ${a.description}`).join(`
`);return`Provide a structured JSON response about the historical site "${i.site_name}" in Da Nang, Vietnam.
The site is a ${i.site_type}.
Key information includes:
${e}

The JSON object must conform to the provided schema.
- The 'funFacts' should be an array of 3 interesting, lesser-known facts about the site. Do not include the site name in the facts. Write in Vietnamese.`},Mw=i=>`Hy vit mt on tm tt tiu s ngn gn, hp dn v nhn vt lch s "${i.name}" (${i.birth_year} - ${i.death_year}). Da trn thng tin sau: "${i.biography}". Hy vit bng ting Vit, di 80 t, vi vn phong trang trng, ph hp cho mt ng dng gio dc lch s.`,Rw=i=>{var r,a;const e=`sitedata-${i.site_id}`;if(i.description){const p={contents:Aw(i),config:{responseMimeType:"application/json",responseSchema:Nw}},m=y=>{try{const T=y.replace(/^```json\s*|```\s*$/g,"").trim(),C=JSON.parse(T);return{summary:i.description,funFacts:C.funFacts||[]}}catch(T){return console.error("Failed to parse AI JSON response for fun facts:",y,T),{summary:i.description,funFacts:[]}}},v={summary:i.description,funFacts:[]};return hc(e,qh,p,m,v)}else{const p={contents:kw(i),config:{responseMimeType:"application/json",responseSchema:Iw}},m=y=>{try{const T=y.replace(/^```json\s*|```\s*$/g,"").trim();return JSON.parse(T)}catch(T){return console.error("Failed to parse AI JSON response for site:",y,T),v}},v={summary:((a=(r=i.events)==null?void 0:r[0])==null?void 0:a.description)||"Khng c m t chi tit.",funFacts:[]};return hc(e,qh,p,m,v)}},Lw=(i,e)=>{const r=`person-${i}`,a=Mw(e),u=e.biography||"Khng c tiu s chi tit.";return hc(r,xw,{contents:a},p=>p,u)},ju=new Map,kp=i=>{if(!i)return null;let e=null;const r=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,a=i.match(r);if(a&&a[1]&&(e=a[1]),e){const u=new URLSearchParams({autoplay:"0",rel:"0",modestbranding:"1",iv_load_policy:"3"});return`https://www.youtube.com/embed/${e}?${u.toString()}`}return null},Dw=({isModal:i})=>i?E.jsxs("div",{className:"animate-pulse space-y-8",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("div",{className:"h-4 bg-slate-700 rounded w-full"}),E.jsx("div",{className:"h-4 bg-slate-700 rounded w-5/6"}),E.jsx("div",{className:"h-4 bg-slate-700 rounded w-3/4"})]}),E.jsx("div",{className:"h-10 bg-slate-700 rounded w-1/2"}),E.jsxs("div",{children:[E.jsx("div",{className:"h-8 bg-slate-700 rounded w-1/3 mb-4"}),E.jsxs("div",{className:"space-y-6",children:[E.jsx("div",{className:"h-28 bg-slate-700 rounded"}),E.jsx("div",{className:"h-28 bg-slate-700 rounded"})]})]}),E.jsxs("div",{children:[E.jsx("div",{className:"h-8 bg-slate-700 rounded w-1/3 mb-4"}),E.jsx("div",{className:"h-40 bg-slate-700 rounded-lg"}),E.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2",children:[E.jsx("div",{className:"h-16 bg-slate-700 rounded"}),E.jsx("div",{className:"h-16 bg-slate-700 rounded"})]})]}),E.jsxs("div",{children:[E.jsx("div",{className:"h-8 bg-slate-700 rounded w-1/3 mb-4"}),E.jsx("div",{className:"h-40 bg-slate-700 rounded-lg"}),E.jsxs("div",{className:"flex space-x-3 mt-2",children:[E.jsx("div",{className:"h-20 w-32 bg-slate-700 rounded"}),E.jsx("div",{className:"h-20 w-32 bg-slate-700 rounded"})]})]})]}):E.jsxs("div",{className:"animate-pulse space-y-3 p-3",children:[E.jsx("div",{className:"h-24 bg-slate-700 rounded-lg"}),E.jsx("div",{className:"h-4 bg-slate-700 rounded w-3/4"}),E.jsx("div",{className:"h-3 bg-slate-700 rounded w-1/2"})]}),Fw=({summary:i,isLoading:e})=>{if(e)return E.jsxs("div",{className:"animate-pulse space-y-2",children:[E.jsx("div",{className:"h-3 bg-slate-600 rounded"}),E.jsx("div",{className:"h-3 bg-slate-600 rounded"}),E.jsx("div",{className:"h-3 bg-slate-600 rounded w-4/5"})]});if(!i)return null;const r=()=>i.split(/\*\*(.*?)\*\*/g).map((u,p)=>p%2===1?E.jsx("strong",{children:u},p):u);return E.jsx("p",{className:"text-slate-300 leading-relaxed text-base",children:r()})},Uw=({facts:i,isLoading:e})=>e?E.jsxs("div",{className:"space-y-4",children:[E.jsx("div",{className:"h-6 bg-slate-700 rounded w-1/3"}),E.jsxs("div",{className:"animate-pulse space-y-2 pl-2",children:[E.jsx("div",{className:"h-3 bg-slate-600 rounded"}),E.jsx("div",{className:"h-3 bg-slate-600 rounded w-5/6"}),E.jsx("div",{className:"h-3 bg-slate-600 rounded"})]})]}):!i||i.length===0?null:E.jsxs("section",{children:[E.jsxs("h3",{className:"text-lg font-bold text-sky-400 mb-3 flex items-center",children:[E.jsx(Mm,{className:"h-6 w-6 mr-3"}),"Bn c bit?"]}),E.jsx("ul",{className:"list-disc list-inside space-y-2 text-slate-300 pl-2",children:i.map((r,a)=>E.jsx("li",{children:r},a))})]}),Bw=({media:i})=>{const[e,r]=Z.useState(0);return Z.useEffect(()=>{if(i.length<=1)return;const a=setInterval(()=>{r(u=>(u+1)%i.length)},3e3);return()=>clearInterval(a)},[i.length]),i.length===0?E.jsx("div",{className:"w-full h-32 bg-slate-700 flex items-center justify-center",children:E.jsx(gc,{className:"h-8 w-8 text-slate-500"})}):E.jsxs("div",{className:"relative w-full h-32 bg-slate-700",children:[i.map((a,u)=>E.jsx("img",{src:a.media_url,alt:a.caption,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-700 ease-in-out ${u===e?"opacity-100":"opacity-0"}`},a.media_id)),i.length>1&&E.jsx("div",{className:"absolute bottom-1.5 left-1/2 -translate-x-1/2 flex space-x-1.5 p-1 bg-black/40 rounded-full backdrop-blur-sm",children:i.map((a,u)=>E.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-colors duration-300 ${u===e?"bg-white":"bg-white/50"}`},`dot-${u}`))})]})},zw=({event:i,isLast:e})=>{var M;const[r,a]=Z.useState(0),[u,p]=Z.useState(!0),m=i.media&&i.media.length>0,v=((M=i.media)==null?void 0:M.length)||0,y=m?i.media[r]:null,T=Z.useCallback(()=>{a(q=>(q+1)%v)},[v]),C=Z.useCallback(()=>{a(q=>(q-1+v)%v)},[v]);Z.useEffect(()=>{if(!u||v<=1||(y==null?void 0:y.media_type)==="video")return;const q=setInterval(()=>{T()},5e3);return()=>clearInterval(q)},[u,v,T,y]),Z.useEffect(()=>{(y==null?void 0:y.media_type)==="video"&&p(!1)},[r,y]);const S=()=>{T(),p(!1)},N=()=>{C(),p(!1)};return E.jsxs("li",{className:"relative pl-8",children:[E.jsx("div",{className:"absolute -left-[7px] top-1 h-3 w-3 bg-sky-500 rounded-full border-2 border-slate-800"}),!e&&E.jsx("div",{className:"absolute left-0 top-1 h-full w-0.5 bg-slate-600"}),E.jsx("p",{className:"font-semibold text-lg text-slate-100",children:i.event_name}),i.start_date&&E.jsx("p",{className:"text-xs text-slate-400 mb-1 font-mono",children:new Date(i.start_date).toLocaleString("vi-VN")}),m&&y&&E.jsxs("div",{className:"relative my-4 group",onMouseEnter:()=>y.media_type==="image"&&p(!1),onMouseLeave:()=>y.media_type==="image"&&p(!0),children:[E.jsx("div",{className:"aspect-video w-full bg-slate-700 rounded-lg overflow-hidden shadow-lg",children:y.media_type==="video"?(()=>{const q=kp(y.media_url);return q?E.jsx("iframe",{src:q,title:y.caption,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"},y.media_id):E.jsx("video",{src:y.media_url,controls:!0,className:"w-full h-full object-contain bg-black",children:"Trnh duyt ca bn khng h tr th video."},y.media_id)})():E.jsx("img",{src:y.media_url,alt:y.caption,className:"w-full h-full object-cover animate-fade-in-image"},y.media_id)}),v>1&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:N,"aria-label":"Previous media",className:"absolute top-1/2 left-2 -translate-y-1/2 p-1.5 bg-black/40 text-white rounded-full opacity-0 group-hover:opacity-100 focus:opacity-100 transition-opacity duration-300 hover:bg-black/60 focus:outline-none focus:ring-2 focus:ring-sky-400",children:E.jsx(Us,{className:"h-5 w-5"})}),E.jsx("button",{onClick:S,"aria-label":"Next media",className:"absolute top-1/2 right-2 -translate-y-1/2 p-1.5 bg-black/40 text-white rounded-full opacity-0 group-hover:opacity-100 focus:opacity-100 transition-opacity duration-300 hover:bg-black/60 focus:outline-none focus:ring-2 focus:ring-sky-400",children:E.jsx(Bs,{className:"h-5 w-5"})}),y.media_type==="image"&&E.jsx("div",{className:"absolute bottom-2 left-2 flex items-center gap-2",children:E.jsx("button",{onClick:()=>p(!u),"aria-label":u?"Pause slideshow":"Play slideshow",className:"p-1.5 bg-black/40 text-white rounded-full opacity-0 group-hover:opacity-100 focus:opacity-100 transition-opacity duration-300 hover:bg-black/60 focus:outline-none focus:ring-2 focus:ring-sky-400",children:u?E.jsx(Em,{className:"h-5 w-5"}):E.jsx(_c,{className:"h-5 w-5"})})}),E.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/50 text-white text-xs font-mono rounded-md",children:[r+1," / ",v]})]}),E.jsx("p",{className:"text-center text-sm italic text-slate-400 mt-2",children:y.caption})]}),E.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:i.description})]})},Ap=({siteId:i,isModal:e,onShowDetailModal:r,onPersonSelect:a})=>{var Fe,je,Re,me;const[u,p]=Z.useState(null),[m,v]=Z.useState(!0),[y,T]=Z.useState(null),[C,S]=Z.useState(null),[N,M]=Z.useState(!0),[q,B]=Z.useState(0),[J,Y]=Z.useState(0),te=Z.useRef(null),j=Z.useRef([]),[oe,pe]=Z.useState(!1);Z.useEffect(()=>{(async()=>{var O,D;v(!0),T(null),p(null),S(null),M(!0),B(0),Y(0);let ee=null;if(ju.has(i))ee=ju.get(i);else try{ee=await sg(i),ee&&ju.set(i,ee)}catch(W){T(" xy ra li khi ti d liu."),console.error(W),v(!1);return}if(ee){p(ee);try{const W=await Rw(ee);S(W)}catch(W){console.error("Failed to fetch AI data:",W),S({summary:ee.description||((D=(O=ee.events)==null?void 0:O[0])==null?void 0:D.description)||"",funFacts:[]})}finally{M(!1)}}else T("Khng tm thy thng tin chi tit cho a im ny.");v(!1)})()},[i]);const he=Z.useMemo(()=>u!=null&&u.events?u.events.flatMap(U=>U.media||[]):[],[u==null?void 0:u.events]),se=Z.useMemo(()=>he.filter(U=>U.media_type==="image"),[he]),Le=Z.useMemo(()=>he.filter(U=>U.media_type==="video"),[he]),de=Z.useMemo(()=>{if(!u)return[];const U=new Map;return u.events.forEach(ee=>{var O;(O=ee.persons)==null||O.forEach(D=>{U.has(D.person_id)||U.set(D.person_id,D)})}),Array.from(U.values())},[u]);Z.useEffect(()=>{var U;e&&j.current[q]&&q>0&&((U=j.current[q])==null||U.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}))},[q,e]),Z.useEffect(()=>{const U=()=>{if(te.current){const{scrollWidth:O,clientWidth:D}=te.current;pe(O>D)}},ee=setTimeout(U,100);return window.addEventListener("resize",U),()=>{clearTimeout(ee),window.removeEventListener("resize",U)}},[se]);const Se=Z.useMemo(()=>u!=null&&u.events?[...u.events].sort((U,ee)=>{const O=U.start_date?new Date(U.start_date).getTime():-1/0,D=ee.start_date?new Date(ee.start_date).getTime():-1/0;return O-D}):[],[u==null?void 0:u.events]),Ie=()=>{se.length>0&&B(U=>(U+1)%se.length)},Q=()=>{se.length>0&&B(U=>(U-1+se.length)%se.length)},ue=U=>{if(te.current){const ee=te.current.clientWidth*.8;te.current.scrollBy({left:U==="left"?-ee:ee,behavior:"smooth"})}};if(m)return E.jsx(Dw,{isModal:e});if(y)return E.jsx("p",{className:"text-red-400 italic p-3",children:y});if(!u)return E.jsx("p",{className:"text-slate-400 p-3",children:"Khng c d liu."});if(!e){const U=u.description||((Fe=Se[0])==null?void 0:Fe.description)||"Thng tin chi tit ang c cp nht.";return E.jsxs("div",{className:"bg-slate-800 rounded-lg overflow-hidden",children:[E.jsx(Bw,{media:se.slice(0,5)}),E.jsxs("div",{className:"p-4 flex flex-col space-y-3",children:[E.jsx("h3",{className:"font-bold text-slate-100 truncate text-lg",children:u.site_name}),E.jsx("div",{className:"min-h-[60px]",children:E.jsx("p",{className:"text-sm text-slate-300 leading-relaxed line-clamp-3",children:U})}),r&&E.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center text-sm font-semibold text-white bg-sky-600 hover:bg-sky-500 transition-colors group py-2 rounded-md shadow-lg",children:["Xem chi tit ",E.jsx(Sm,{className:"h-4 w-4 ml-2 transform group-hover:translate-x-1 transition-transform"})]})]})]})}return E.jsxs("div",{className:"flex flex-col space-y-8",children:[E.jsx(Fw,{summary:(C==null?void 0:C.summary)??null,isLoading:N}),E.jsxs("section",{children:[E.jsx("h3",{className:"text-lg font-bold text-sky-400 mb-3",children:"Thng tin chi tit"}),E.jsx("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:E.jsxs("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4 text-sm",children:[u.address&&E.jsxs("li",{className:"flex items-start gap-x-3",children:[E.jsx(Pr,{className:"h-5 w-5 text-slate-400 mt-0.5 flex-shrink-0"}),E.jsxs("div",{children:[E.jsx("strong",{className:"font-semibold text-slate-200 block",children:"a ch"}),E.jsx("span",{className:"text-slate-300",children:u.address})]})]}),E.jsxs("li",{className:"flex items-start gap-x-3",children:[E.jsx(Nm,{className:"h-5 w-5 text-slate-400 mt-0.5 flex-shrink-0"}),E.jsxs("div",{children:[E.jsx("strong",{className:"font-semibold text-slate-200 block",children:"Loi hnh"}),E.jsx("span",{className:"text-slate-300 capitalize",children:u.site_type})]})]}),u.established_year&&E.jsxs("li",{className:"flex items-start gap-x-3",children:[E.jsx(Yh,{className:"h-5 w-5 text-slate-400 mt-0.5 flex-shrink-0"}),E.jsxs("div",{children:[E.jsx("strong",{className:"font-semibold text-slate-200 block",children:"Nm thnh lp"}),E.jsx("span",{className:"text-slate-300",children:u.established_year})]})]}),u.status&&E.jsxs("li",{className:"flex items-start gap-x-3",children:[E.jsx(km,{className:"h-5 w-5 text-slate-400 mt-0.5 flex-shrink-0"}),E.jsxs("div",{children:[E.jsx("strong",{className:"font-semibold text-slate-200 block",children:"Tnh trng"}),E.jsx("span",{className:"text-slate-300",children:u.status})]})]}),u.additional_info&&E.jsxs("li",{className:"sm:col-span-2 flex items-start gap-x-3",children:[E.jsx(tc,{className:"h-5 w-5 text-slate-400 mt-0.5 flex-shrink-0"}),E.jsxs("div",{children:[E.jsx("strong",{className:"font-semibold text-slate-200 block mb-2",children:"Thng s khc"}),E.jsx("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-1 text-slate-300",children:Object.entries(u.additional_info).map(([U,ee])=>E.jsxs(Fs.Fragment,{children:[E.jsxs("dt",{className:"font-medium text-slate-400",children:[U,":"]}),E.jsx("dd",{children:ee})]},U))})]})]}),de.length>0&&E.jsxs("li",{className:"sm:col-span-2 flex items-start gap-x-3",children:[E.jsx(xm,{className:"h-5 w-5 text-slate-400 mt-0.5 flex-shrink-0"}),E.jsxs("div",{children:[E.jsxs("strong",{className:"font-semibold text-slate-200 block mb-2",children:["Nhn vt lin quan (",de.length,")"]}),E.jsx("div",{className:"flex flex-wrap gap-2",children:de.map(U=>E.jsx("button",{onClick:()=>a==null?void 0:a(U),className:"text-xs font-semibold text-sky-300 hover:text-sky-200 bg-sky-500/10 hover:bg-sky-500/20 px-3 py-1.5 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-sky-400",children:U.full_name},U.person_id))})]})]})]})})]}),E.jsx(Uw,{facts:(C==null?void 0:C.funFacts)??null,isLoading:N}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-sky-400 mb-4 flex items-center",children:[E.jsx(Jh,{className:"h-6 w-6 mr-3"}),"Dng thi gian"]}),E.jsx("ul",{className:"space-y-8 border-l-2 border-slate-600",children:Se.length>0?Se.map((U,ee)=>E.jsx(zw,{event:U,isLast:ee===Se.length-1},U.event_id)):E.jsx("p",{className:"pl-8 text-sm text-slate-400 italic",children:"Cha c thng tin s kin."})})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-sky-400 mb-3 flex items-center",children:[E.jsx(gc,{className:"h-6 w-6 mr-3"}),"Th vin nh"]}),se.length>0?E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"relative w-full aspect-video bg-slate-900/50 rounded-lg overflow-hidden group shadow-lg",children:[E.jsx("img",{src:((je=se[q])==null?void 0:je.media_url)||"",alt:((Re=se[q])==null?void 0:Re.caption)||"Selected view",className:"w-full h-full object-cover transition-opacity duration-300 ease-in-out animate-fade-in-image"},(me=se[q])==null?void 0:me.media_id),se.length>1&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:Q,className:"absolute left-3 top-1/2 -translate-y-1/2 p-2 bg-black/40 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-black/60 focus:outline-none focus:ring-2 focus:ring-sky-400 z-10",children:E.jsx(Us,{className:"h-6 w-6"})}),E.jsx("button",{onClick:Ie,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 bg-black/40 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-black/60 focus:outline-none focus:ring-2 focus:ring-sky-400 z-10",children:E.jsx(Bs,{className:"h-6 w-6"})})]})]}),se.length>1&&E.jsxs("div",{className:"relative",children:[E.jsx("div",{ref:te,className:"video-thumbnail-container flex overflow-x-auto space-x-3 py-2 px-1",children:se.map((U,ee)=>E.jsx("button",{ref:O=>{j.current[ee]=O},onClick:()=>B(ee),className:`relative w-28 h-20 flex-shrink-0 rounded-lg overflow-hidden transition-all duration-300 transform focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 ${q===ee?"ring-sky-400 scale-105 shadow-lg":"ring-transparent hover:scale-105"}`,children:E.jsx("img",{src:U.media_url,alt:U.caption,className:`w-full h-full object-cover transition-opacity ${q===ee?"opacity-100":"opacity-70 hover:opacity-100"}`})},U.media_id))}),oe&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:()=>ue("left"),className:"absolute top-1/2 -translate-y-1/2 left-1 z-10 p-1.5 bg-slate-800/60 hover:bg-slate-800/90 backdrop-blur-sm text-white rounded-full shadow-lg transition-all","aria-label":"Scroll thumbnails left",children:E.jsx(Us,{className:"h-5 w-5"})}),E.jsx("button",{onClick:()=>ue("right"),className:"absolute top-1/2 -translate-y-1/2 right-1 z-10 p-1.5 bg-slate-800/60 hover:bg-slate-800/90 backdrop-blur-sm text-white rounded-full shadow-lg transition-all","aria-label":"Scroll thumbnails right",children:E.jsx(Bs,{className:"h-5 w-5"})})]})]})]}):E.jsx("p",{className:"text-sm text-slate-400 italic",children:"Cha c hnh nh."})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-sky-400 mb-3 flex items-center",children:[E.jsx(Kh,{className:"h-6 w-6 mr-3"}),"Th vin Video"]}),Le.length>0?E.jsxs("div",{className:"space-y-3",children:[E.jsx("div",{className:"w-full aspect-video bg-black rounded-lg overflow-hidden shadow-lg",children:(()=>{const U=Le[J];if(!U)return null;const ee=kp(U.media_url);return ee?E.jsx("iframe",{src:ee,title:U.caption,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"},U.media_id):E.jsx("video",{src:U.media_url,controls:!0,className:"w-full h-full",children:"Trnh duyt ca bn khng h tr video."},U.media_id)})()}),Le.length>1&&E.jsx("div",{className:"video-thumbnail-container flex overflow-x-auto space-x-3 py-2 -mx-6 px-6",children:Le.map((U,ee)=>E.jsxs("button",{onClick:()=>Y(ee),className:`relative w-40 flex-shrink-0 aspect-video rounded-lg overflow-hidden transition-all duration-300 transform focus:outline-none ${J===ee?"ring-2 ring-sky-400 scale-105 shadow-lg":"ring-1 ring-transparent hover:scale-105"}`,children:[E.jsx("img",{src:U.thumbnail_url||"https://picsum.photos/200/120",alt:U.caption,className:`w-full h-full object-cover transition-opacity ${J===ee?"opacity-100":"opacity-75 hover:opacity-100"}`}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),E.jsx("p",{className:"absolute bottom-1.5 left-2 right-2 text-xs font-semibold text-white truncate",children:U.caption}),J===ee&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:E.jsx(_c,{className:"h-8 w-8 text-white/80"})})]},U.media_id))})]}):E.jsx("p",{className:"text-sm text-slate-400 italic",children:"Cha c video."})]})]})};delete zs.Icon.Default.prototype._getIconUrl;zs.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const Oh=i=>{const e=`
    <div style="position: relative; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center;">
      ${i?'<div class="marker-pulsate" style="position: absolute; width: 32px; height: 32px; background-color: #38bdf8; border-radius: 50%;"></div>':""}
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#0ea5e9" style="position: relative; z-index: 1; width: 32px; height: 32px; filter: drop-shadow(0 2px 3px rgba(0,0,0,0.5));">
        <path fill-rule="evenodd" d="M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd" />
      </svg>
    </div>
  `;return zs.divIcon({html:e,className:"",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]})},Vw=({selectedSite:i,isModalOpen:e})=>{const r=Ym();return Z.useEffect(()=>{const a=setTimeout(()=>r.invalidateSize(),350);return()=>clearTimeout(a)},[e,r]),Z.useEffect(()=>{if(i){const a=[i.latitude,i.longitude];r.flyTo(a,15,{animate:!0,duration:1})}},[i,r]),null},Hw=({site:i,isSelected:e,onSiteSelect:r,onShowDetailModal:a,defaultIcon:u,selectedIcon:p,autoPanPadding:m})=>{const v=Z.useRef(null);Z.useEffect(()=>{e&&v.current&&v.current.openPopup()},[e]);const y=Z.useMemo(()=>({click:()=>{r(i)}}),[r,i]),T=Z.useMemo(()=>({remove:()=>{r(null)}}),[r]);return E.jsx(Xm,{ref:v,position:[i.latitude,i.longitude],icon:e?p:u,eventHandlers:y,children:E.jsx(jm,{className:"custom-popup",minWidth:256,eventHandlers:T,autoPanPadding:m,children:E.jsx("div",{className:"w-64",children:E.jsx(Ap,{siteId:i.site_id,isModal:!1,onShowDetailModal:a})})})})},bw=({sites:i,selectedSite:e,onSiteSelect:r,onShowDetailModal:a,isModalOpen:u})=>{const p=[16.0544,108.2022],[m,v]=Z.useState(zs.point(0,0));Z.useEffect(()=>{const C=()=>{const N=window.innerWidth<768;let M=20,q=20;if(N){const B=document.querySelector("header.md\\:hidden");M=((B==null?void 0:B.offsetHeight)||0)+20}else{const B=document.querySelector("aside.md\\:relative");q=((B==null?void 0:B.offsetWidth)||0)+20}v(zs.point(q,M))},S=setTimeout(C,100);return window.addEventListener("resize",C),()=>{clearTimeout(S),window.removeEventListener("resize",C)}},[]);const y=Z.useMemo(()=>Oh(!1),[]),T=Z.useMemo(()=>Oh(!0),[]);return E.jsxs(Qm,{center:p,zoom:12,scrollWheelZoom:!0,className:"h-full w-full z-10",children:[E.jsx(Vw,{selectedSite:e,isModalOpen:u}),E.jsx(eg,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png"}),i.map(C=>E.jsx(Hw,{site:C,isSelected:(e==null?void 0:e.site_id)===C.site_id,onSiteSelect:r,onShowDetailModal:a,defaultIcon:y,selectedIcon:T,autoPanPadding:m},C.site_id))]})},Gw=({site:i,onClose:e,onPersonSelect:r})=>E.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-0 md:p-4 animate-fade-in",onClick:e,children:[E.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out;
        }
      `}),E.jsxs("div",{className:"bg-slate-800 md:rounded-lg shadow-xl w-full h-full md:h-auto md:max-w-3xl md:max-h-[90vh] flex flex-col text-slate-200 border border-slate-700",onClick:a=>a.stopPropagation(),children:[E.jsxs("header",{className:"p-4 border-b border-slate-700 flex justify-between items-center flex-shrink-0",children:[E.jsx("h2",{className:"text-2xl font-bold text-cyan-400",children:i.site_name}),E.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors p-1 rounded-full hover:bg-slate-600","aria-label":"ng",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsx("div",{className:"p-6 overflow-y-auto",children:E.jsx(Ap,{siteId:i.site_id,isModal:!0,onPersonSelect:r})})]})]}),ec=new Map,qw=i=>{if(!i)return null;let e=null;const r=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,a=i.match(r);if(a&&a[1]&&(e=a[1]),e){const u=new URLSearchParams({autoplay:"0",rel:"0",modestbranding:"1",iv_load_policy:"3"});return`https://www.youtube.com/embed/${e}?${u.toString()}`}return null},Ow=()=>E.jsxs("div",{className:"animate-pulse grid grid-cols-1 md:grid-cols-3 gap-8",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsx("div",{className:"h-40 w-40 bg-slate-700 rounded-full mx-auto"}),E.jsx("div",{className:"h-6 bg-slate-700 rounded w-3/4 mx-auto"}),E.jsx("div",{className:"h-4 bg-slate-700 rounded w-1/2 mx-auto"})]}),E.jsxs("div",{className:"md:col-span-2 space-y-8",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("div",{className:"h-4 bg-slate-700 rounded w-full"}),E.jsx("div",{className:"h-4 bg-slate-700 rounded w-5/6"})]}),E.jsxs("div",{children:[E.jsx("div",{className:"h-8 bg-slate-700 rounded w-1/3 mb-4"}),E.jsx("div",{className:"h-20 bg-slate-700 rounded"})]}),E.jsxs("div",{children:[E.jsx("div",{className:"h-8 bg-slate-700 rounded w-1/3 mb-4"}),E.jsx("div",{className:"h-40 bg-slate-700 rounded-lg"})]}),E.jsxs("div",{children:[E.jsx("div",{className:"h-8 bg-slate-700 rounded w-1/3 mb-4"}),E.jsx("div",{className:"h-40 bg-slate-700 rounded-lg"})]})]})]}),Ww=({personDetail:i})=>{const[e,r]=Z.useState(""),[a,u]=Z.useState(!0);return Z.useEffect(()=>{(async()=>{u(!0);const m={name:i.full_name,birth_year:i.birth_year,death_year:i.death_year,biography:i.biography},v=await Lw(i.person_id.toString(),m);r(v),u(!1)})()},[i]),a?E.jsxs("div",{className:"animate-pulse space-y-2 mb-6",children:[E.jsx("div",{className:"h-3 bg-slate-600 rounded"}),E.jsx("div",{className:"h-3 bg-slate-600 rounded"}),E.jsx("div",{className:"h-3 bg-slate-600 rounded w-4/5"})]}):E.jsx("p",{className:"text-slate-300 mb-6 text-base leading-relaxed",children:e})},Zw=({event:i,isLast:e,onSiteSelect:r})=>{const a=i.related_site_id&&i.related_site_name;return E.jsxs("li",{className:"relative pl-8",children:[E.jsx("div",{className:"absolute -left-[7px] top-1 h-3 w-3 bg-sky-500 rounded-full border-2 border-slate-800"}),!e&&E.jsx("div",{className:"absolute left-0 top-1 h-full w-0.5 bg-slate-600"}),E.jsx("p",{className:"font-semibold text-lg text-slate-100",children:i.event_name}),i.start_date&&E.jsx("p",{className:"text-xs text-slate-400 mb-2 font-mono",children:new Date(i.start_date).toLocaleDateString("vi-VN")}),E.jsx("p",{className:"text-sm text-slate-300 leading-relaxed mb-3",children:i.description}),a&&E.jsxs("button",{onClick:()=>r(i.related_site_id),className:"flex items-center text-xs font-semibold text-sky-400 hover:text-sky-300 transition-colors group bg-sky-500/10 hover:bg-sky-500/20 px-3 py-1.5 rounded-full",children:[E.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Xem a im: ",i.related_site_name]})]})},Jw=({personId:i,onSiteSelect:e})=>{var de,Se,Ie;const[r,a]=Z.useState(null),[u,p]=Z.useState(!0),[m,v]=Z.useState(null),[y,T]=Z.useState(0),[C,S]=Z.useState(0),N=Z.useRef(null),M=Z.useRef([]),[q,B]=Z.useState(!1);Z.useEffect(()=>{(async()=>{if(ec.has(i)){a(ec.get(i)),p(!1);return}try{p(!0),v(null),T(0),S(0);const ue=await lg(i);ue?(ec.set(i,ue),a(ue)):v("Khng tm thy thng tin chi tit cho nhn vt ny.")}catch(ue){v(" xy ra li khi ti d liu."),console.error(ue)}finally{p(!1)}})()},[i]);const J=Z.useMemo(()=>{if(!r)return[];const Q=r.events.flatMap(ue=>ue.media||[]);return[...r.media,...Q]},[r]),Y=Z.useMemo(()=>J.filter(Q=>Q.media_type==="image"),[J]),te=Z.useMemo(()=>J.filter(Q=>Q.media_type==="video"),[J]),j=Z.useMemo(()=>{var ue;if(!Y||Y.length===0)return null;const Q=Y.find(Fe=>Fe.caption.includes("Chn dung")||Fe.caption.includes("Tng i"));return(Q==null?void 0:Q.media_url)||((ue=Y[0])==null?void 0:ue.media_url)},[Y]),oe=Z.useMemo(()=>r!=null&&r.events?[...r.events].sort((Q,ue)=>{const Fe=Q.start_date?new Date(Q.start_date).getTime():-1/0,je=ue.start_date?new Date(ue.start_date).getTime():-1/0;return Fe-je}):[],[r==null?void 0:r.events]);Z.useEffect(()=>{var Q;y>0&&Y.length>0&&M.current[y]&&((Q=M.current[y])==null||Q.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}))},[y,Y.length]),Z.useEffect(()=>{const Q=()=>{if(N.current){const{scrollWidth:Fe,clientWidth:je}=N.current;B(Fe>je)}},ue=setTimeout(Q,100);return window.addEventListener("resize",Q),()=>{clearTimeout(ue),window.removeEventListener("resize",Q)}},[Y]);const pe=()=>{Y.length>0&&T(Q=>(Q+1)%Y.length)},he=()=>{Y.length>0&&T(Q=>(Q-1+Y.length)%Y.length)},se=Q=>{if(N.current){const ue=N.current.clientWidth*.8;N.current.scrollBy({left:Q==="left"?-ue:ue,behavior:"smooth"})}},Le=Q=>{switch(Q){case"Qu qun":return Pr;case"Trnh  hc vn":return Yh;case"L lun chnh tr":return Am;case"Ngh nghip, chc v":return tc;default:return tc}};return u?E.jsx(Ow,{}):m?E.jsx("p",{className:"text-red-400 italic p-3",children:m}):r?E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-x-8",children:[E.jsxs("div",{className:"flex flex-col items-center text-center mb-8 md:mb-0",children:[E.jsx("div",{className:"w-40 h-40 rounded-full overflow-hidden bg-slate-700 mb-4 ring-4 ring-slate-600 shadow-lg flex items-center justify-center",children:j?E.jsx("img",{src:j,alt:`Chn dung ${r.full_name}`,className:"w-full h-full object-cover"}):E.jsx(_l,{className:"h-20 w-20 text-slate-500"})}),E.jsx("h3",{className:"text-xl font-bold text-slate-100",children:r.full_name}),E.jsxs("p",{className:"text-slate-400 font-mono",children:["(",r.birth_year," - ",r.death_year,")"]}),r.additional_info&&E.jsx("div",{className:"mt-6 pt-6 border-t border-slate-700 text-left w-full space-y-4",children:Object.entries(r.additional_info).map(([Q,ue])=>{const Fe=Le(Q);return E.jsxs("div",{className:"flex items-start gap-x-3",children:[E.jsx(Fe,{className:"h-5 w-5 text-slate-400 mt-0.5 flex-shrink-0"}),E.jsxs("div",{children:[E.jsx("strong",{className:"font-semibold text-slate-200 block text-sm",children:Q}),E.jsx("span",{className:"text-slate-300 text-sm",children:ue})]})]},Q)})})]}),E.jsxs("div",{className:"md:col-span-2 space-y-8",children:[E.jsx(Ww,{personDetail:r}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-sky-400 mb-4 flex items-center",children:[E.jsx(Jh,{className:"h-6 w-6 mr-3"}),"Dng thi gian S kin"]}),E.jsx("ul",{className:"space-y-8 border-l-2 border-slate-600",children:oe.length>0?oe.map((Q,ue)=>E.jsx(Zw,{event:Q,isLast:ue===oe.length-1,onSiteSelect:e},Q.event_id)):E.jsx("p",{className:"pl-8 text-sm text-slate-400 italic",children:"Cha c thng tin s kin."})})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-sky-400 mb-3 flex items-center",children:[E.jsx(gc,{className:"h-6 w-6 mr-3"}),"Th vin nh"]}),Y.length>0?E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"relative w-full aspect-video bg-slate-900/50 rounded-lg overflow-hidden group shadow-lg",children:[E.jsx("img",{src:((de=Y[y])==null?void 0:de.media_url)||"",alt:((Se=Y[y])==null?void 0:Se.caption)||"Selected view",className:"w-full h-full object-cover transition-opacity duration-300 ease-in-out animate-fade-in-image"},(Ie=Y[y])==null?void 0:Ie.media_id),Y.length>1&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:he,className:"absolute left-3 top-1/2 -translate-y-1/2 p-2 bg-black/40 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-black/60 focus:outline-none focus:ring-2 focus:ring-sky-400 z-10",children:E.jsx(Us,{className:"h-6 w-6"})}),E.jsx("button",{onClick:pe,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 bg-black/40 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-black/60 focus:outline-none focus:ring-2 focus:ring-sky-400 z-10",children:E.jsx(Bs,{className:"h-6 w-6"})})]})]}),Y.length>1&&E.jsxs("div",{className:"relative",children:[E.jsx("div",{ref:N,className:"video-thumbnail-container flex overflow-x-auto space-x-3 py-2 px-1",children:Y.map((Q,ue)=>E.jsx("button",{ref:Fe=>{M.current[ue]=Fe},onClick:()=>T(ue),className:`relative w-28 h-20 flex-shrink-0 rounded-lg overflow-hidden transition-all duration-300 transform focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 ${y===ue?"ring-sky-400 scale-105 shadow-lg":"ring-transparent hover:scale-105"}`,children:E.jsx("img",{src:Q.media_url,alt:Q.caption,className:`w-full h-full object-cover transition-opacity ${y===ue?"opacity-100":"opacity-70 hover:opacity-100"}`})},Q.media_id))}),q&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:()=>se("left"),className:"absolute top-1/2 -translate-y-1/2 left-1 z-10 p-1.5 bg-slate-800/60 hover:bg-slate-800/90 backdrop-blur-sm text-white rounded-full shadow-lg transition-all","aria-label":"Scroll thumbnails left",children:E.jsx(Us,{className:"h-5 w-5"})}),E.jsx("button",{onClick:()=>se("right"),className:"absolute top-1/2 -translate-y-1/2 right-1 z-10 p-1.5 bg-slate-800/60 hover:bg-slate-800/90 backdrop-blur-sm text-white rounded-full shadow-lg transition-all","aria-label":"Scroll thumbnails right",children:E.jsx(Bs,{className:"h-5 w-5"})})]})]})]}):E.jsx("p",{className:"text-sm text-slate-400 italic",children:"Cha c hnh nh."})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-sky-400 mb-3 flex items-center",children:[E.jsx(Kh,{className:"h-6 w-6 mr-3"}),"Th vin Video"]}),te.length>0?E.jsxs("div",{className:"space-y-3",children:[E.jsx("div",{className:"w-full aspect-video bg-black rounded-lg overflow-hidden shadow-lg",children:(()=>{const Q=te[C];if(!Q)return null;const ue=qw(Q.media_url);return ue?E.jsx("iframe",{src:ue,title:Q.caption,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"},Q.media_id):E.jsx("video",{src:Q.media_url,controls:!0,className:"w-full h-full",children:"Trnh duyt ca bn khng h tr video."},Q.media_id)})()}),te.length>1&&E.jsx("div",{className:"video-thumbnail-container flex overflow-x-auto space-x-3 py-2 -mx-6 px-6",children:te.map((Q,ue)=>E.jsxs("button",{onClick:()=>S(ue),className:`relative w-40 flex-shrink-0 aspect-video rounded-lg overflow-hidden transition-all duration-300 transform focus:outline-none ${C===ue?"ring-2 ring-sky-400 scale-105 shadow-lg":"ring-1 ring-transparent hover:scale-105"}`,children:[E.jsx("img",{src:Q.thumbnail_url||"https://picsum.photos/200/120",alt:Q.caption,className:`w-full h-full object-cover transition-opacity ${C===ue?"opacity-100":"opacity-75 hover:opacity-100"}`}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),E.jsx("p",{className:"absolute bottom-1.5 left-2 right-2 text-xs font-semibold text-white truncate",children:Q.caption}),C===ue&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:E.jsx(_c,{className:"h-8 w-8 text-white/80"})})]},Q.media_id))})]}):E.jsx("p",{className:"text-sm text-slate-400 italic",children:"Cha c video."})]})]})]}):E.jsx("p",{className:"text-slate-400 p-3",children:"Khng c d liu."})},Kw=({person:i,onClose:e,onSiteSelect:r,sites:a})=>{const u=p=>a.find(m=>m.site_id===p);return E.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-0 md:p-4 animate-fade-in",onClick:e,children:[E.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out;
        }
      `}),E.jsxs("div",{className:"bg-slate-800 md:rounded-lg shadow-xl w-full h-full md:h-auto md:max-w-3xl md:max-h-[90vh] flex flex-col text-slate-200 border border-slate-700",onClick:p=>p.stopPropagation(),children:[E.jsxs("header",{className:"p-4 border-b border-slate-700 flex justify-between items-center flex-shrink-0",children:[E.jsx("h2",{className:"text-2xl font-bold text-cyan-400",children:i.full_name}),E.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors p-1 rounded-full hover:bg-slate-600","aria-label":"ng",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsx("div",{className:"p-6 overflow-y-auto",children:E.jsx(Jw,{personId:i.person_id,onSiteSelect:p=>{const m=u(p);m&&r(m)}})})]})]})};function Yw(i,e){const[r,a]=Z.useState(i);return Z.useEffect(()=>{const u=setTimeout(()=>{a(i)},e);return()=>{clearTimeout(u)}},[i,e]),r}const $w=()=>{const[i,e]=Z.useState([]),[r,a]=Z.useState([]),[u,p]=Z.useState(!0),[m,v]=Z.useState("sites"),[y,T]=Z.useState(""),[C,S]=Z.useState("all"),N=Yw(y,300),[M,q]=Z.useState(null),[B,J]=Z.useState(null),[Y,te]=Z.useState(!1),[j,oe]=Z.useState(!1),pe=Z.useRef(!1);Z.useEffect(()=>{(async()=>{try{p(!0);const[U,ee]=await Promise.all([rg(),ag()]);e(U),a(ee)}catch(U){console.error("Failed to fetch initial data:",U)}finally{p(!1)}})()},[]);const he=Z.useMemo(()=>{const me=new Set(i.map(U=>U.site_type));return["all",...Array.from(me).sort()]},[i]),se=Z.useMemo(()=>{const me=N.toLowerCase();if(m==="persons")return me?r.filter(ee=>ee.full_name.toLowerCase().includes(me)):r;let U=i;return C!=="all"&&(U=U.filter(ee=>ee.site_type===C)),me&&(U=U.filter(ee=>ee.site_name.toLowerCase().includes(me))),U},[i,r,N,C,m]);Z.useEffect(()=>{M&&m==="sites"&&!se.find(me=>me.site_id===M.site_id)&&q(null)},[se,M,m]);const Le=Z.useCallback(()=>{M&&(pe.current=!0,te(!0),setTimeout(()=>{pe.current=!1},100))},[M]),de=Z.useCallback(()=>{te(!1),setTimeout(()=>{q(null),J(null)},300)},[]),Se=Z.useCallback(me=>{J(null),setTimeout(()=>{q(me),te(!0),v("sites")},300)},[]),Ie=Z.useCallback(me=>{q(me),te(!0),oe(!1)},[]),Q=Z.useCallback(me=>{pe.current&&me===null||(q(me),me&&te(!1))},[]),ue=Z.useCallback(me=>{J(me),te(!0),oe(!1)},[]),Fe=Z.useCallback(me=>{te(!1),q(null),setTimeout(()=>{J(me),te(!0)},300)},[]),je=Z.useCallback(me=>{"site_id"in me?(m!=="sites"&&v("sites"),q(me),te(!1)):(m!=="persons"&&v("persons"),J(me),te(!0))},[m]),Re=Z.useMemo(()=>{const me=y!==""||m==="sites"&&C!=="all";return m==="sites"?me?"Kt qu tm kim":"a im ni bt":me?"Kt qu tm kim":"Nhn vt Lch s"},[y,C,m]);return E.jsxs("div",{className:"h-screen w-screen flex flex-col md:flex-row relative overflow-hidden bg-slate-900",children:[E.jsxs("header",{className:"md:hidden fixed top-0 left-0 right-0 z-30 bg-slate-800/80 backdrop-blur-lg p-2.5 space-y-2.5 shadow-lg border-b border-slate-700/80",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("button",{onClick:()=>oe(!0),className:"p-2 text-white bg-slate-700/50 rounded-md shadow-sm transition-colors hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-sky-500","aria-label":"M menu",children:E.jsx(Pm,{className:"h-5 w-5"})}),E.jsx(Rm,{allSites:i,allPersons:r,viewMode:m,onSelect:je})]}),E.jsx($h,{viewMode:m,onSetViewMode:v})]}),j&&E.jsx("div",{onClick:()=>oe(!1),className:"fixed inset-0 bg-black bg-opacity-60 z-30 md:hidden animate-fade-in-overlay","aria-hidden":"true"}),E.jsx(Lm,{isOpen:j,onClose:()=>oe(!1),items:se,viewMode:m,onSetViewMode:v,listTitle:Re,onSearch:T,onFilter:S,siteTypes:he,selectedType:C,isLoading:u,onSiteSelect:Ie,onPersonSelect:ue,selectedItem:M||B}),E.jsx("main",{className:"flex-grow h-full w-full relative pt-28 md:pt-0",children:E.jsx(bw,{sites:i,selectedSite:M,onSiteSelect:Q,onShowDetailModal:Le,isModalOpen:Y})}),M&&Y&&E.jsx(Gw,{site:M,onClose:de,onPersonSelect:Fe}),B&&Y&&E.jsx(Kw,{person:B,onClose:de,onSiteSelect:Se,sites:i})]})},Mp=document.getElementById("root");if(!Mp)throw new Error("Could not find root element to mount to");const Qw=wm.createRoot(Mp);Qw.render(E.jsx(Fs.StrictMode,{children:E.jsx($w,{})}));
